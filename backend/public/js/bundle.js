!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=71)}([function(t,e,r){"use strict";var n=r(29);const{toString:i}=Object.prototype,{getPrototypeOf:o}=Object,a=(s=Object.create(null),t=>{const e=i.call(t);return s[e]||(s[e]=e.slice(8,-1).toLowerCase())});var s;const u=t=>(t=t.toLowerCase(),e=>a(e)===t),c=t=>e=>typeof e===t,{isArray:l}=Array,h=c("undefined");const f=u("ArrayBuffer");const d=c("string"),p=c("function"),m=c("number"),y=t=>null!==t&&"object"==typeof t,g=t=>{if("object"!==a(t))return!1;const e=o(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in t||Symbol.iterator in t)},v=u("Date"),b=u("File"),_=u("Blob"),w=u("FileList"),A=u("URLSearchParams");function E(t,e,{allOwnKeys:r=!1}={}){if(null==t)return;let n,i;if("object"!=typeof t&&(t=[t]),l(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(n=0;n<o;n++)a=i[n],e.call(null,t[a],a,t)}}const M=(S="undefined"!=typeof Uint8Array&&o(Uint8Array),t=>S&&t instanceof S);var S;const T=u("HTMLFormElement"),R=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),O=u("RegExp"),k=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};E(r,(r,i)=>{!1!==e(r,i,t)&&(n[i]=r)}),Object.defineProperties(t,n)};e.a={isArray:l,isArrayBuffer:f,isBuffer:function(t){return null!==t&&!h(t)&&null!==t.constructor&&!h(t.constructor)&&p(t.constructor.isBuffer)&&t.constructor.isBuffer(t)},isFormData:t=>t&&("function"==typeof FormData&&t instanceof FormData||"[object FormData]"===i.call(t)||p(t.toString)&&"[object FormData]"===t.toString()),isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&f(t.buffer),e},isString:d,isNumber:m,isBoolean:t=>!0===t||!1===t,isObject:y,isPlainObject:g,isUndefined:h,isDate:v,isFile:b,isBlob:_,isRegExp:O,isFunction:p,isStream:t=>y(t)&&p(t.pipe),isURLSearchParams:A,isTypedArray:M,isFileList:w,forEach:E,merge:function t(){const e={},r=(r,n)=>{g(e[n])&&g(r)?e[n]=t(e[n],r):g(r)?e[n]=t({},r):l(r)?e[n]=r.slice():e[n]=r};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&E(arguments[t],r);return e},extend:(t,e,r,{allOwnKeys:i}={})=>(E(e,(e,i)=>{r&&p(e)?t[i]=Object(n.a)(e,r):t[i]=e},{allOwnKeys:i}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},toFlatObject:(t,e,r,n)=>{let i,a,s;const u={};if(e=e||{},null==t)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)s=i[a],n&&!n(s,t,e)||u[s]||(e[s]=t[s],u[s]=!0);t=!1!==r&&o(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},kindOf:a,kindOfTest:u,endsWith:(t,e,r)=>{t=String(t),(void 0===r||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return-1!==n&&n===r},toArray:t=>{if(!t)return null;if(l(t))return t;let e=t.length;if(!m(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},forEachEntry:(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let n;for(;(n=r.next())&&!n.done;){const r=n.value;e.call(t,r[0],r[1])}},matchAll:(t,e)=>{let r;const n=[];for(;null!==(r=t.exec(e));)n.push(r);return n},isHTMLForm:T,hasOwnProperty:R,hasOwnProp:R,reduceDescriptors:k,freezeMethods:t=>{k(t,(e,r)=>{const n=t[r];p(n)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not read-only method '"+r+"'")}))})},toObjectSet:(t,e)=>{const r={},n=t=>{t.forEach(t=>{r[t]=!0})};return l(t)?n(t):n(String(t).split(e)),r},toCamelCase:t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(t,e,r){return e.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(t,e)=>(t=+t,Number.isFinite(t)?t:e)}},function(t,e,r){"use strict";r.d(e,"c",(function(){return i})),r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return a})),r.d(e,"d",(function(){return s})),r.d(e,"g",(function(){return u})),r.d(e,"e",(function(){return c})),r.d(e,"f",(function(){return l}));var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var o=function(){return(o=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))}function s(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function u(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function l(t,e,r){if(r||2===arguments.length)for(var n,i=0,o=e.length;i<o;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}Object.create},function(t,e,r){"use strict";var n=r(0);function i(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}n.a.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const o=i.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{a[t]={value:t}}),Object.defineProperties(i,a),Object.defineProperty(o,"isAxiosError",{value:!0}),i.from=(t,e,r,a,s,u)=>{const c=Object.create(o);return n.a.toFlatObject(t,c,(function(t){return t!==Error.prototype}),t=>"isAxiosError"!==t),i.call(c,t.message,e,r,a,s),c.cause=t,c.name=t.name,u&&Object.assign(c,u),c},e.a=i},function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return c})),r.d(e,"b",(function(){return p})),r.d(e,"c",(function(){return d})),r.d(e,"d",(function(){return g})),r.d(e,"e",(function(){return l})),r.d(e,"f",(function(){return v})),r.d(e,"g",(function(){return s})),r.d(e,"h",(function(){return u})),r.d(e,"i",(function(){return w})),r.d(e,"j",(function(){return f})),r.d(e,"k",(function(){return h}));var n=r(1),i=function(t){for(var e=[],r=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=63&i|128):55296==(64512&i)&&n+1<t.length&&56320==(64512&t.charCodeAt(n+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++n)),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=63&i|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=63&i|128)}return e},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),n.push(r[l],r[h],r[f],r[d])}return n.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],r=0,n=0;r<t.length;){var i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[r++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[r++]))<<12|(63&(s=t[r++]))<<6|63&t[r++])-65536;e[n++]=String.fromCharCode(55296+(a>>10)),e[n++]=String.fromCharCode(56320+(1023&a))}else{o=t[r++];var s=t[r++];e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[],i=0;i<t.length;){var o=r[t.charAt(i++)],a=i<t.length?r[t.charAt(i)]:0,s=++i<t.length?r[t.charAt(i)]:64,u=++i<t.length?r[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(n.push(c),64!==s){var l=a<<4&240|s>>2;if(n.push(l),64!==u){var h=s<<6&192|u;n.push(h)}}}return n},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},a=function(t){return function(t){var e=i(t);return o.encodeByteArray(e,!0)}(t).replace(/\./g,"")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function s(t){return u(void 0,t)}function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&"__proto__"!==r&&(t[r]=u(t[r],e[r]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,r){t.resolve=e,t.reject=r}))}return t.prototype.wrapCallback=function(t){var e=this;return function(r,n){r?e.reject(r):e.resolve(n),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(r):t(r,n))}},t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=Object(n.a)({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(s)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}}function f(){return"object"==typeof self&&self.self===self}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var d=function(t){function e(r,n,i){var o=t.call(this,n)||this;return o.code=r,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,p.prototype.create),o}return Object(n.c)(e,t),e}(Error),p=function(){function t(t,e,r){this.service=t,this.serviceName=e,this.errors=r}return t.prototype.create=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?m(o,n):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new d(i,s,n);return u},t}();function m(t,e){return t.replace(y,(function(t,r){var n=e[r];return null!=n?String(n):"<"+r+"?>"}))}var y=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function g(t,e){return Object.prototype.hasOwnProperty.call(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var r=this.W_;if("string"==typeof t)for(var n=0;n<16;n++)r[n]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(n=0;n<16;n++)r[n]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(n=16;n<80;n++){var i=r[n-3]^r[n-8]^r[n-14]^r[n-16];r[n]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(n=0;n<80;n++){n<40?n<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):n<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+r[n]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var r=e-this.blockSize,n=0,i=this.buf_,o=this.inbuf_;n<e;){if(0===o)for(;n<=r;)this.compress_(t,n),n+=this.blockSize;if("string"==typeof t){for(;n<e;)if(i[o]=t.charCodeAt(n),++n,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;n<e;)if(i[o]=t[n],++n,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&e,e/=256;this.compress_(this.buf_);var n=0;for(r=0;r<5;r++)for(var i=24;i>=0;i-=8)t[n]=this.chain_[r]>>i&255,++n;return t}}();function v(t,e){var r=new b(t,e);return r.subscribe.bind(r)}var b=function(){function t(t,e){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(r)})).catch((function(t){r.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,r){var n,i=this;if(void 0===t&&void 0===e&&void 0===r)throw new Error("Missing Observer.");void 0===(n=function(t,e){if("object"!=typeof t||null===t)return!1;for(var r=0,n=e;r<n.length;r++){var i=n[r];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:r}).next&&(n.next=_),void 0===n.error&&(n.error=_),void 0===n.complete&&(n.complete=_);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?n.error(i.finalError):n.complete()}catch(t){}})),this.observers.push(n),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var r=this;this.task.then((function(){if(void 0!==r.observers&&void 0!==r.observers[t])try{e(r.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function _(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function w(t){return t&&t._delegate?t._delegate:t}}).call(this,r(40))},function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r(31),i="undefined"!=typeof URLSearchParams?URLSearchParams:n.a,o=FormData;const a=(()=>{let t;return("undefined"==typeof navigator||"ReactNative"!==(t=navigator.product)&&"NativeScript"!==t&&"NS"!==t)&&("undefined"!=typeof window&&"undefined"!=typeof document)})();var s={isBrowser:!0,classes:{URLSearchParams:i,FormData:o,Blob:Blob},isStandardBrowserEnv:a,protocols:["http","https","file","blob","url","data"]}},function(t,e,r){"use strict";var n=r(0);const i=n.a.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const o=Symbol("internals"),a=Symbol("defaults");function s(t){return t&&String(t).trim().toLowerCase()}function u(t){return!1===t||null==t?t:n.a.isArray(t)?t.map(u):String(t)}function c(t,e,r,i){return n.a.isFunction(i)?i.call(this,e,r):n.a.isString(e)?n.a.isString(i)?-1!==e.indexOf(i):n.a.isRegExp(i)?i.test(e):void 0:void 0}function l(t,e){e=e.toLowerCase();const r=Object.keys(t);let n,i=r.length;for(;i-- >0;)if(n=r[i],e===n.toLowerCase())return n;return null}function h(t,e){t&&this.set(t),this[a]=e||null}Object.assign(h.prototype,{set:function(t,e,r){const i=this;function o(t,e,r){const n=s(e);if(!n)throw new Error("header name must be a non-empty string");const o=l(i,n);(!o||!0===r||!1!==i[o]&&!1!==r)&&(i[o||e]=u(t))}return n.a.isPlainObject(t)?n.a.forEach(t,(t,r)=>{o(t,r,e)}):o(e,t,r),this},get:function(t,e){if(!(t=s(t)))return;const r=l(this,t);if(r){const t=this[r];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}(t);if(n.a.isFunction(e))return e.call(this,t,r);if(n.a.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}},has:function(t,e){if(t=s(t)){const r=l(this,t);return!(!r||e&&!c(0,this[r],r,e))}return!1},delete:function(t,e){const r=this;let i=!1;function o(t){if(t=s(t)){const n=l(r,t);!n||e&&!c(0,r[n],n,e)||(delete r[n],i=!0)}}return n.a.isArray(t)?t.forEach(o):o(t),i},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(t){const e=this,r={};return n.a.forEach(this,(n,i)=>{const o=l(r,i);if(o)return e[o]=u(n),void delete e[i];const a=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,r)=>e.toUpperCase()+r)}(i):String(i).trim();a!==i&&delete e[i],e[a]=u(n),r[a]=!0}),this},toJSON:function(t){const e=Object.create(null);return n.a.forEach(Object.assign({},this[a]||null,this),(r,i)=>{null!=r&&!1!==r&&(e[i]=t&&n.a.isArray(r)?r.join(", "):r)}),e}}),Object.assign(h,{from:function(t){return n.a.isString(t)?new this((t=>{const e={};let r,n,o;return t&&t.split("\n").forEach((function(t){o=t.indexOf(":"),r=t.substring(0,o).trim().toLowerCase(),n=t.substring(o+1).trim(),!r||e[r]&&i[r]||("set-cookie"===r?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)})),e})(t)):t instanceof this?t:new this(t)},accessor:function(t){const e=(this[o]=this[o]={accessors:{}}).accessors,r=this.prototype;function i(t){const i=s(t);e[i]||(!function(t,e){const r=n.a.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(t,r,i){return this[n].call(this,e,t,r,i)},configurable:!0})})}(r,t),e[i]=!0)}return n.a.isArray(t)?t.forEach(i):i(t),this}}),h.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),n.a.freezeMethods(h.prototype),n.a.freezeMethods(h);e.a=h},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.KeyPairEd25519=e.KeyPair=e.PublicKey=e.KeyType=void 0;const i=n(r(54)),o=r(39),a=r(41);var s;function u(t){switch(t.toLowerCase()){case"ed25519":return s.ED25519;default:throw new Error("Unknown key type "+t)}}!function(t){t[t.ED25519=0]="ED25519"}(s=e.KeyType||(e.KeyType={}));class c extends a.Assignable{static from(t){return"string"==typeof t?c.fromString(t):t}static fromString(t){const e=t.split(":");if(1===e.length)return new c({keyType:s.ED25519,data:o.base_decode(e[0])});if(2===e.length)return new c({keyType:u(e[0]),data:o.base_decode(e[1])});throw new Error("Invalid encoded key format, must be <curve>:<encoded key>")}toString(){return`${function(t){switch(t){case s.ED25519:return"ed25519";default:throw new Error("Unknown key type "+t)}}(this.keyType)}:${o.base_encode(this.data)}`}verify(t,e){switch(this.keyType){case s.ED25519:return i.default.sign.detached.verify(t,e,this.data);default:throw new Error("Unknown key type "+this.keyType)}}}e.PublicKey=c;class l{static fromRandom(t){switch(t.toUpperCase()){case"ED25519":return h.fromRandom();default:throw new Error("Unknown curve "+t)}}static fromString(t){const e=t.split(":");if(1===e.length)return new h(e[0]);if(2!==e.length)throw new Error("Invalid encoded key format, must be <curve>:<encoded key>");switch(e[0].toUpperCase()){case"ED25519":return new h(e[1]);default:throw new Error("Unknown curve: "+e[0])}}}e.KeyPair=l;class h extends l{constructor(t){super();const e=i.default.sign.keyPair.fromSecretKey(o.base_decode(t));this.publicKey=new c({keyType:s.ED25519,data:e.publicKey}),this.secretKey=t}static fromRandom(){const t=i.default.sign.keyPair();return new h(o.base_encode(t.secretKey))}sign(t){return{signature:i.default.sign.detached(t,o.base_decode(this.secretKey)),publicKey:this.publicKey}}verify(t,e){return this.publicKey.verify(t,e)}toString(){return"ed25519:"+this.secretKey}getPublicKey(){return this.publicKey}}e.KeyPairEd25519=h},function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(86),i=r(87),o=r(88);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return c(this,t,e,r)}function c(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=f(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(e,r),i=(t=s(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(u.isBuffer(e)){var r=0|d(e.length);return 0===(t=s(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?s(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(l(e),t=s(t,e<0?0:0|d(e)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e){var r=e.length<0?0:0|d(e.length);t=s(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function d(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return F(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return K(t).length;default:if(n)return F(t).length;e=(""+e).toLowerCase(),n=!0}}function m(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return k(this,e,r);case"utf8":case"utf-8":return T(this,e,r);case"ascii":return R(this,e,r);case"latin1":case"binary":return O(this,e,r);case"base64":return S(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function g(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,i);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,n,i){var o,a=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,r/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var l=-1;for(o=r;o<s;o++)if(c(t,o)===c(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(r+u>s&&(r=s-u),o=r;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(c(t,o+f)!==c(e,f)){h=!1;break}if(h)return o}return-1}function b(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function _(t,e,r,n){return H(F(e,t.length-r),t,r,n)}function w(t,e,r,n){return H(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function A(t,e,r,n){return w(t,e,r,n)}function E(t,e,r,n){return H(K(e),t,r,n)}function M(t,e,r,n){return H(function(t,e){for(var r,n,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function S(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function T(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,a,s,u,c=t[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,r){return c(null,t,e,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,r){return function(t,e,r,n){return l(e),e<=0?s(t,e):void 0!==r?"string"==typeof n?s(t,e).fill(r,n):s(t,e).fill(r):s(t,e)}(null,t,e,r)},u.allocUnsafe=function(t){return h(null,t)},u.allocUnsafeSlow=function(t){return h(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=u.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var a=t[r];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):m.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,r,n,i){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(o,a),c=this.slice(n,i),l=t.slice(e,r),h=0;h<s;++h)if(c[h]!==l[h]){o=c[h],a=l[h];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},u.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},u.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},u.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,t,e,r);case"utf8":case"utf-8":return _(this,t,e,r);case"ascii":return w(this,t,e,r);case"latin1":case"binary":return A(this,t,e,r);case"base64":return E(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function O(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function k(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=B(t[o]);return i}function C(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function x(t,e,r,n,i,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function N(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function P(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function U(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(t,e,r,n,o){return o||U(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function L(t,e,r,n,o){return o||U(t,0,r,8),i.write(t,e,r,n,52,8),r+8}u.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=u.prototype;else{var i=e-t;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},u.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},u.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},u.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||I(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),i.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),i.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||x(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},u.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||x(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},u.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||x(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||x(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||x(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||x(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):P(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||x(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);x(this,t,e,r,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},u.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);x(this,t,e,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},u.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||x(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||x(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):N(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||x(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):N(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||x(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):P(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||x(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):P(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,r){return j(this,t,e,!0,r)},u.prototype.writeFloatBE=function(t,e,r){return j(this,t,e,!1,r)},u.prototype.writeDoubleLE=function(t,e,r){return L(this,t,e,!0,r)},u.prototype.writeDoubleBE=function(t,e,r){return L(this,t,e,!1,r)},u.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},u.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=u.isBuffer(t)?t:F(new u(t,n).toString()),s=a.length;for(o=0;o<r-e;++o)this[o+e]=a[o%s]}return this};var D=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function F(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function K(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(D,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,r(40))},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var t=s(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new p(t,e)),1!==c.length||l||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";(function(t){var n=r(0),i=r(2),o=r(67);function a(t){return n.a.isPlainObject(t)||n.a.isArray(t)}function s(t){return n.a.endsWith(t,"[]")?t.slice(0,-2):t}function u(t,e,r){return t?t.concat(e).map((function(t,e){return t=s(t),!r&&e?"["+t+"]":t})).join(r?".":""):e}const c=n.a.toFlatObject(n.a,{},null,(function(t){return/^is[A-Z]/.test(t)}));e.a=function(e,r,l){if(!n.a.isObject(e))throw new TypeError("target must be an object");r=r||new(o.a||FormData);const h=(l=n.a.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!n.a.isUndefined(e[t])}))).metaTokens,f=l.visitor||v,d=l.dots,p=l.indexes,m=(l.Blob||"undefined"!=typeof Blob&&Blob)&&((y=r)&&n.a.isFunction(y.append)&&"FormData"===y[Symbol.toStringTag]&&y[Symbol.iterator]);var y;if(!n.a.isFunction(f))throw new TypeError("visitor must be a function");function g(e){if(null===e)return"";if(n.a.isDate(e))return e.toISOString();if(!m&&n.a.isBlob(e))throw new i.a("Blob is not supported. Use a Buffer instead.");return n.a.isArrayBuffer(e)||n.a.isTypedArray(e)?m&&"function"==typeof Blob?new Blob([e]):t.from(e):e}function v(t,e,i){let o=t;if(t&&!i&&"object"==typeof t)if(n.a.endsWith(e,"{}"))e=h?e:e.slice(0,-2),t=JSON.stringify(t);else if(n.a.isArray(t)&&function(t){return n.a.isArray(t)&&!t.some(a)}(t)||n.a.isFileList(t)||n.a.endsWith(e,"[]")&&(o=n.a.toArray(t)))return e=s(e),o.forEach((function(t,i){!n.a.isUndefined(t)&&null!==t&&r.append(!0===p?u([e],i,d):null===p?e:e+"[]",g(t))})),!1;return!!a(t)||(r.append(u(i,e,d),g(t)),!1)}const b=[],_=Object.assign(c,{defaultVisitor:v,convertValue:g,isVisitable:a});if(!n.a.isObject(e))throw new TypeError("data must be an object");return function t(e,i){if(!n.a.isUndefined(e)){if(-1!==b.indexOf(e))throw Error("Circular reference detected in "+i.join("."));b.push(e),n.a.forEach(e,(function(e,o){!0===(!(n.a.isUndefined(e)||null===e)&&f.call(r,e,n.a.isString(o)?o.trim():o,i,_))&&t(e,i?i.concat(o):[o])})),b.pop()}}(e),r}}).call(this,r(7).Buffer)},function(t,e,r){"use strict";var n=r(2);function i(t,e,r){n.a.call(this,null==t?"canceled":t,n.a.ERR_CANCELED,e,r),this.name="CanceledError"}r(0).a.inherits(i,n.a,{__CANCEL__:!0}),e.a=i},function(t,e,r){"use strict";var n,i=r(1),o=r(3),a=r(13);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function s(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u,c=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(u||(u={}));var l,h={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},f=u.INFO,d=((n={})[u.DEBUG]="log",n[u.VERBOSE]="log",n[u.INFO]="info",n[u.WARN]="warn",n[u.ERROR]="error",n),p=function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=d[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,s(["["+i+"]  "+t.name+":"],r))}},m=function(){function t(t){this.name=t,this._logLevel=f,this._logHandler=p,this._userLogHandler=null,c.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in u))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?h[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,u.DEBUG],t)),this._logHandler.apply(this,s([this,u.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,u.VERBOSE],t)),this._logHandler.apply(this,s([this,u.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,u.INFO],t)),this._logHandler.apply(this,s([this,u.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,u.WARN],t)),this._logHandler.apply(this,s([this,u.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,s([this,u.ERROR],t)),this._logHandler.apply(this,s([this,u.ERROR],t))},t}();function y(t){c.forEach((function(e){e.setLogLevel(t)}))}var g,v=((l={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",l["bad-app-name"]="Illegal App name: '{$appName}",l["duplicate-app"]="Firebase App named '{$appName}' already exists",l["app-deleted"]="Firebase App named '{$appName}' already deleted",l["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",l["invalid-log-argument"]="First argument to `onLog` must be null or a function.",l),b=new o.b("app","Firebase",v),_=((g={})["@firebase/app"]="fire-core",g["@firebase/analytics"]="fire-analytics",g["@firebase/app-check"]="fire-app-check",g["@firebase/auth"]="fire-auth",g["@firebase/database"]="fire-rtdb",g["@firebase/functions"]="fire-fn",g["@firebase/installations"]="fire-iid",g["@firebase/messaging"]="fire-fcm",g["@firebase/performance"]="fire-perf",g["@firebase/remote-config"]="fire-rc",g["@firebase/storage"]="fire-gcs",g["@firebase/firestore"]="fire-fst",g["fire-js"]="fire-js",g["firebase-wrapper"]="fire-js-all",g),w=new m("@firebase/app"),A=function(){function t(t,e,r){var n=this;this.firebase_=r,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.g)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",(function(){return n}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return n._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var r;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var n=this.container.getProvider(t);return n.isInitialized()||"EXPLICIT"!==(null===(r=n.getComponent())||void 0===r?void 0:r.instantiationMode)||n.initialize(),n.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){w.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw b.create("app-deleted",{appName:this.name_})},t}();A.prototype.name&&A.prototype.options||A.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function E(t){var e={},r=new Map,n={__esModule:!0,initializeApp:function(r,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var a=i;void 0===a.name&&(a.name="[DEFAULT]");var s=a.name;if("string"!=typeof s||!s)throw b.create("bad-app-name",{appName:String(s)});if(Object(o.d)(e,s))throw b.create("duplicate-app",{appName:s});var u=new t(r,a,n);return e[s]=u,u},app:i,registerVersion:function(t,e,r){var n,i=null!==(n=_[t])&&void 0!==n?n:t;r&&(i+="-"+r);var o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void w.warn(c.join(" "))}s(new a.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:y,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw b.create("invalid-log-argument");!function(t,e){for(var r=function(r){var n=null;e&&e.level&&(n=h[e.level]),r.userLogHandler=null===t?null:function(e,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");r>=(null!=n?n:e.logLevel)&&t({level:u[r].toLowerCase(),message:a,args:i,type:e.name})}},n=0,i=c;n<i.length;n++){r(i[n])}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:r,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(t=t||"[DEFAULT]",!Object(o.d)(e,t))throw b.create("no-app",{appName:t});return e[t]}function s(a){var s=a.name;if(r.has(s))return w.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===a.type?n[s]:null;if(r.set(s,a),"PUBLIC"===a.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw b.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==a.serviceProps&&Object(o.h)(u,a.serviceProps),n[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this._getService.bind(this,s);return r.apply(this,a.multipleInstances?t:[])}}for(var c=0,l=Object.keys(e);c<l.length;c++){var h=l[c];e[h]._addComponent(a)}return"PUBLIC"===a.type?n[s]:null}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M=function t(){var e=E(A);return e.INTERNAL=Object(i.a)(Object(i.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.h)(e,t)},createSubscribe:o.f,ErrorFactory:o.b,deepExtend:o.h}),e}(),S=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(Object(o.j)()&&void 0!==self.firebase){w.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var T=self.firebase.SDK_VERSION;T&&T.indexOf("LITE")>=0&&w.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var R=M.initializeApp;M.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.k)()&&w.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),R.apply(void 0,t)};var O,k,C=M;(O=C).INTERNAL.registerComponent(new a.a("platform-logger",(function(t){return new S(t)}),"PRIVATE")),O.registerVersion("@firebase/app","0.6.30",k),O.registerVersion("fire-js","");e.a=C},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(106).Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function c(t,e,r,i){for(var o=0,a=0,s=Math.min(t.length,r),u=e;u<s;u++){var c=t.charCodeAt(u)-48;o*=i,a=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&a<i,"Invalid character"),o+=a}return o}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,u=0,l=r;l<s;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=c(t,l,t.length,e),l=0;l<a;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){l(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(t){o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);r=0!==(o=s>>>24-i&16777215)||a!==this.length-1?f[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=d[t],l=p[t];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(l).toString(t);r=(h=h.idivn(l)).isZero()?m+r:f[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(a,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;l+=(a=(i=0|t.words[p])*(o=0|e.words[d])+h)/67108864|0,h=67108863&a}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var a=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r++]=255&a,r<t.length&&(t[r++]=a>>8&255),r<t.length&&(t[r++]=a>>16&255),6===o?(r<t.length&&(t[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r--]=255&a,r>=0&&(t[r--]=a>>8&255),r>=0&&(t[r--]=a>>16&255),6===o?(r>=0&&(t[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var y=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,c=0,l=0|a[0],h=8191&l,f=l>>>13,d=0|a[1],p=8191&d,m=d>>>13,y=0|a[2],g=8191&y,v=y>>>13,b=0|a[3],_=8191&b,w=b>>>13,A=0|a[4],E=8191&A,M=A>>>13,S=0|a[5],T=8191&S,R=S>>>13,O=0|a[6],k=8191&O,C=O>>>13,I=0|a[7],x=8191&I,N=I>>>13,P=0|a[8],U=8191&P,j=P>>>13,L=0|a[9],D=8191&L,B=L>>>13,F=0|s[0],K=8191&F,H=F>>>13,q=0|s[1],W=8191&q,z=q>>>13,V=0|s[2],G=8191&V,Y=V>>>13,J=0|s[3],X=8191&J,Z=J>>>13,$=0|s[4],Q=8191&$,tt=$>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ct=st>>>13,lt=0|s[8],ht=8191&lt,ft=lt>>>13,dt=0|s[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(c+(n=Math.imul(h,K))|0)+((8191&(i=(i=Math.imul(h,H))+Math.imul(f,K)|0))<<13)|0;c=((o=Math.imul(f,H))+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(p,K),i=(i=Math.imul(p,H))+Math.imul(m,K)|0,o=Math.imul(m,H);var gt=(c+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,z)|0)+Math.imul(f,W)|0))<<13)|0;c=((o=o+Math.imul(f,z)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,K),i=(i=Math.imul(g,H))+Math.imul(v,K)|0,o=Math.imul(v,H),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,z)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,z)|0;var vt=(c+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,Y)|0)+Math.imul(f,G)|0))<<13)|0;c=((o=o+Math.imul(f,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(_,K),i=(i=Math.imul(_,H))+Math.imul(w,K)|0,o=Math.imul(w,H),n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,z)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,z)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Y)|0;var bt=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,X)|0))<<13)|0;c=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(E,K),i=(i=Math.imul(E,H))+Math.imul(M,K)|0,o=Math.imul(M,H),n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,z)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,z)|0,n=n+Math.imul(g,G)|0,i=(i=i+Math.imul(g,Y)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,Y)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Z)|0;var _t=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,Q)|0))<<13)|0;c=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(T,K),i=(i=Math.imul(T,H))+Math.imul(R,K)|0,o=Math.imul(R,H),n=n+Math.imul(E,W)|0,i=(i=i+Math.imul(E,z)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,z)|0,n=n+Math.imul(_,G)|0,i=(i=i+Math.imul(_,Y)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var wt=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;c=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(k,K),i=(i=Math.imul(k,H))+Math.imul(C,K)|0,o=Math.imul(C,H),n=n+Math.imul(T,W)|0,i=(i=i+Math.imul(T,z)|0)+Math.imul(R,W)|0,o=o+Math.imul(R,z)|0,n=n+Math.imul(E,G)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,Y)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var At=(c+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,at)|0)+Math.imul(f,ot)|0))<<13)|0;c=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(x,K),i=(i=Math.imul(x,H))+Math.imul(N,K)|0,o=Math.imul(N,H),n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,z)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,z)|0,n=n+Math.imul(T,G)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,Y)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var Et=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(f,ut)|0))<<13)|0;c=((o=o+Math.imul(f,ct)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(U,K),i=(i=Math.imul(U,H))+Math.imul(j,K)|0,o=Math.imul(j,H),n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,z)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,z)|0,n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(C,G)|0,o=o+Math.imul(C,Y)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(R,X)|0,o=o+Math.imul(R,Z)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,at)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var Mt=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;c=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,H))+Math.imul(B,K)|0,o=Math.imul(B,H),n=n+Math.imul(U,W)|0,i=(i=i+Math.imul(U,z)|0)+Math.imul(j,W)|0,o=o+Math.imul(j,z)|0,n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,Y)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,at)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,at)|0,n=n+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,ct)|0)+Math.imul(v,ut)|0,o=o+Math.imul(v,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ft)|0;var St=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(D,W),i=(i=Math.imul(D,z))+Math.imul(B,W)|0,o=Math.imul(B,z),n=n+Math.imul(U,G)|0,i=(i=i+Math.imul(U,Y)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,Y)|0,n=n+Math.imul(x,X)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(R,rt)|0,o=o+Math.imul(R,nt)|0,n=n+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,ct)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,ct)|0,n=n+Math.imul(g,ht)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,ft)|0;var Tt=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,G),i=(i=Math.imul(D,Y))+Math.imul(B,G)|0,o=Math.imul(B,Y),n=n+Math.imul(U,X)|0,i=(i=i+Math.imul(U,Z)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,Z)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,at)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,at)|0,n=n+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,ct)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,ct)|0,n=n+Math.imul(_,ht)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,ft)|0;var Rt=(c+(n=n+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(v,pt)|0))<<13)|0;c=((o=o+Math.imul(v,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(D,X),i=(i=Math.imul(D,Z))+Math.imul(B,X)|0,o=Math.imul(B,Z),n=n+Math.imul(U,Q)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,at)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,at)|0,n=n+Math.imul(T,ut)|0,i=(i=i+Math.imul(T,ct)|0)+Math.imul(R,ut)|0,o=o+Math.imul(R,ct)|0,n=n+Math.imul(E,ht)|0,i=(i=i+Math.imul(E,ft)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,ft)|0;var Ot=(c+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(w,pt)|0))<<13)|0;c=((o=o+Math.imul(w,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(D,Q),i=(i=Math.imul(D,tt))+Math.imul(B,Q)|0,o=Math.imul(B,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(j,rt)|0,o=o+Math.imul(j,nt)|0,n=n+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,ct)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(R,ht)|0,o=o+Math.imul(R,ft)|0;var kt=(c+(n=n+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,mt)|0)+Math.imul(M,pt)|0))<<13)|0;c=((o=o+Math.imul(M,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(B,rt)|0,o=Math.imul(B,nt),n=n+Math.imul(U,ot)|0,i=(i=i+Math.imul(U,at)|0)+Math.imul(j,ot)|0,o=o+Math.imul(j,at)|0,n=n+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,ct)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ct)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,ft)|0;var Ct=(c+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(R,pt)|0))<<13)|0;c=((o=o+Math.imul(R,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,at))+Math.imul(B,ot)|0,o=Math.imul(B,at),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,ct)|0)+Math.imul(j,ut)|0,o=o+Math.imul(j,ct)|0,n=n+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,ft)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ft)|0;var It=(c+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(C,pt)|0))<<13)|0;c=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,ct))+Math.imul(B,ut)|0,o=Math.imul(B,ct),n=n+Math.imul(U,ht)|0,i=(i=i+Math.imul(U,ft)|0)+Math.imul(j,ht)|0,o=o+Math.imul(j,ft)|0;var xt=(c+(n=n+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,mt)|0)+Math.imul(N,pt)|0))<<13)|0;c=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,ht),i=(i=Math.imul(D,ft))+Math.imul(B,ht)|0,o=Math.imul(B,ft);var Nt=(c+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(j,pt)|0))<<13)|0;c=((o=o+Math.imul(j,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Pt=(c+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(B,pt)|0))<<13)|0;return c=((o=Math.imul(B,mt))+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,u[0]=yt,u[1]=gt,u[2]=vt,u[3]=bt,u[4]=_t,u[5]=wt,u[6]=At,u[7]=Et,u[8]=Mt,u[9]=St,u[10]=Tt,u[11]=Rt,u[12]=Ot,u[13]=kt,u[14]=Ct,u[15]=It,u[16]=xt,u[17]=Nt,u[18]=Pt,0!==c&&(u[19]=c,r.length++),r};function g(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var l=o-c,h=(0|t.words[l])*(0|e.words[c]),f=67108863&h;s=67108863&(f=f+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function v(t,e,r){return g(t,e,r)}function b(t,e){this.x=t,this.y=e}Math.imul||(y=m),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?y(this,t,e):r<63?m(this,t,e):r<1024?g(this,t,e):v(this,t,e)},b.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},b.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},b.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},b.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var h=u,f=c,d=0;d<a;d++){var p=r[l+d],m=n[l+d],y=r[l+d+a],g=n[l+d+a],v=h*y-f*g;g=h*g+f*y,y=v,r[l+d]=p+y,n[l+d]=m+g,r[l+d+a]=p-y,n[l+d+a]=m-g,d!==s&&(v=u*h-c*f,f=u*f+c*h,h=v)}},b.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},b.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},b.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(0==(-8192&o))},b.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},b.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,c,n),this.transform(a,o,s,u,n,i),this.transform(c,o,l,h,n,i);for(var d=0;d<n;d++){var p=s[d]*l[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),v(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,a=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=a>>>26,this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<r;this.words[e]=u|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=r;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,u=n.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);s&&(s.words[h]=f)}return s&&s._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(h)),s.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(u)):(r.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),a.isub(s)):(r.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new T(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var _={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function A(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function T(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function R(t){T.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(A,w),A.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},A.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(E,w),i(M,w),i(S,w),S.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(_[t])return _[t];var e;if("k256"===t)e=new A;else if("p224"===t)e=new E;else if("p192"===t)e=new M;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new S}return _[t]=e,e},T.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},T.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},T.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},T.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},T.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},T.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},T.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},T.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},T.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},T.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},T.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},T.prototype.isqr=function(t){return this.imul(t,t.clone())},T.prototype.sqr=function(t){return this.mul(t,t)},T.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var m=d,y=0;0!==m.cmp(s);y++)m=m.redSqr();n(y<p);var g=this.pow(h,new o(1).iushln(p-y-1));f=f.redMul(g),h=g.redSqr(),d=d.redMul(h),p=y}return f},T.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},T.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===n&&0===l)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}u=26}return i},T.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},T.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new R(t)},i(R,T),R.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},R.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},R.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},R.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},R.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,r(51)(t))},function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return s}));var n=r(1),i=r(3),o=function(){function t(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var r=new i.a;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{var n=this.getOrInitializeService({instanceIdentifier:e});n&&r.resolve(n)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,r=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),n=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(t){if(n)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(t){}try{for(var i=Object(n.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(n.e)(o.value,2),s=a[0],u=a[1],c=this.normalizeInstanceIdentifier(s);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(t){}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(n.b)(this,void 0,void 0,(function(){var t;return Object(n.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(n.f)(Object(n.f)([],Object(n.e)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),Object(n.e)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t="[DEFAULT]"),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,r;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=Object(n.g)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=Object(n.e)(c.value,2),h=l[0],f=l[1];a===this.normalizeInstanceIdentifier(h)&&f.resolve(s)}}catch(t){e={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}return s},t.prototype.onInit=function(t,e){var r,n=this.normalizeInstanceIdentifier(e),i=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;i.add(t),this.onInitCallbacks.set(n,i);var o=this.instances.get(n);return o&&t(o,n),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var r,i,o=this.onInitCallbacks.get(e);if(o)try{for(var a=Object(n.g)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(t,e)}catch(t){}}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}},t.prototype.getOrInitializeService=function(t){var e,r=t.instanceIdentifier,n=t.options,i=void 0===n?{}:n,o=this.instances.get(r);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=r,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(r,o),this.instancesOptions.set(r,i),this.invokeOnInitCallbacks(o,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,o)}catch(t){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();var s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.MINTBASE_32x32_BASE64_DARK_LOGO=e.SEVENTY_TWO=e.TWENTY_FOUR=e.MIME_TYPES=e.ERROR_MESSAGES=e.REGEX_URL=e.FILE_UPLOAD_SIZE_LIMIT=e.VALID_FILE_FORMATS=e.DEPLOY_STORE_COST=e.ZERO=e.ONE_YOCTO=e.MAX_GAS=e.DEFAULT_ROYALTY_PERCENT=e.CLOUD_STORAGE_CONFIG=e.FACTORY_CONTRACT_CALL_METHODS=e.FACTORY_CONTRACT_VIEW_METHODS=e.MARKET_CONTRACT_CALL_METHODS=e.MARKET_CONTRACT_VIEW_METHODS=e.STORE_CONTRACT_CALL_METHODS=e.STORE_CONTRACT_VIEW_METHODS=e.FACTORY_CONTRACT_NAME=e.NEAR_LOCAL_STORAGE_KEY_SUFFIX=e.DEFAULT_APP_NAME=e.BASE_ARWEAVE_URI=e.API_BASE_NEAR_TESTNET=e.API_BASE_NEAR_MAINNET=e.API_VERSION=e.CLOUD_URI=void 0;var n,i,o=(n=r(38))&&n.__esModule?n:{default:n},a=r(20);function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var u=t&&t.env&&t.env.MINTBASEJS_CLOUD_URI||"https://us-central1-omni-live.cloudfunctions.net";e.CLOUD_URI=u;var c=t&&t.env&&t.env.MINTBASEJS_API_VERSION||"1";e.API_VERSION=c;var l=t&&t.env&&t.env.MINTBASEJS_API_BASE_NEAR_MAINNET||"https://mintbase-mainnet.hasura.app/";e.API_BASE_NEAR_MAINNET=l;var h=t&&t.env&&t.env.MINTBASEJS_API_BASE_NEAR_TESTNET||"https://mintbase-testnet.hasura.app/";e.API_BASE_NEAR_TESTNET=h;e.BASE_ARWEAVE_URI="https://arweave.net";e.DEFAULT_APP_NAME="Mintbase.js";e.NEAR_LOCAL_STORAGE_KEY_SUFFIX="_wallet_auth_key";var f=t&&t.env&&t.env.MINTBASEJS_FACTORY_CONTRACT_NAME||"mintspace2.testnet";e.FACTORY_CONTRACT_NAME=f;e.STORE_CONTRACT_VIEW_METHODS=[];e.STORE_CONTRACT_CALL_METHODS=["nft_batch_mint","nft_batch_approve","nft_approve","grant_minter","revoke_minter","burn_tokens","nft_revoke_all","nft_revoke","nft_batch_burn","nft_batch_transfer","nft_transfer","set_icon_base64","set_base_uri","transfer_store_ownership","new","batch_change_minters"];e.MARKET_CONTRACT_VIEW_METHODS=[];e.MARKET_CONTRACT_CALL_METHODS=["make_offer","accept_and_transfer","withdraw_offer"];e.FACTORY_CONTRACT_VIEW_METHODS=[];e.FACTORY_CONTRACT_CALL_METHODS=["create_store"];var d={apiKey:t&&t.env&&t.env.MINTBASEJS_FIREBASE_PUBLIC_API_KEY||"AIzaSyAwZOiBAke2iUnLPp-hf4-uUKbL6lhaY0I",authDomain:t&&t.env&&t.env.MINTBASEJS_FIREBASE_AUTH_DOMAIN||"omni-live.firebaseapp.com",databaseURL:t&&t.env&&t.env.MINTBASEJS_FIREBASE_DATABASE_URL||"https://omni-live.firebaseapp.com",projectId:t&&t.env&&t.env.MINTBASEJS_FIREBASE_PROJECT_ID||"omni-live",storageBucket:t&&t.env&&t.env.MINTBASEJS_FIRSTORE_BUCKET_URL||"gs://omni-live.appspot.com"};e.CLOUD_STORAGE_CONFIG=d;e.DEFAULT_ROYALTY_PERCENT=1e3;var p=new o.default("225000000000000");e.MAX_GAS=p;var m=new o.default("1");e.ONE_YOCTO=m;var y=new o.default("0");e.ZERO=y;var g=new o.default("7000000000000000000000000");e.DEPLOY_STORE_COST=g;var v=(s(i={},a.MetadataField.Media,["image/jpeg","image/png","image/gif","image/svg+xml"]),s(i,a.MetadataField.Animation_url,["image/png","image/jpeg","image/gif","image/svg+xml","audio/ogg","video/webm","video/mp4","audio/mpeg","audio/mp3","model/gltf-binary","model/gltf+json","application/octet-stream"]),s(i,a.MetadataField.Document,["application/pdf"]),i);e.VALID_FILE_FORMATS=v;e.FILE_UPLOAD_SIZE_LIMIT=31457280;var b=new RegExp("^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z0-9\\u00a1-\\uffff][a-z0-9\\u00a1-\\uffff_-]{0,62})?[a-z0-9\\u00a1-\\uffff]\\.)+(?:[a-z\\u00a1-\\uffff]{2,}\\.?))(?::\\d{2,5})?(?:[/?#]\\S*)?$","i");e.REGEX_URL=b;e.ERROR_MESSAGES={fileSizeExceeded:"File size exceeded",fileTypeNotAccepted:"File type not accepted",fileNoExtension:"File does not have extension",metadataSet:"Failed at setting metadata",metadataEmpty:"Metadata is empty",notString:"Value is not of type string",badUrl:"URL is not well formatted",uploadFileAndSet:"Failed at uploading and setting metadata field",uploadFile:"Failed at uploading file",uploadCloud:"Failed at uploading file to the cloud",uploadMetadata:"Failed at uploading metadata",decentralizedStorageFailed:"Failed storing on Arweave",invalidKeyPair:"No valid key pair",undefinedAccountId:"Account Id is undefined",undefinedKeyStore:"Key Store is undefined",walletNotConnected:"Wallet is not connected",invalidRoyalties:"Royalty percentage is invalid"};e.MIME_TYPES={gltf:"model/gltf+json",glb:"model/gltf-binary",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",svg:"image/svg+xml",ogg:"audio/ogg",webm:"video/webm",mp4:"video/mp4",mpeg:"audio/mpeg",mp3:"audio/mp3"};e.TWENTY_FOUR=24;e.SEVENTY_TWO=72;e.MINTBASE_32x32_BASE64_DARK_LOGO="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEXUlEQVRYR8VXW4hVVRj+vrX3OYbFNBl2eSsoa8pkxMJmzpGGoIwMY0wwImuCXmKKkiikKayHQIpAwbdAswskBYqJSlANek7TUOPURGKCWdmFkJnsoZnhzNn/F2vcZ9gez2UfEVoP+2Gv///Xt771X4mUq6enpz2Kogck3S2pk+R1ki736iT/kfQzyW/N7PNsNrtvcHDwTBrTbCbU1dV1cxiGGyWtA3BJM/l4f1rSLjPbPDQ0dKyRTl0AS5YsubStre11AP0AwiYHi+SJmJGFCdmypG3T09MDIyMjk7Vs1ASQy+VuIrkbQEezG3vqJfXGTzHhnFtlZttIuoTuUQC9hULheLW98wDkcrnbARwkeWWzw+P9ewCsB/AYgBkz6yW5lmRfUl/SOMmVhUJhJPn/HAD+5gCKLRzubS0AMO59MTa828z2Oud2VF8gBtGdZGIOQPzmX6ehPWk4iqKOIAg+BnCr/y/pJUmnnHPv1WHw6NTU1B0Vn5gDkM/ntwB4NiXtc2KS9kdR1B+G4aMA/pD0kaQHGwDwILcUi8UNs37jPz7UgiD4PoW318Qn6QSA/STbJc2T9EkjAAB8dCwuFos/zgLI5/M7YydqlYBa8vvMbFcTAJ6FncVisY/5fP4KT10LSaYZyFQAAEyHYXitB+BD6N1mVlvYTwsAZraeuVxuR3XMNjpM0mFJW0n+VUfub0mnSS6S5JxznQBeBpDMkBXV7R7AKEkv1HRJGiLpvX0rgHYzGyB5S5yuZ/VJHioUCv25XO4Vn/0AHDCzD51z35DMViWnUf8EEwC8H6RZj5O8Py5M3pF+D4JghZn9lFDeB+AtAF9U/vmw9CBJ3lt1yIQHYIks1gzEapJPSlodJ53xcrncmclkTiUOOwRgM8n9iX8Pk/S+tqqKAWsZgJmddM6971kzs+f9W5P0VbOyZmZmZjyo5yStcc4djKJoE8kxkvNrAWjlCVZLugHAYefcpJmtIzkAIKii7ldJL5jZkTAMF0t6A8CNNeidaMkJAXjqNwLobvZWafYljbYahhcVAIDtrSaiiwpgNhGlSMVjAI5J8m3Xm3FILapD8UKSd9XwiVriZ1Ox36lXjCRtMLPPwjC8s1QqHRgeHv6tu7v7IefcNYkQG8tkMqPlcnmNrylm9q9z7lMAlzXyg7li5IXqlOOvADwN4EsAPoOdLpVKHdlsdm/SCUku8/UdwIo4NzxF8noALzYAcG45jlmobkjelnTc014xRPI+Sa8BWJ4w7lsyH8qVtUfSHpLv1ANwXkPiBWu0ZEeiKOoLgsAzMd+nXTNb7pz7geTsQBLfuIvkqwBWnu3I9ASAZSSfqQOgdkvmhaubUpKboij6IAiCpSSH/aAB4JEqw9+VSqXeTCZzm6Q/nXNXA/A94rxqAA2b0opwjbb8JADfzy8FcFWdW01K8kwtqFdZU7XlCRCpB5M0GQ9A+sGkYrDF0awejgsbzZLW/rfhtPpKTcbzM5J+uZDx/D8+0FUx/4DhyAAAAABJRU5ErkJggg=="}).call(this,r(8))},function(t,e,r){"use strict";(function(t){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeUnchecked=e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;const u=s(r(38)),c=s(r(89)),l=a(r(92)),h=new("function"!=typeof TextDecoder?l.TextDecoder:TextDecoder)("utf-8",{fatal:!0});e.baseEncode=function(e){return"string"==typeof e&&(e=t.from(e,"utf8")),c.default.encode(t.from(e))},e.baseDecode=function(e){return t.from(c.default.decode(e))};class f extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}e.BorshError=f;class d{constructor(){this.buf=t.alloc(1024),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=t.concat([this.buf,t.alloc(1024)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(t.from(new u.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(t.from(new u.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(t.from(new u.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(t.from(new u.default(e).toArray("le",64)))}writeBuffer(e){this.buf=t.concat([t.from(this.buf.subarray(0,this.length)),e,t.alloc(1024)]),this.length+=e.length}writeString(e){this.maybeResize();const r=t.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(t.from(e))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),e(r)}toArray(){return this.buf.subarray(0,this.length)}}function p(t,e,r){const n=r.value;r.value=function(...t){try{return n.apply(this,t)}catch(t){if(t instanceof RangeError){const e=t.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new f("Reached the end of buffer when deserializing")}throw t}}}e.BinaryWriter=d;class m{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new u.default(t,"le")}readU128(){const t=this.readBuffer(16);return new u.default(t,"le")}readU256(){const t=this.readBuffer(32);return new u.default(t,"le")}readU512(){const t=this.readBuffer(64);return new u.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new f(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return h.decode(e)}catch(t){throw new f("Error decoding UTF-8 string: "+t)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),r=Array();for(let n=0;n<e;++n)r.push(t());return r}}function y(t){return t.charAt(0).toUpperCase()+t.slice(1)}function g(t,e,r,n,i){try{if("string"==typeof n)i["write"+y(n)](r);else if(n instanceof Array)if("number"==typeof n[0]){if(r.length!==n[0])throw new f(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new f(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let e=0;e<n[1];e++)g(t,null,r[e],n[0],i)}else i.writeArray(r,r=>{g(t,e,r,n[0],i)});else if(void 0!==n.kind)switch(n.kind){case"option":null==r?i.writeU8(0):(i.writeU8(1),g(t,e,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach((r,o)=>{g(t,e,o,n.key,i),g(t,e,r,n.value,i)});break;default:throw new f(`FieldType ${n} unrecognized`)}else v(t,r,i)}catch(t){throw t instanceof f&&t.addToFieldPath(e),t}}function v(t,e,r){if("function"==typeof e.borshSerialize)return void e.borshSerialize(r);const n=t.get(e.constructor);if(!n)throw new f(`Class ${e.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map(([n,i])=>{g(t,n,e[n],i,r)});else{if("enum"!==n.kind)throw new f(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`);{const i=e[n.field];for(let o=0;o<n.values.length;++o){const[a,s]=n.values[o];if(a===i){r.writeU8(o),g(t,a,e[a],s,r);break}}}}}function b(t,e,r,n){try{if("string"==typeof r)return n["read"+y(r)]();if(r instanceof Array){if("number"==typeof r[0])return n.readFixedArray(r[0]);if("number"==typeof r[1]){const e=[];for(let i=0;i<r[1];i++)e.push(b(t,null,r[0],n));return e}return n.readArray(()=>b(t,e,r[0],n))}if("option"===r.kind){return n.readU8()?b(t,e,r.type,n):void 0}if("map"===r.kind){let i=new Map;const o=n.readU32();for(let a=0;a<o;a++){const o=b(t,e,r.key,n),a=b(t,e,r.value,n);i.set(o,a)}return i}return _(t,r,n)}catch(t){throw t instanceof f&&t.addToFieldPath(e),t}}function _(t,e,r){if("function"==typeof e.borshDeserialize)return e.borshDeserialize(r);const n=t.get(e);if(!n)throw new f(`Class ${e.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[i,o]of t.get(e).fields)n[i]=b(t,i,o,r);return new e(n)}if("enum"===n.kind){const i=r.readU8();if(i>=n.values.length)throw new f(`Enum index: ${i} is out of range`);const[o,a]=n.values[i];return new e({[o]:b(t,o,a,r)})}throw new f(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}o([p],m.prototype,"readU8",null),o([p],m.prototype,"readU16",null),o([p],m.prototype,"readU32",null),o([p],m.prototype,"readU64",null),o([p],m.prototype,"readU128",null),o([p],m.prototype,"readU256",null),o([p],m.prototype,"readU512",null),o([p],m.prototype,"readString",null),o([p],m.prototype,"readFixedArray",null),o([p],m.prototype,"readArray",null),e.BinaryReader=m,e.serialize=function(t,e,r=d){const n=new r;return v(t,e,n),n.toArray()},e.deserialize=function(t,e,r,n=m){const i=new n(r),o=_(t,e,i);if(i.offset<r.length)throw new f(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o},e.deserializeUnchecked=function(t,e,r,n=m){return _(t,e,new n(r))}}).call(this,r(7).Buffer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorContext=e.TypedError=e.getTransactionLastResult=e.FinalExecutionStatusBasic=e.JsonRpcProvider=e.Provider=void 0;const n=r(56);Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return n.Provider}}),Object.defineProperty(e,"getTransactionLastResult",{enumerable:!0,get:function(){return n.getTransactionLastResult}}),Object.defineProperty(e,"FinalExecutionStatusBasic",{enumerable:!0,get:function(){return n.FinalExecutionStatusBasic}});const i=r(95);Object.defineProperty(e,"JsonRpcProvider",{enumerable:!0,get:function(){return i.JsonRpcProvider}}),Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return i.TypedError}}),Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return i.ErrorContext}})},function(t,e,r){"use strict";
/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */function n(t,e){if("function"!=typeof t)throw new TypeError("argument fn must be a function");return t}function i(t,e,r){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("argument obj must be object");var n=Object.getOwnPropertyDescriptor(t,e);if(!n)throw new TypeError("must call property on owner object");if(!n.configurable)throw new TypeError("property must be configurable")}t.exports=function(t){if(!t)throw new TypeError("argument namespace is required");function e(t){}return e._file=void 0,e._ignored=!0,e._namespace=t,e._traced=!1,e._warned=Object.create(null),e.function=n,e.property=i,e}},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.logWarning=e.ErrorContext=e.TypedError=e.ArgumentTypeError=e.PositionalArgsError=void 0;class r extends Error{constructor(){super("Contract method calls expect named arguments wrapped in object, e.g. { argName1: argValue1, argName2: argValue2 }")}}e.PositionalArgsError=r;class n extends Error{constructor(t,e,r){super(`Expected ${e} for '${t}' argument, but got '${JSON.stringify(r)}'`)}}e.ArgumentTypeError=n;class i extends Error{constructor(t,e,r){super(t),this.type=e||"UntypedError",this.context=r}}e.TypedError=i;e.ErrorContext=class{constructor(t){this.transactionHash=t}},e.logWarning=function(...e){t.env.NEAR_NO_LOGS||console.warn(...e)}}).call(this,r(8))},function(t,e,r){"use strict";(function(t){var n=r(0),i=r(2),o=r(32),a=r(9),s=r(69),u=r(4),c=r(33),l=r(47);const h={"Content-Type":"application/x-www-form-urlencoded"};const f={transitional:o.a,adapter:function(){let e;return"undefined"!=typeof XMLHttpRequest?e=l.a.getAdapter("xhr"):void 0!==t&&"process"===n.a.kindOf(t)&&(e=l.a.getAdapter("http")),e}(),transformRequest:[function(t,e){const r=e.getContentType()||"",i=r.indexOf("application/json")>-1,o=n.a.isObject(t);o&&n.a.isHTMLForm(t)&&(t=new FormData(t));if(n.a.isFormData(t))return i&&i?JSON.stringify(Object(c.a)(t)):t;if(n.a.isArrayBuffer(t)||n.a.isBuffer(t)||n.a.isStream(t)||n.a.isFile(t)||n.a.isBlob(t))return t;if(n.a.isArrayBufferView(t))return t.buffer;if(n.a.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Object(s.a)(t,this.formSerializer).toString();if((u=n.a.isFileList(t))||r.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return Object(a.a)(u?{"files[]":t}:t,e&&new e,this.formSerializer)}}return o||i?(e.setContentType("application/json",!1),function(t,e,r){if(n.a.isString(t))try{return(e||JSON.parse)(t),n.a.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||f.transitional,r=e&&e.forcedJSONParsing,o="json"===this.responseType;if(t&&n.a.isString(t)&&(r&&!this.responseType||o)){const r=!(e&&e.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(t){if(r){if("SyntaxError"===t.name)throw i.a.from(t,i.a.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:u.a.classes.FormData,Blob:u.a.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.a.forEach(["delete","get","head"],(function(t){f.headers[t]={}})),n.a.forEach(["post","put","patch"],(function(t){f.headers[t]=n.a.merge(h)})),e.a=f}).call(this,r(8))},function(t,e,r){"use strict";var n,i,o,a,s;Object.defineProperty(e,"__esModule",{value:!0}),e.MetadataField=e.DisplayType=e.Visibility=e.Network=e.Chain=void 0,e.Chain=n,function(t){t.near="near"}(n||(e.Chain=n={})),e.Network=i,function(t){t.mainnet="mainnet",t.testnet="testnet"}(i||(e.Network=i={})),e.Visibility=o,function(t){t.nsfw="nsfw",t.safe="safe"}(o||(e.Visibility=o={})),e.DisplayType=a,function(t){t.boostNumber="boost_number",t.boostPercentage="boost_percentage",t.number="number",t.date="date",t.location="location",t.website="website",t.zoom="zoom",t.placeId="place_id",t.rarity="rarity",t.youtubeUrl="youtube_url",t.latitude="latitude",t.longitude="longitude"}(a||(e.DisplayType=a={})),e.MetadataField=s,function(t){t.Id="id",t.Title="title",t.Category="category",t.Description="description",t.Media="media",t.Media_hash="media_hash",t.Tags="tags",t.Image_preview="imagePreview",t.Copies="copies",t.Extra="extra",t.External_url="external_url",t.Background_color="background_color",t.Animation_url="animation_url",t.Animation_hash="animation_hash",t.Youtube_url="youtube_url",t.UpdatedAt="updated_at",t.Document="document",t.Document_hash="document_hash",t.Lock="lock",t.Visibility="visibility",t.Chain="chain",t.Store="store",t.Royalty="royalty",t.Royalty_perc="royalty_perc",t.SplitRevenue="split_revenue"}(s||(e.MetadataField=s={}))},function(t,e,r){"use strict";(function(t){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.signTransaction=e.createTransaction=e.SCHEMA=e.Action=e.SignedTransaction=e.Transaction=e.Signature=e.deleteAccount=e.deleteKey=e.addKey=e.stake=e.transfer=e.functionCall=e.stringifyJsonOrBytes=e.deployContract=e.createAccount=e.DeleteAccount=e.DeleteKey=e.AddKey=e.Stake=e.Transfer=e.FunctionCall=e.DeployContract=e.CreateAccount=e.IAction=e.functionCallAccessKey=e.fullAccessKey=e.AccessKey=e.AccessKeyPermission=e.FullAccessPermission=e.FunctionCallPermission=void 0;const i=n(r(58)),o=r(41),a=r(15),s=r(6);class u extends o.Assignable{}e.FunctionCallPermission=u;class c extends o.Assignable{}e.FullAccessPermission=c;class l extends o.Enum{}e.AccessKeyPermission=l;class h extends o.Assignable{}e.AccessKey=h,e.fullAccessKey=function(){return new h({nonce:0,permission:new l({fullAccess:new c({})})})},e.functionCallAccessKey=function(t,e,r){return new h({nonce:0,permission:new l({functionCall:new u({receiverId:t,allowance:r,methodNames:e})})})};class f extends o.Assignable{}e.IAction=f;class d extends f{}e.CreateAccount=d;class p extends f{}e.DeployContract=p;class m extends f{}e.FunctionCall=m;class y extends f{}e.Transfer=y;class g extends f{}e.Stake=g;class v extends f{}e.AddKey=v;class b extends f{}e.DeleteKey=b;class _ extends f{}function w(e){return void 0!==e.byteLength&&e.byteLength===e.length?e:t.from(JSON.stringify(e))}e.DeleteAccount=_,e.createAccount=function(){return new S({createAccount:new d({})})},e.deployContract=function(t){return new S({deployContract:new p({code:t})})},e.stringifyJsonOrBytes=w,e.functionCall=function(t,e,r,n,i=w,o=!1){return new S(o?{functionCall:new m({methodName:t,args:e,gas:r,deposit:n})}:{functionCall:new m({methodName:t,args:i(e),gas:r,deposit:n})})},e.transfer=function(t){return new S({transfer:new y({deposit:t})})},e.stake=function(t,e){return new S({stake:new g({stake:t,publicKey:e})})},e.addKey=function(t,e){return new S({addKey:new v({publicKey:t,accessKey:e})})},e.deleteKey=function(t){return new S({deleteKey:new b({publicKey:t})})},e.deleteAccount=function(t){return new S({deleteAccount:new _({beneficiaryId:t})})};class A extends o.Assignable{}e.Signature=A;class E extends o.Assignable{encode(){return a.serialize(e.SCHEMA,this)}static decode(t){return a.deserialize(e.SCHEMA,E,t)}}e.Transaction=E;class M extends o.Assignable{encode(){return a.serialize(e.SCHEMA,this)}static decode(t){return a.deserialize(e.SCHEMA,M,t)}}e.SignedTransaction=M;class S extends o.Enum{}function T(t,e,r,n,i,o){return new E({signerId:t,publicKey:e,nonce:n,receiverId:r,actions:i,blockHash:o})}async function R(t,r,n,o){const s=a.serialize(e.SCHEMA,t),u=new Uint8Array(i.default.sha256.array(s)),c=await r.signMessage(s,n,o);return[u,new M({transaction:t,signature:new A({keyType:t.publicKey.keyType,data:c.signature})})]}e.Action=S,e.SCHEMA=new Map([[A,{kind:"struct",fields:[["keyType","u8"],["data",[64]]]}],[M,{kind:"struct",fields:[["transaction",E],["signature",A]]}],[E,{kind:"struct",fields:[["signerId","string"],["publicKey",s.PublicKey],["nonce","u64"],["receiverId","string"],["blockHash",[32]],["actions",[S]]]}],[s.PublicKey,{kind:"struct",fields:[["keyType","u8"],["data",[32]]]}],[h,{kind:"struct",fields:[["nonce","u64"],["permission",l]]}],[l,{kind:"enum",field:"enum",values:[["functionCall",u],["fullAccess",c]]}],[u,{kind:"struct",fields:[["allowance",{kind:"option",type:"u128"}],["receiverId","string"],["methodNames",["string"]]]}],[c,{kind:"struct",fields:[]}],[S,{kind:"enum",field:"enum",values:[["createAccount",d],["deployContract",p],["functionCall",m],["transfer",y],["stake",g],["addKey",v],["deleteKey",b],["deleteAccount",_]]}],[d,{kind:"struct",fields:[]}],[p,{kind:"struct",fields:[["code",["u8"]]]}],[m,{kind:"struct",fields:[["methodName","string"],["args",["u8"]],["gas","u64"],["deposit","u128"]]}],[y,{kind:"struct",fields:[["deposit","u128"]]}],[g,{kind:"struct",fields:[["stake","u128"],["publicKey",s.PublicKey]]}],[v,{kind:"struct",fields:[["publicKey",s.PublicKey],["accessKey",h]]}],[b,{kind:"struct",fields:[["publicKey",s.PublicKey]]}],[_,{kind:"struct",fields:[["beneficiaryId","string"]]}]]),e.createTransaction=T,e.signTransaction=async function(...t){if(t[0].constructor===E){const[e,r,n,i]=t;return R(e,r,n,i)}{const[e,r,n,i,o,a,s]=t;return R(T(a,await o.getPublicKey(a,s),e,r,n,i),o,a,s)}}}).call(this,r(7).Buffer)},function(t,e,r){r(64),t.exports=r(120)},function(t,e,r){t.exports=r(123)},function(t,e,r){t.exports=self.fetch||(self.fetch=r(49).default||r(49))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formatResponse=void 0;e.formatResponse=function(t){var e=t.data,r=void 0===e?{}:e,n=t.error;return{data:r,error:void 0===n?"":n}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyStore=void 0;e.KeyStore=class{}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.fetchJson=void 0;const i=n(r(96)),o=n(r(42)),a=r(16),s=r(18);e.fetchJson=async function(t,e){let r={url:null};"string"==typeof t?r.url=t:r=t;const n=await o.default(1e3,10,1.5,async()=>{try{const t=await fetch(r.url,{method:e?"POST":"GET",body:e||void 0,headers:{...r.headers,"Content-Type":"application/json"}});if(!t.ok){if(503===t.status)return s.logWarning(`Retrying HTTP request for ${r.url} as it's not available now`),null;throw i.default(t.status,await t.text())}return t}catch(t){if(t.toString().includes("FetchError")||t.toString().includes("Failed to fetch"))return s.logWarning(`Retrying HTTP request for ${r.url} because of error: ${t}`),null;throw t}});if(!n)throw new a.TypedError(`Exceeded 10 attempts for ${r.url}.`,"RetriesExceeded");return await n.json()}},function(t,e,r){"use strict";(function(t,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Account=void 0;const o=i(r(12)),a=i(r(17)),s=r(21),u=r(16),c=r(15),l=r(6),h=r(18),f=r(43),d=r(109),p=i(r(42));function m(e){return JSON.parse(t.from(e).toString())}function y(e){return t.from(JSON.stringify(e))}class g{constructor(t,e){this.accessKeyByPublicKeyCache={},this.connection=t,this.accountId=e}get ready(){return a.default("Account.ready()")("not needed anymore, always ready"),Promise.resolve()}async fetchState(){a.default("Account.fetchState()")("use `Account.state()` instead")}async state(){return this.connection.provider.query({request_type:"view_account",account_id:this.accountId,finality:"optimistic"})}printLogsAndFailures(t,e){if(!n.env.NEAR_NO_LOGS)for(const r of e)console.log(`Receipt${r.receiptIds.length>1?"s":""}: ${r.receiptIds.join(", ")}`),this.printLogs(t,r.logs,"\t"),r.failure&&console.warn(`\tFailure [${t}]: ${r.failure}`)}printLogs(t,e,r=""){if(!n.env.NEAR_NO_LOGS)for(const n of e)console.log(`${r}Log [${t}]: ${n}`)}async signTransaction(t,e){const r=await this.findAccessKey(t,e);if(!r)throw new u.TypedError(`Can not sign transactions for account ${this.accountId} on network ${this.connection.networkId}, no matching key pair found in ${this.connection.signer}.`,"KeyNotFound");const{accessKey:n}=r,i=(await this.connection.provider.block({finality:"final"})).header.hash,o=++n.nonce;return await s.signTransaction(t,o,e,c.baseDecode(i),this.connection.signer,this.accountId,this.connection.networkId)}signAndSendTransaction(...t){return"string"==typeof t[0]?this.signAndSendTransactionV1(t[0],t[1]):this.signAndSendTransactionV2(t[0])}signAndSendTransactionV1(t,e){return a.default("Account.signAndSendTransaction(receiverId, actions")("use `Account.signAndSendTransaction(SignAndSendTransactionOptions)` instead"),this.signAndSendTransactionV2({receiverId:t,actions:e})}async signAndSendTransactionV2({receiverId:t,actions:e,returnError:r}){let n,i;const o=await p.default(500,12,1.5,async()=>{[n,i]=await this.signTransaction(t,e);const r=i.transaction.publicKey;try{return await this.connection.provider.sendTransaction(i)}catch(e){if("InvalidNonce"===e.type)return h.logWarning(`Retrying transaction ${t}:${c.baseEncode(n)} with new nonce.`),delete this.accessKeyByPublicKeyCache[r.toString()],null;if("Expired"===e.type)return h.logWarning(`Retrying transaction ${t}:${c.baseEncode(n)} due to expired block hash`),null;throw e.context=new u.ErrorContext(c.baseEncode(n)),e}});if(!o)throw new u.TypedError("nonce retries exceeded for transaction. This usually means there are too many parallel requests with the same access key.","RetriesExceeded");const a=[o.transaction_outcome,...o.receipts_outcome].reduce((t,e)=>e.outcome.logs.length||"object"==typeof e.outcome.status&&"object"==typeof e.outcome.status.Failure?t.concat({receiptIds:e.outcome.receipt_ids,logs:e.outcome.logs,failure:void 0!==e.outcome.status.Failure?f.parseRpcError(e.outcome.status.Failure):null}):t,[]);if(this.printLogsAndFailures(i.transaction.receiverId,a),!r&&"object"==typeof o.status&&"object"==typeof o.status.Failure)throw o.status.Failure.error_message&&o.status.Failure.error_type?new u.TypedError(`Transaction ${o.transaction_outcome.id} failed. ${o.status.Failure.error_message}`,o.status.Failure.error_type):f.parseResultError(o);return o}async findAccessKey(t,e){const r=await this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);if(!r)return null;const n=this.accessKeyByPublicKeyCache[r.toString()];if(void 0!==n)return{publicKey:r,accessKey:n};try{const t=await this.connection.provider.query({request_type:"view_access_key",account_id:this.accountId,public_key:r.toString(),finality:"optimistic"});return this.accessKeyByPublicKeyCache[r.toString()]?{publicKey:r,accessKey:this.accessKeyByPublicKeyCache[r.toString()]}:(this.accessKeyByPublicKeyCache[r.toString()]=t,{publicKey:r,accessKey:t})}catch(t){if("AccessKeyDoesNotExist"==t.type)return null;throw t}}async createAndDeployContract(t,e,r,n){const i=s.fullAccessKey();await this.signAndSendTransaction({receiverId:t,actions:[s.createAccount(),s.transfer(n),s.addKey(l.PublicKey.from(e),i),s.deployContract(r)]});return new g(this.connection,t)}async sendMoney(t,e){return this.signAndSendTransaction({receiverId:t,actions:[s.transfer(e)]})}async createAccount(t,e,r){const n=s.fullAccessKey();return this.signAndSendTransaction({receiverId:t,actions:[s.createAccount(),s.transfer(r),s.addKey(l.PublicKey.from(e),n)]})}async deleteAccount(t){return this.signAndSendTransaction({receiverId:this.accountId,actions:[s.deleteAccount(t)]})}async deployContract(t){return this.signAndSendTransaction({receiverId:this.accountId,actions:[s.deployContract(t)]})}encodeJSContractArgs(e,r,n){return t.concat([t.from(e),t.from([0]),t.from(r),t.from([0]),t.from(n)])}async functionCall(...t){return"string"==typeof t[0]?this.functionCallV1(t[0],t[1],t[2],t[3],t[4]):this.functionCallV2(t[0])}functionCallV1(t,e,r,n,i){return a.default("Account.functionCall(contractId, methodName, args, gas, amount)")("use `Account.functionCall(FunctionCallOptions)` instead"),r=r||{},this.validateArgs(r),this.signAndSendTransaction({receiverId:t,actions:[s.functionCall(e,r,n||d.DEFAULT_FUNCTION_CALL_GAS,i)]})}functionCallV2({contractId:t,methodName:e,args:r={},gas:n=d.DEFAULT_FUNCTION_CALL_GAS,attachedDeposit:i,walletMeta:o,walletCallbackUrl:a,stringify:u,jsContract:c}){let l;if(this.validateArgs(r),c){l=["call_js_contract",this.encodeJSContractArgs(t,e,JSON.stringify(r)),n,i,null,!0]}else{l=[e,r,n,i,void 0===u?s.stringifyJsonOrBytes:u,!1]}return this.signAndSendTransaction({receiverId:c?this.connection.jsvmAccountId:t,actions:[s.functionCall.apply(void 0,l)],walletMeta:o,walletCallbackUrl:a})}async addKey(t,e,r,n){let i;return r||(r=[]),Array.isArray(r)||(r=[r]),i=e?s.functionCallAccessKey(e,r,n):s.fullAccessKey(),this.signAndSendTransaction({receiverId:this.accountId,actions:[s.addKey(l.PublicKey.from(t),i)]})}async deleteKey(t){return this.signAndSendTransaction({receiverId:this.accountId,actions:[s.deleteKey(l.PublicKey.from(t))]})}async stake(t,e){return this.signAndSendTransaction({receiverId:this.accountId,actions:[s.stake(e,l.PublicKey.from(t))]})}validateArgs(t){if(!(void 0!==t.byteLength&&t.byteLength===t.length)&&(Array.isArray(t)||"object"!=typeof t))throw new h.PositionalArgsError}async viewFunction(e,r,n={},{parse:i=m,stringify:o=y,jsContract:a=!1}={}){let s;this.validateArgs(n),s=a?this.encodeJSContractArgs(e,r,Object.keys(n).length>0?JSON.stringify(n):""):o(n);const u=await this.connection.provider.query({request_type:"call_function",account_id:a?this.connection.jsvmAccountId:e,method_name:a?"view_js_contract":r,args_base64:s.toString("base64"),finality:"optimistic"});return u.logs&&this.printLogs(e,u.logs),u.result&&u.result.length>0&&i(t.from(u.result))}async viewState(e,r={finality:"optimistic"}){const{values:n}=await this.connection.provider.query({request_type:"view_state",...r,account_id:this.accountId,prefix_base64:t.from(e).toString("base64")});return n.map(({key:e,value:r})=>({key:t.from(e,"base64"),value:t.from(r,"base64")}))}async getAccessKeys(){const t=await this.connection.provider.query({request_type:"view_access_key_list",account_id:this.accountId,finality:"optimistic"});return Array.isArray(t)?t:t.keys}async getAccountDetails(){return{authorizedApps:(await this.getAccessKeys()).filter(t=>"FullAccess"!==t.access_key.permission).map(t=>{const e=t.access_key.permission;return{contractId:e.FunctionCall.receiver_id,amount:e.FunctionCall.allowance,publicKey:t.public_key}})}}async getAccountBalance(){const t=await this.connection.provider.experimental_protocolConfig({finality:"final"}),e=await this.state(),r=new o.default(t.runtime_config.storage_amount_per_byte),n=new o.default(e.storage_usage).mul(r),i=new o.default(e.locked),a=new o.default(e.amount).add(i),s=a.sub(o.default.max(i,n));return{total:a.toString(),stateStaked:n.toString(),staked:i.toString(),available:s.toString()}}}e.Account=g}).call(this,r(7).Buffer,r(8))},function(t,e,r){"use strict";function n(t,e){return function(){return t.apply(e,arguments)}}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(0),i=r(31);function o(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function a(t,e,r){if(!e)return t;const a=r&&r.encode||o,s=r&&r.serialize;let u;if(u=s?s(e,r):n.a.isURLSearchParams(e)?e.toString():new i.a(e,r).toString(a),u){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+u}return t}},function(t,e,r){"use strict";var n=r(9);function i(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function o(t,e){this._pairs=[],t&&Object(n.a)(t,this,e)}const a=o.prototype;a.append=function(t,e){this._pairs.push([t,e])},a.toString=function(t){const e=t?function(e){return t.call(this,e,i)}:i;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")},e.a=o},function(t,e,r){"use strict";e.a={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},function(t,e,r){"use strict";var n=r(0);e.a=function(t){function e(t,r,i,o){let a=t[o++];const s=Number.isFinite(+a),u=o>=t.length;if(a=!a&&n.a.isArray(i)?i.length:a,u)return n.a.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!s;i[a]&&n.a.isObject(i[a])||(i[a]=[]);return e(t,r,i[a],o)&&n.a.isArray(i[a])&&(i[a]=function(t){const e={},r=Object.keys(t);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],e[o]=t[o];return e}(i[a])),!s}if(n.a.isFormData(t)&&n.a.isFunction(t.entries)){const r={};return n.a.forEachEntry(t,(t,i)=>{e(function(t){return n.a.matchAll(/\w+|\[(\w*)]/g,t).map(t=>"[]"===t[0]?"":t[1]||t[0])}(t),i,r,0)}),r}return null}},function(t,e,r){"use strict";function n(t,e){return t&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(72);Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))}))},function(t,e,r){"use strict";t.exports=function(t){var e=t.uri,r=t.name,n=t.type;this.uri=e,this.name=r,this.type=n}},function(t,e,r){"use strict";var n=r(36);t.exports=function(t){return"undefined"!=typeof File&&t instanceof File||"undefined"!=typeof Blob&&t instanceof Blob||t instanceof n}},function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function o(t,e,r){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var a;"object"==typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(81).Buffer}catch(t){}function s(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function u(t,e,r){var n=s(t,r);return r-1>=e&&(n|=s(t,r-1)<<4),n}function c(t,e,r,i){for(var o=0,a=0,s=Math.min(t.length,r),u=e;u<s;u++){var c=t.charCodeAt(u)-48;o*=i,a=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&a<i,"Invalid character"),o+=a}return o}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(o.isBN=function(t){return t instanceof o||null!==t&&"object"==typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},o.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},o.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===r)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===r)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,a=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=u(t,e,n)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var o=t.length-r,a=o%n,s=Math.min(o,o-a)+r,u=0,l=r;l<s;l+=n)u=c(t,l,l+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var h=1;for(u=c(t,l,t.length,e),l=0;l<a;l++)h*=e;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype._move=function(t){l(t,this)},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(t){o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),r=0!==o||a!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var c=d[t],l=p[t];r="";var h=this.clone();for(h.negative=0;!h.isZero();){var m=h.modrn(l).toString(t);r=(h=h.idivn(l)).isZero()?m+r:f[c-m.length]+m+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(t,e){return this.toArrayLike(a,t,e)}),o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function m(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;r.words[0]=s;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=f;d++){var p=c-d|0;l+=(a=(i=0|t.words[p])*(o=0|e.words[d])+h)/67108864|0,h=67108863&a}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(t,e,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var a=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,o);return this["_toArrayLike"+("le"===e?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r++]=255&a,r<t.length&&(t[r++]=a>>8&255),r<t.length&&(t[r++]=a>>16&255),6===o?(r<t.length&&(t[r++]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},o.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|n;t[r--]=255&a,r>=0&&(t[r--]=a>>8&255),r>=0&&(t[r--]=a>>16&255),6===o?(r>=0&&(t[r--]=a>>24&255),n=0,o=0):(n=a>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},o.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},o.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},o.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,o=0;o<n.length;o++)e=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<r.length;o++)e=(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var o=0,a=0;a<n.length;a++)o=(e=(0|r.words[a])-(0|n.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)o=(e=(0|r.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var y=function(t,e,r){var n,i,o,a=t.words,s=e.words,u=r.words,c=0,l=0|a[0],h=8191&l,f=l>>>13,d=0|a[1],p=8191&d,m=d>>>13,y=0|a[2],g=8191&y,v=y>>>13,b=0|a[3],_=8191&b,w=b>>>13,A=0|a[4],E=8191&A,M=A>>>13,S=0|a[5],T=8191&S,R=S>>>13,O=0|a[6],k=8191&O,C=O>>>13,I=0|a[7],x=8191&I,N=I>>>13,P=0|a[8],U=8191&P,j=P>>>13,L=0|a[9],D=8191&L,B=L>>>13,F=0|s[0],K=8191&F,H=F>>>13,q=0|s[1],W=8191&q,z=q>>>13,V=0|s[2],G=8191&V,Y=V>>>13,J=0|s[3],X=8191&J,Z=J>>>13,$=0|s[4],Q=8191&$,tt=$>>>13,et=0|s[5],rt=8191&et,nt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ct=st>>>13,lt=0|s[8],ht=8191&lt,ft=lt>>>13,dt=0|s[9],pt=8191&dt,mt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var yt=(c+(n=Math.imul(h,K))|0)+((8191&(i=(i=Math.imul(h,H))+Math.imul(f,K)|0))<<13)|0;c=((o=Math.imul(f,H))+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(p,K),i=(i=Math.imul(p,H))+Math.imul(m,K)|0,o=Math.imul(m,H);var gt=(c+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,z)|0)+Math.imul(f,W)|0))<<13)|0;c=((o=o+Math.imul(f,z)|0)+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,n=Math.imul(g,K),i=(i=Math.imul(g,H))+Math.imul(v,K)|0,o=Math.imul(v,H),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,z)|0)+Math.imul(m,W)|0,o=o+Math.imul(m,z)|0;var vt=(c+(n=n+Math.imul(h,G)|0)|0)+((8191&(i=(i=i+Math.imul(h,Y)|0)+Math.imul(f,G)|0))<<13)|0;c=((o=o+Math.imul(f,Y)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(_,K),i=(i=Math.imul(_,H))+Math.imul(w,K)|0,o=Math.imul(w,H),n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,z)|0)+Math.imul(v,W)|0,o=o+Math.imul(v,z)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(m,G)|0,o=o+Math.imul(m,Y)|0;var bt=(c+(n=n+Math.imul(h,X)|0)|0)+((8191&(i=(i=i+Math.imul(h,Z)|0)+Math.imul(f,X)|0))<<13)|0;c=((o=o+Math.imul(f,Z)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(E,K),i=(i=Math.imul(E,H))+Math.imul(M,K)|0,o=Math.imul(M,H),n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,z)|0)+Math.imul(w,W)|0,o=o+Math.imul(w,z)|0,n=n+Math.imul(g,G)|0,i=(i=i+Math.imul(g,Y)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,Y)|0,n=n+Math.imul(p,X)|0,i=(i=i+Math.imul(p,Z)|0)+Math.imul(m,X)|0,o=o+Math.imul(m,Z)|0;var _t=(c+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,tt)|0)+Math.imul(f,Q)|0))<<13)|0;c=((o=o+Math.imul(f,tt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(T,K),i=(i=Math.imul(T,H))+Math.imul(R,K)|0,o=Math.imul(R,H),n=n+Math.imul(E,W)|0,i=(i=i+Math.imul(E,z)|0)+Math.imul(M,W)|0,o=o+Math.imul(M,z)|0,n=n+Math.imul(_,G)|0,i=(i=i+Math.imul(_,Y)|0)+Math.imul(w,G)|0,o=o+Math.imul(w,Y)|0,n=n+Math.imul(g,X)|0,i=(i=i+Math.imul(g,Z)|0)+Math.imul(v,X)|0,o=o+Math.imul(v,Z)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(m,Q)|0,o=o+Math.imul(m,tt)|0;var wt=(c+(n=n+Math.imul(h,rt)|0)|0)+((8191&(i=(i=i+Math.imul(h,nt)|0)+Math.imul(f,rt)|0))<<13)|0;c=((o=o+Math.imul(f,nt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(k,K),i=(i=Math.imul(k,H))+Math.imul(C,K)|0,o=Math.imul(C,H),n=n+Math.imul(T,W)|0,i=(i=i+Math.imul(T,z)|0)+Math.imul(R,W)|0,o=o+Math.imul(R,z)|0,n=n+Math.imul(E,G)|0,i=(i=i+Math.imul(E,Y)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,Y)|0,n=n+Math.imul(_,X)|0,i=(i=i+Math.imul(_,Z)|0)+Math.imul(w,X)|0,o=o+Math.imul(w,Z)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,tt)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(m,rt)|0,o=o+Math.imul(m,nt)|0;var At=(c+(n=n+Math.imul(h,ot)|0)|0)+((8191&(i=(i=i+Math.imul(h,at)|0)+Math.imul(f,ot)|0))<<13)|0;c=((o=o+Math.imul(f,at)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(x,K),i=(i=Math.imul(x,H))+Math.imul(N,K)|0,o=Math.imul(N,H),n=n+Math.imul(k,W)|0,i=(i=i+Math.imul(k,z)|0)+Math.imul(C,W)|0,o=o+Math.imul(C,z)|0,n=n+Math.imul(T,G)|0,i=(i=i+Math.imul(T,Y)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,Y)|0,n=n+Math.imul(E,X)|0,i=(i=i+Math.imul(E,Z)|0)+Math.imul(M,X)|0,o=o+Math.imul(M,Z)|0,n=n+Math.imul(_,Q)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(w,Q)|0,o=o+Math.imul(w,tt)|0,n=n+Math.imul(g,rt)|0,i=(i=i+Math.imul(g,nt)|0)+Math.imul(v,rt)|0,o=o+Math.imul(v,nt)|0,n=n+Math.imul(p,ot)|0,i=(i=i+Math.imul(p,at)|0)+Math.imul(m,ot)|0,o=o+Math.imul(m,at)|0;var Et=(c+(n=n+Math.imul(h,ut)|0)|0)+((8191&(i=(i=i+Math.imul(h,ct)|0)+Math.imul(f,ut)|0))<<13)|0;c=((o=o+Math.imul(f,ct)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(U,K),i=(i=Math.imul(U,H))+Math.imul(j,K)|0,o=Math.imul(j,H),n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,z)|0)+Math.imul(N,W)|0,o=o+Math.imul(N,z)|0,n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(C,G)|0,o=o+Math.imul(C,Y)|0,n=n+Math.imul(T,X)|0,i=(i=i+Math.imul(T,Z)|0)+Math.imul(R,X)|0,o=o+Math.imul(R,Z)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,tt)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(w,rt)|0,o=o+Math.imul(w,nt)|0,n=n+Math.imul(g,ot)|0,i=(i=i+Math.imul(g,at)|0)+Math.imul(v,ot)|0,o=o+Math.imul(v,at)|0,n=n+Math.imul(p,ut)|0,i=(i=i+Math.imul(p,ct)|0)+Math.imul(m,ut)|0,o=o+Math.imul(m,ct)|0;var Mt=(c+(n=n+Math.imul(h,ht)|0)|0)+((8191&(i=(i=i+Math.imul(h,ft)|0)+Math.imul(f,ht)|0))<<13)|0;c=((o=o+Math.imul(f,ft)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(D,K),i=(i=Math.imul(D,H))+Math.imul(B,K)|0,o=Math.imul(B,H),n=n+Math.imul(U,W)|0,i=(i=i+Math.imul(U,z)|0)+Math.imul(j,W)|0,o=o+Math.imul(j,z)|0,n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(N,G)|0,o=o+Math.imul(N,Y)|0,n=n+Math.imul(k,X)|0,i=(i=i+Math.imul(k,Z)|0)+Math.imul(C,X)|0,o=o+Math.imul(C,Z)|0,n=n+Math.imul(T,Q)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,tt)|0,n=n+Math.imul(E,rt)|0,i=(i=i+Math.imul(E,nt)|0)+Math.imul(M,rt)|0,o=o+Math.imul(M,nt)|0,n=n+Math.imul(_,ot)|0,i=(i=i+Math.imul(_,at)|0)+Math.imul(w,ot)|0,o=o+Math.imul(w,at)|0,n=n+Math.imul(g,ut)|0,i=(i=i+Math.imul(g,ct)|0)+Math.imul(v,ut)|0,o=o+Math.imul(v,ct)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ft)|0)+Math.imul(m,ht)|0,o=o+Math.imul(m,ft)|0;var St=(c+(n=n+Math.imul(h,pt)|0)|0)+((8191&(i=(i=i+Math.imul(h,mt)|0)+Math.imul(f,pt)|0))<<13)|0;c=((o=o+Math.imul(f,mt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(D,W),i=(i=Math.imul(D,z))+Math.imul(B,W)|0,o=Math.imul(B,z),n=n+Math.imul(U,G)|0,i=(i=i+Math.imul(U,Y)|0)+Math.imul(j,G)|0,o=o+Math.imul(j,Y)|0,n=n+Math.imul(x,X)|0,i=(i=i+Math.imul(x,Z)|0)+Math.imul(N,X)|0,o=o+Math.imul(N,Z)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,tt)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(R,rt)|0,o=o+Math.imul(R,nt)|0,n=n+Math.imul(E,ot)|0,i=(i=i+Math.imul(E,at)|0)+Math.imul(M,ot)|0,o=o+Math.imul(M,at)|0,n=n+Math.imul(_,ut)|0,i=(i=i+Math.imul(_,ct)|0)+Math.imul(w,ut)|0,o=o+Math.imul(w,ct)|0,n=n+Math.imul(g,ht)|0,i=(i=i+Math.imul(g,ft)|0)+Math.imul(v,ht)|0,o=o+Math.imul(v,ft)|0;var Tt=(c+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,mt)|0)+Math.imul(m,pt)|0))<<13)|0;c=((o=o+Math.imul(m,mt)|0)+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(D,G),i=(i=Math.imul(D,Y))+Math.imul(B,G)|0,o=Math.imul(B,Y),n=n+Math.imul(U,X)|0,i=(i=i+Math.imul(U,Z)|0)+Math.imul(j,X)|0,o=o+Math.imul(j,Z)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,tt)|0)+Math.imul(N,Q)|0,o=o+Math.imul(N,tt)|0,n=n+Math.imul(k,rt)|0,i=(i=i+Math.imul(k,nt)|0)+Math.imul(C,rt)|0,o=o+Math.imul(C,nt)|0,n=n+Math.imul(T,ot)|0,i=(i=i+Math.imul(T,at)|0)+Math.imul(R,ot)|0,o=o+Math.imul(R,at)|0,n=n+Math.imul(E,ut)|0,i=(i=i+Math.imul(E,ct)|0)+Math.imul(M,ut)|0,o=o+Math.imul(M,ct)|0,n=n+Math.imul(_,ht)|0,i=(i=i+Math.imul(_,ft)|0)+Math.imul(w,ht)|0,o=o+Math.imul(w,ft)|0;var Rt=(c+(n=n+Math.imul(g,pt)|0)|0)+((8191&(i=(i=i+Math.imul(g,mt)|0)+Math.imul(v,pt)|0))<<13)|0;c=((o=o+Math.imul(v,mt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(D,X),i=(i=Math.imul(D,Z))+Math.imul(B,X)|0,o=Math.imul(B,Z),n=n+Math.imul(U,Q)|0,i=(i=i+Math.imul(U,tt)|0)+Math.imul(j,Q)|0,o=o+Math.imul(j,tt)|0,n=n+Math.imul(x,rt)|0,i=(i=i+Math.imul(x,nt)|0)+Math.imul(N,rt)|0,o=o+Math.imul(N,nt)|0,n=n+Math.imul(k,ot)|0,i=(i=i+Math.imul(k,at)|0)+Math.imul(C,ot)|0,o=o+Math.imul(C,at)|0,n=n+Math.imul(T,ut)|0,i=(i=i+Math.imul(T,ct)|0)+Math.imul(R,ut)|0,o=o+Math.imul(R,ct)|0,n=n+Math.imul(E,ht)|0,i=(i=i+Math.imul(E,ft)|0)+Math.imul(M,ht)|0,o=o+Math.imul(M,ft)|0;var Ot=(c+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,mt)|0)+Math.imul(w,pt)|0))<<13)|0;c=((o=o+Math.imul(w,mt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(D,Q),i=(i=Math.imul(D,tt))+Math.imul(B,Q)|0,o=Math.imul(B,tt),n=n+Math.imul(U,rt)|0,i=(i=i+Math.imul(U,nt)|0)+Math.imul(j,rt)|0,o=o+Math.imul(j,nt)|0,n=n+Math.imul(x,ot)|0,i=(i=i+Math.imul(x,at)|0)+Math.imul(N,ot)|0,o=o+Math.imul(N,at)|0,n=n+Math.imul(k,ut)|0,i=(i=i+Math.imul(k,ct)|0)+Math.imul(C,ut)|0,o=o+Math.imul(C,ct)|0,n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ft)|0)+Math.imul(R,ht)|0,o=o+Math.imul(R,ft)|0;var kt=(c+(n=n+Math.imul(E,pt)|0)|0)+((8191&(i=(i=i+Math.imul(E,mt)|0)+Math.imul(M,pt)|0))<<13)|0;c=((o=o+Math.imul(M,mt)|0)+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(D,rt),i=(i=Math.imul(D,nt))+Math.imul(B,rt)|0,o=Math.imul(B,nt),n=n+Math.imul(U,ot)|0,i=(i=i+Math.imul(U,at)|0)+Math.imul(j,ot)|0,o=o+Math.imul(j,at)|0,n=n+Math.imul(x,ut)|0,i=(i=i+Math.imul(x,ct)|0)+Math.imul(N,ut)|0,o=o+Math.imul(N,ct)|0,n=n+Math.imul(k,ht)|0,i=(i=i+Math.imul(k,ft)|0)+Math.imul(C,ht)|0,o=o+Math.imul(C,ft)|0;var Ct=(c+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,mt)|0)+Math.imul(R,pt)|0))<<13)|0;c=((o=o+Math.imul(R,mt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(D,ot),i=(i=Math.imul(D,at))+Math.imul(B,ot)|0,o=Math.imul(B,at),n=n+Math.imul(U,ut)|0,i=(i=i+Math.imul(U,ct)|0)+Math.imul(j,ut)|0,o=o+Math.imul(j,ct)|0,n=n+Math.imul(x,ht)|0,i=(i=i+Math.imul(x,ft)|0)+Math.imul(N,ht)|0,o=o+Math.imul(N,ft)|0;var It=(c+(n=n+Math.imul(k,pt)|0)|0)+((8191&(i=(i=i+Math.imul(k,mt)|0)+Math.imul(C,pt)|0))<<13)|0;c=((o=o+Math.imul(C,mt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(D,ut),i=(i=Math.imul(D,ct))+Math.imul(B,ut)|0,o=Math.imul(B,ct),n=n+Math.imul(U,ht)|0,i=(i=i+Math.imul(U,ft)|0)+Math.imul(j,ht)|0,o=o+Math.imul(j,ft)|0;var xt=(c+(n=n+Math.imul(x,pt)|0)|0)+((8191&(i=(i=i+Math.imul(x,mt)|0)+Math.imul(N,pt)|0))<<13)|0;c=((o=o+Math.imul(N,mt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,ht),i=(i=Math.imul(D,ft))+Math.imul(B,ht)|0,o=Math.imul(B,ft);var Nt=(c+(n=n+Math.imul(U,pt)|0)|0)+((8191&(i=(i=i+Math.imul(U,mt)|0)+Math.imul(j,pt)|0))<<13)|0;c=((o=o+Math.imul(j,mt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863;var Pt=(c+(n=Math.imul(D,pt))|0)+((8191&(i=(i=Math.imul(D,mt))+Math.imul(B,pt)|0))<<13)|0;return c=((o=Math.imul(B,mt))+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,u[0]=yt,u[1]=gt,u[2]=vt,u[3]=bt,u[4]=_t,u[5]=wt,u[6]=At,u[7]=Et,u[8]=Mt,u[9]=St,u[10]=Tt,u[11]=Rt,u[12]=Ot,u[13]=kt,u[14]=Ct,u[15]=It,u[16]=xt,u[17]=Nt,u[18]=Pt,0!==c&&(u[19]=c,r.length++),r};function g(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var a=i;i=0;for(var s=67108863&n,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var l=o-c,h=(0|t.words[l])*(0|e.words[c]),f=67108863&h;s=67108863&(f=f+s|0),i+=(a=(a=a+(h/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}r.words[o]=s,n=a,a=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function v(t,e,r){return g(t,e,r)}function b(t,e){this.x=t,this.y=e}Math.imul||(y=m),o.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?y(this,t,e):r<63?m(this,t,e):r<1024?g(this,t,e):v(this,t,e)},b.prototype.makeRBT=function(t){for(var e=new Array(t),r=o.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},b.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},b.prototype.permute=function(t,e,r,n,i,o){for(var a=0;a<o;a++)n[a]=e[t[a]],i[a]=r[t[a]]},b.prototype.transform=function(t,e,r,n,i,o){this.permute(o,t,e,r,n,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var h=u,f=c,d=0;d<a;d++){var p=r[l+d],m=n[l+d],y=r[l+d+a],g=n[l+d+a],v=h*y-f*g;g=h*g+f*y,y=v,r[l+d]=p+y,n[l+d]=m+g,r[l+d+a]=p-y,n[l+d+a]=m-g,d!==s&&(v=u*h-c*f,f=u*f+c*h,h=v)}},b.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},b.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},b.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},b.prototype.convert13b=function(t,e,r,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],r[2*a]=8191&o,o>>>=13,r[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)r[a]=0;n(0===o),n(0==(-8192&o))},b.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},b.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),o=this.stub(n),a=new Array(n),s=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(t.words,t.length,a,n),this.convert13b(e.words,e.length,c,n),this.transform(a,o,s,u,n,i),this.transform(c,o,l,h,n,i);for(var d=0;d<n;d++){var p=s[d]*l[d]-u[d]*h[d];u[d]=s[d]*h[d]+u[d]*l[d],s[d]=p}return this.conjugate(s,u,n),this.transform(s,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),v(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,a=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=a>>>26,this.words[i]=67108863&a}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new o(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<r;this.words[e]=u|a,a=s>>>26-r}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=r;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,r){var i,o,a=t.length+r;this._expand(a);var s=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+s;var u=(0|t.words[i])*e;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)s=(o=(0|this.words[i+r])+s)>>26,this.words[i+r]=67108863&o;if(0===s)return this._strip();for(n(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,a=0|i.words[i.length-1];0!==(r=26-this._countBits(a))&&(i=i.ushln(r),n.iushln(r),a=0|i.words[i.length-1]);var s,u=n.length-i.length;if("mod"!==e){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);s&&(s.words[h]=f)}return s&&s._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:s||null,mod:n}},o.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),r&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modrn(t.words[0]))}:this._wordDiv(t,e);var i,a,s},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=(1<<26)%t,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%t;return e?-i:i},o.prototype.modn=function(t){return this.modrn(t)},o.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=e.clone();!e.isZero();){for(var f=0,d=1;0==(e.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(e.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(h)),i.iushrn(1),a.iushrn(1);for(var p=0,m=1;0==(r.words[0]&m)&&p<26;++p,m<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(h)),s.iushrn(1),u.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(s),a.isub(u)):(r.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,a=new o(1),s=new o(0),u=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(e.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(e.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);e.cmp(r)>=0?(e.isub(r),a.isub(s)):(r.isub(e),s.isub(a))}return(i=0===e.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(t),i},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var o=e;e=r,r=o}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,a=r;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new T(t)},o.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var _={k256:null,p224:null,p192:null,p25519:null};function w(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function A(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function M(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function T(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function R(t){T.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},w.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},w.prototype.split=function(t,e){t.iushrn(this.n,0,e)},w.prototype.imulK=function(t){return t.imul(this.k)},i(A,w),A.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n<r;n++)e.words[n]=t.words[n];if(e.length=r,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[n-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},A.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(E,w),i(M,w),i(S,w),S.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(_[t])return _[t];var e;if("k256"===t)e=new A;else if("p224"===t)e=new E;else if("p192"===t)e=new M;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new S}return _[t]=e,e},T.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},T.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},T.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(l(t,t.umod(this.m)._forceRed(this)),t)},T.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},T.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},T.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},T.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},T.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},T.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},T.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},T.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},T.prototype.isqr=function(t){return this.imul(t,t.clone())},T.prototype.sqr=function(t){return this.mul(t,t)},T.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new o(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);n(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),f=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var m=d,y=0;0!==m.cmp(s);y++)m=m.redSqr();n(y<p);var g=this.pow(h,new o(1).iushln(p-y-1));f=f.redMul(g),h=g.redSqr(),d=d.redMul(h),p=y}return f},T.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},T.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),n=e.length-1;n>=0;n--){for(var c=e.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==a?(a<<=1,a|=h,(4===++s||0===n&&0===l)&&(i=this.mul(i,r[a]),s=0,a=0)):s=0}u=26}return i},T.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},T.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new R(t)},i(R,T),R.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},R.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},R.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},R.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},R.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,r(51)(t))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(15);Object.defineProperty(e,"base_encode",{enumerable:!0,get:function(){return n.baseEncode}}),Object.defineProperty(e,"base_decode",{enumerable:!0,get:function(){return n.baseDecode}}),Object.defineProperty(e,"serialize",{enumerable:!0,get:function(){return n.serialize}}),Object.defineProperty(e,"deserialize",{enumerable:!0,get:function(){return n.deserialize}}),Object.defineProperty(e,"BorshError",{enumerable:!0,get:function(){return n.BorshError}}),Object.defineProperty(e,"BinaryWriter",{enumerable:!0,get:function(){return n.BinaryWriter}}),Object.defineProperty(e,"BinaryReader",{enumerable:!0,get:function(){return n.BinaryReader}})},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Assignable=e.Enum=void 0;e.Enum=class{constructor(t){if(1!==Object.keys(t).length)throw new Error("Enum can only take single value");Object.keys(t).map(e=>{this[e]=t[e],this.enum=e})}};e.Assignable=class{constructor(t){Object.keys(t).map(e=>{this[e]=t[e]})}}},function(t,e,r){"use strict";function n(t){return new Promise(e=>setTimeout(e,t))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=async function(t,e,r,i){let o=t;for(let t=0;t<e;t++){const t=await i();if(t)return t;await n(o),o*=r}return null}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getErrorTypeFromErrorMessage=e.formatError=e.parseResultError=e.parseRpcError=e.ServerError=void 0;const i=n(r(103)),o=n(r(104)),a=n(r(105)),s=r(55),u=r(18),c={formatNear:()=>(t,e)=>s.utils.format.formatNearAmount(e(t))};class l extends u.TypedError{}e.ServerError=l;class h extends l{}function f(t){const e={},r=function t(e,r,n,i){let o,a,s;for(const t in r){if(u=e[t],"[object String]"===Object.prototype.toString.call(u))return e[t];if(p(e[t]))o=e[t],a=r[t],s=t;else{if(!p(e.kind)||!p(e.kind[t]))continue;o=e.kind[t],a=r[t],s=t}}var u;if(o&&a){for(const t of Object.keys(a.props))n[t]=o[t];return t(o,r,n,s)}return n.kind=e,i}(t,o.default.schema,e,""),n=new l(d(r,e),r);return Object.assign(n,e),n}function d(t,e){return"string"==typeof a.default[t]?i.default.render(a.default[t],{...e,...c}):JSON.stringify(e)}function p(t){return"[object Object]"===Object.prototype.toString.call(t)}e.parseRpcError=f,e.parseResultError=function(t){const e=f(t.status.Failure),r=new h;return Object.assign(r,e),r.type=e.type,r.message=e.message,r.transaction_outcome=t.transaction_outcome,r},e.formatError=d,e.getErrorTypeFromErrorMessage=function(t){switch(!0){case/^account .*? does not exist while viewing$/.test(t):case/^Account .*? doesn't exist$/.test(t):return"AccountDoesNotExist";case/^access key .*? does not exist while viewing$/.test(t):return"AccessKeyDoesNotExist";case/wasm execution failed with error: FunctionCallError\(CompilationError\(CodeDoesNotExist/.test(t):return"CodeDoesNotExist";case/Transaction nonce \d+ must be larger than nonce of the used access key \d+/.test(t):return"InvalidNonce";default:return"UntypedError"}}},function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.logWarning=e.rpc_errors=e.KeyPairEd25519=e.KeyPair=e.PublicKey=e.format=e.enums=e.web=e.serialize=e.key_pair=void 0;const a=o(r(6));e.key_pair=a;const s=o(r(39));e.serialize=s;const u=o(r(27));e.web=u;const c=o(r(41));e.enums=c;const l=o(r(57));e.format=l;const h=o(r(43));e.rpc_errors=h;const f=r(6);Object.defineProperty(e,"PublicKey",{enumerable:!0,get:function(){return f.PublicKey}}),Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return f.KeyPair}}),Object.defineProperty(e,"KeyPairEd25519",{enumerable:!0,get:function(){return f.KeyPairEd25519}});const d=r(18);Object.defineProperty(e,"logWarning",{enumerable:!0,get:function(){return d.logWarning}})},function(t,e,r){r(115),t.exports=r(65)},function(t,e){t.exports=function(t,e,r){var n="";if(n+=t.name||"Error",n+=": "+(t.message||""),r instanceof Array)for(var i in r){n+="\n   # "+r[i]}for(var o in e){n+="\n   at "+e[o].toString()}return n}},function(t,e,r){"use strict";var n=r(0),i=r(2);var o=r(4),a=o.a.isStandardBrowserEnv?{write:function(t,e,r,i,o,a){const s=[];s.push(t+"="+encodeURIComponent(e)),n.a.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.a.isString(i)&&s.push("path="+i),n.a.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},s=r(30),u=r(34),c=o.a.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let r;function i(r){let n=r;return t&&(e.setAttribute("href",n),n=e.href),e.setAttribute("href",n),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:"/"===e.pathname.charAt(0)?e.pathname:"/"+e.pathname}}return r=i(window.location.href),function(t){const e=n.a.isString(t)?i(t):t;return e.protocol===r.protocol&&e.host===r.host}}():function(){return!0},l=r(32),h=r(10);var f=r(5);var d=function(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i,o=0,a=0;return e=void 0!==e?e:1e3,function(s){const u=Date.now(),c=n[a];i||(i=u),r[o]=s,n[o]=u;let l=a,h=0;for(;l!==o;)h+=r[l++],l%=t;if(o=(o+1)%t,o===a&&(a=(a+1)%t),u-i<e)return;const f=c&&u-c;return f?Math.round(1e3*h/f):void 0}};function p(t,e){let r=0;const n=d(50,250);return i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,s=o-r,u=n(s);r=o;const c={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&o<=a?(a-o)/u:void 0};c[e?"download":"upload"]=!0,t(c)}}function m(t){return new Promise((function(e,r){let d=t.data;const m=f.a.from(t.headers).normalize(),y=t.responseType;let g;function v(){t.cancelToken&&t.cancelToken.unsubscribe(g),t.signal&&t.signal.removeEventListener("abort",g)}n.a.isFormData(d)&&o.a.isStandardBrowserEnv&&m.setContentType(!1);let b=new XMLHttpRequest;if(t.auth){const e=t.auth.username||"",r=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";m.set("Authorization","Basic "+btoa(e+":"+r))}const _=Object(u.a)(t.baseURL,t.url);function w(){if(!b)return;const n=f.a.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders());!function(t,e,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?e(new i.a("Request failed with status code "+r.status,[i.a.ERR_BAD_REQUEST,i.a.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):t(r)}((function(t){e(t),v()}),(function(t){r(t),v()}),{data:y&&"text"!==y&&"json"!==y?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:n,config:t,request:b}),b=null}if(b.open(t.method.toUpperCase(),Object(s.a)(_,t.params,t.paramsSerializer),!0),b.timeout=t.timeout,"onloadend"in b?b.onloadend=w:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(w)},b.onabort=function(){b&&(r(new i.a("Request aborted",i.a.ECONNABORTED,t,b)),b=null)},b.onerror=function(){r(new i.a("Network Error",i.a.ERR_NETWORK,t,b)),b=null},b.ontimeout=function(){let e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const n=t.transitional||l.a;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(new i.a(e,n.clarifyTimeoutError?i.a.ETIMEDOUT:i.a.ECONNABORTED,t,b)),b=null},o.a.isStandardBrowserEnv){const e=(t.withCredentials||c(_))&&t.xsrfCookieName&&a.read(t.xsrfCookieName);e&&m.set(t.xsrfHeaderName,e)}void 0===d&&m.setContentType(null),"setRequestHeader"in b&&n.a.forEach(m.toJSON(),(function(t,e){b.setRequestHeader(e,t)})),n.a.isUndefined(t.withCredentials)||(b.withCredentials=!!t.withCredentials),y&&"json"!==y&&(b.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&b.addEventListener("progress",p(t.onDownloadProgress,!0)),"function"==typeof t.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",p(t.onUploadProgress)),(t.cancelToken||t.signal)&&(g=e=>{b&&(r(!e||e.type?new h.a(null,t,b):e),b.abort(),b=null)},t.cancelToken&&t.cancelToken.subscribe(g),t.signal&&(t.signal.aborted?g():t.signal.addEventListener("abort",g)));const A=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(_);A&&-1===o.a.protocols.indexOf(A)?r(new i.a("Unsupported protocol "+A+":",i.a.ERR_BAD_REQUEST,t)):b.send(d||null)}))}const y={http:m,xhr:m};e.a={getAdapter:t=>{if(n.a.isString(t)){const e=y[t];if(!t)throw Error(n.a.hasOwnProp(t)?`Adapter '${t}' is not available in the build`:`Can not resolve adapter '${t}'`);return e}if(!n.a.isFunction(t))throw new TypeError("adapter is not a function");return t},adapters:y}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.API=void 0,r(24);var n,i=r(74),o=(n=r(80))&&n.__esModule?n:{default:n},a=r(20),s=r(14),u=r(25);function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function f(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){h(o,n,i,a,s,"next",t)}function s(t){h(o,n,i,a,s,"throw",t)}a(void 0)}))}}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var m=function(){function t(e){switch(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,"apiBaseUrl",s.API_BASE_NEAR_TESTNET),p(this,"defaultLimit",20),p(this,"chainName",a.Chain.near),p(this,"networkName",void 0),p(this,"constants",void 0),this.constants=e.constants,this.networkName=e.networkName||a.Network.testnet,e.chain){case a.Chain.near:this.networkName===a.Network.testnet?this.apiBaseUrl=this.constants.API_BASE_NEAR_TESTNET||e.apiBaseUrl||s.API_BASE_NEAR_TESTNET:this.networkName===a.Network.mainnet&&(this.apiBaseUrl=this.constants.API_BASE_NEAR_MAINNET||e.apiBaseUrl||s.API_BASE_NEAR_MAINNET),this.chainName=a.Chain.near;break;default:this.apiBaseUrl=this.constants.API_BASE_NEAR_TESTNET||e.apiBaseUrl||s.API_BASE_NEAR_TESTNET,this.chainName=e.chain||a.Chain.near}}var e,r,n,c,h,m,y,g,v,b,_,w,A,E,M,S,T,R,O,k,C;return e=t,(r=[{key:"fetchMarketplace",value:(C=f(regeneratorRuntime.mark((function t(e,r){var n,i,a,s,c,h=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,o.default)("".concat(this.apiBaseUrl,"/api/rest/"),"/marketplace",{limit:r||this.defaultLimit,offset:e||0}),t.next=3,fetch(n);case 3:return i=t.sent,t.next=6,i.json();case 6:return a=t.sent,s=a.list.map(function(){var t=f(regeneratorRuntime.mark((function t(e){var r,n,i,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.token.thing.store.baseUri,n=e.token.thing.metaId,i=(0,o.default)(r,n),t.next=5,h.fetchMetadata(i);case 5:return a=t.sent,s=a.data,t.abrupt("return",l(l({},e),{},{metadata:s}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=10,Promise.all(s);case 10:return c=t.sent,t.abrupt("return",(0,u.formatResponse)({data:c}));case 12:case"end":return t.stop()}}),t,this)}))),function(t,e){return C.apply(this,arguments)})},{key:"fetchAccount",value:(k=f(regeneratorRuntime.mark((function t(e){var r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,o.default)("".concat(this.apiBaseUrl,"/api/rest/"),"/accounts/:accountId",{accountId:e}),t.next=3,fetch(r);case 3:return n=t.sent,t.next=6,n.json();case 6:return i=t.sent,t.abrupt("return",(0,u.formatResponse)({data:i}));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return k.apply(this,arguments)})},{key:"fetchTokenApprovals",value:(O=f(regeneratorRuntime.mark((function t(e,r){var n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,o.default)("".concat(this.apiBaseUrl,"/api/rest/"),"/token-approvals",{accountId:r,tokenKey:e}),t.next=3,fetch(n);case 3:return i=t.sent,t.next=6,i.json();case 6:return a=t.sent,t.abrupt("return",(0,u.formatResponse)({data:a}));case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return O.apply(this,arguments)})},{key:"fetchApprovals",value:(R=f(regeneratorRuntime.mark((function t(e,r){var n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,o.default)("".concat(this.apiBaseUrl,"/api/rest/"),"/approvals/",{limit:r||this.defaultLimit,offset:e||0}),t.next=3,fetch(n);case 3:return i=t.sent,t.next=6,i.json();case 6:return a=t.sent,t.abrupt("return",(0,u.formatResponse)({data:a}));case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return R.apply(this,arguments)})},{key:"fetchThingMetadata",value:(T=f(regeneratorRuntime.mark((function t(e){var r,n,i,a,s,c,l,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,o.default)("".concat(this.apiBaseUrl,"/api/rest/"),"/things/:id",{id:e}),t.next=3,fetch(r);case 3:return n=t.sent,t.next=6,n.json();case 6:if(0!==(i=t.sent).thing.length){t.next=9;break}return t.abrupt("return",(0,u.formatResponse)({error:"".concat(e," is not a valid thing.")}));case 9:return a=i.thing[0],s=(0,o.default)(a.store.baseUri,a.metaId),t.next=13,this.fetchMetadata(s);case 13:if(c=t.sent,l=c.data,!(h=c.error)){t.next=18;break}return t.abrupt("return",(0,u.formatResponse)({error:h}));case 18:return t.abrupt("return",(0,u.formatResponse)({data:l}));case 19:case"end":return t.stop()}}),t,this)}))),function(t){return T.apply(this,arguments)})},{key:"fetchListById",value:(S=f(regeneratorRuntime.mark((function t(e){var r,n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,o.default)("".concat(this.apiBaseUrl,"/api/rest/"),"/lists/:id",{id:e}),t.next=3,fetch(r);case 3:return n=t.sent,t.next=6,n.json();case 6:if(0!==(i=t.sent).list.length){t.next=9;break}return t.abrupt("return",(0,u.formatResponse)({error:"No results for ".concat(e)}));case 9:return a=i.list[0],t.abrupt("return",(0,u.formatResponse)({data:a}));case 11:case"end":return t.stop()}}),t,this)}))),function(t){return S.apply(this,arguments)})},{key:"fetchLists",value:(M=f(regeneratorRuntime.mark((function t(e,r){var n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,o.default)("".concat(this.apiBaseUrl,"/api/rest/"),"/lists/",{limit:r||this.defaultLimit,offset:e||0}),t.next=3,fetch(n);case 3:return i=t.sent,t.next=6,i.json();case 6:return a=t.sent,t.abrupt("return",(0,u.formatResponse)({data:a}));case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return M.apply(this,arguments)})},{key:"fetchThingById",value:(E=f(regeneratorRuntime.mark((function t(e){var r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,o.default)("".concat(this.apiBaseUrl,"/api/rest/"),"/things/:id",{id:e}),t.next=3,fetch(r);case 3:return n=t.sent,t.next=6,n.json();case 6:return i=t.sent,t.abrupt("return",(0,u.formatResponse)({data:i}));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return E.apply(this,arguments)})},{key:"fetchThings",value:(A=f(regeneratorRuntime.mark((function t(e,r){var n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,o.default)("".concat(this.apiBaseUrl,"/api/rest/"),"/things/",{limit:r||this.defaultLimit,offset:e||0}),t.next=3,fetch(n);case 3:return i=t.sent,t.next=6,i.json();case 6:return a=t.sent,t.abrupt("return",(0,u.formatResponse)({data:a}));case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return A.apply(this,arguments)})},{key:"fetchTokenById",value:(w=f(regeneratorRuntime.mark((function t(e){var r,n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,o.default)("".concat(this.apiBaseUrl,"/api/rest/"),"/tokens/:id",{id:e}),t.next=3,fetch(r);case 3:return n=t.sent,t.next=6,n.json();case 6:if(0!==(i=t.sent).token.length){t.next=9;break}return t.abrupt("return",(0,u.formatResponse)({error:"".concat(e," is not a valid token")}));case 9:return a=i.token[0],t.abrupt("return",(0,u.formatResponse)({data:a}));case 11:case"end":return t.stop()}}),t,this)}))),function(t){return w.apply(this,arguments)})},{key:"fetchTokens",value:(_=f(regeneratorRuntime.mark((function t(e,r){var n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,o.default)("".concat(this.apiBaseUrl,"/api/rest/"),"/tokens/",{limit:r||this.defaultLimit,offset:e||0}),t.next=3,fetch(n);case 3:return i=t.sent,t.next=6,i.json();case 6:return a=t.sent,t.abrupt("return",(0,u.formatResponse)({data:a}));case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return _.apply(this,arguments)})},{key:"fetchStoreById",value:(b=f(regeneratorRuntime.mark((function t(e){var r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(0,o.default)("".concat(this.apiBaseUrl,"/api/rest/"),"/stores/:id/",{id:e}),t.next=3,fetch(r);case 3:return n=t.sent,t.next=6,n.json();case 6:return i=t.sent,t.abrupt("return",(0,u.formatResponse)({data:i}));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return b.apply(this,arguments)})},{key:"fetchStores",value:(v=f(regeneratorRuntime.mark((function t(e,r){var n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,o.default)("".concat(this.apiBaseUrl,"/api/rest/"),"/stores/",{limit:r||this.defaultLimit,offset:e||0}),t.next=3,fetch(n);case 3:return i=t.sent,t.next=6,i.json();case 6:return a=t.sent,t.abrupt("return",(0,u.formatResponse)({data:a}));case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return v.apply(this,arguments)})},{key:"fetchCategories",value:(g=f(regeneratorRuntime.mark((function t(){var e,r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,o.default)("".concat(this.apiBaseUrl,"/api/rest/"),"/categories/"),t.next=3,fetch(e);case 3:return r=t.sent,t.next=6,r.json();case 6:return n=t.sent,i=n.thing.map((function(t){return t.memo})),t.abrupt("return",(0,u.formatResponse)({data:i}));case 9:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"fetchStats",value:(y=f(regeneratorRuntime.mark((function t(){var e,r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=(0,o.default)("".concat(this.apiBaseUrl,"/api/rest/"),"/stats/"),t.next=3,fetch(e);case 3:return r=t.sent,t.next=6,r.json();case 6:return n=t.sent,t.abrupt("return",(0,u.formatResponse)({data:n}));case 8:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"isTokenOwner",value:(m=f(regeneratorRuntime.mark((function t(e,r){var n,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchTokenById(r);case 2:if(n=t.sent,i=n.data){t.next=6;break}return t.abrupt("return",(0,u.formatResponse)({data:!1}));case 6:return o=(null==i?void 0:i.ownerId)===e,t.abrupt("return",(0,u.formatResponse)({data:o}));case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return m.apply(this,arguments)})},{key:"fetchMetadata",value:(h=f(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:if((r=t.sent).ok){t.next=5;break}return t.abrupt("return",(0,u.formatResponse)({error:"Not found"}));case 5:return t.next=7,r.json();case 7:return n=t.sent,t.abrupt("return",(0,u.formatResponse)({data:n}));case 9:case"end":return t.stop()}}),t)}))),function(t){return h.apply(this,arguments)})},{key:"custom",value:(c=f(regeneratorRuntime.mark((function t(e,r){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,o.default)(this.apiBaseUrl,"/v1/graphql"),t.prev=1,t.next=4,(0,i.request)(n,e,r);case 4:return a=t.sent,t.abrupt("return",(0,u.formatResponse)({data:a}));case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",(0,u.formatResponse)({error:t.t0.message}));case 11:case"end":return t.stop()}}),t,this,[[1,8]])}))),function(t,e){return c.apply(this,arguments)})}])&&d(e.prototype,r),n&&d(e,n),t}();e.API=m},function(t,e,r){"use strict";r.r(e),e.default=function(t,e){return e=e||{},new Promise((function(r,n){var i=new XMLHttpRequest,o=[],a=[],s={},u=function(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:u,headers:{keys:function(){return o},entries:function(){return a},get:function(t){return s[t.toLowerCase()]},has:function(t){return t.toLowerCase()in s}}}};for(var c in i.open(e.method||"get",t,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,r){o.push(e=e.toLowerCase()),a.push([e,r]),s[e]=s[e]?s[e]+","+r:r})),r(u())},i.onerror=n,i.withCredentials="include"==e.credentials,e.headers)i.setRequestHeader(c,e.headers[c]);i.send(e.body||null)}))}},function(t,e,r){"use strict";var n=r(37);t.exports=function t(e,r,i){var o;void 0===r&&(r=""),void 0===i&&(i=n);var a=new Map;function s(t,e){var r=a.get(e);r?r.push.apply(r,t):a.set(e,t)}if(i(e))o=null,s([r],e);else{var u=r?r+".":"";if("undefined"!=typeof FileList&&e instanceof FileList)o=Array.prototype.map.call(e,(function(t,e){return s([""+u+e],t),null}));else if(Array.isArray(e))o=e.map((function(e,r){var n=t(e,""+u+r,i);return n.files.forEach(s),n.clone}));else if(e&&e.constructor===Object)for(var c in o={},e){var l=t(e[c],""+u+c,i);l.files.forEach(s),o[c]=l.clone}else o=e}return{clone:o,files:a}}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n="undefined"!=typeof window&&void 0!==window.document,i="object"===("undefined"==typeof self?"undefined":r(self))&&self.constructor&&"DedicatedWorkerGlobalScope"===self.constructor.name,o=void 0!==t&&null!=t.versions&&null!=t.versions.node;e.isBrowser=n,e.isWebWorker=i,e.isNode=o,e.isJsDom=function(){return"undefined"!=typeof window&&"nodejs"===window.name||navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")}}).call(this,r(8))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryKeyStore=void 0;const n=r(26),i=r(6);class o extends n.KeyStore{constructor(){super(),this.keys={}}async setKey(t,e,r){this.keys[`${e}:${t}`]=r.toString()}async getKey(t,e){const r=this.keys[`${e}:${t}`];return r?i.KeyPair.fromString(r):null}async removeKey(t,e){delete this.keys[`${e}:${t}`]}async clear(){this.keys={}}async getNetworks(){const t=new Set;return Object.keys(this.keys).forEach(e=>{const r=e.split(":");t.add(r[1])}),Array.from(t.values())}async getAccounts(t){const e=new Array;return Object.keys(this.keys).forEach(r=>{const n=r.split(":");n[n.length-1]===t&&e.push(n.slice(0,n.length-1).join(":"))}),e}toString(){return"InMemoryKeyStore"}}e.InMemoryKeyStore=o},function(t,e,r){!function(t){"use strict";var e=function(t){var e,r=new Float64Array(16);if(t)for(e=0;e<t.length;e++)r[e]=t[e];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=e(),s=e([1]),u=e([56129,1]),c=e([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=e([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=e([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=e([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=e([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(t,e,r,n){t[e]=r>>24&255,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=255&r,t[e+4]=n>>24&255,t[e+5]=n>>16&255,t[e+6]=n>>8&255,t[e+7]=255&n}function m(t,e,r,n,i){var o,a=0;for(o=0;o<i;o++)a|=t[e+o]^r[n+o];return(1&a-1>>>8)-1}function y(t,e,r,n){return m(t,e,r,n,16)}function g(t,e,r,n){return m(t,e,r,n,32)}function v(t,e,r,n){!function(t,e,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,v=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,_=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=o,A=a,E=s,M=u,S=c,T=l,R=h,O=f,k=d,C=p,I=m,x=y,N=g,P=v,U=b,j=_,L=0;L<20;L+=2)w^=(i=(N^=(i=(k^=(i=(S^=(i=w+N|0)<<7|i>>>25)+w|0)<<9|i>>>23)+S|0)<<13|i>>>19)+k|0)<<18|i>>>14,T^=(i=(A^=(i=(P^=(i=(C^=(i=T+A|0)<<7|i>>>25)+T|0)<<9|i>>>23)+C|0)<<13|i>>>19)+P|0)<<18|i>>>14,I^=(i=(R^=(i=(E^=(i=(U^=(i=I+R|0)<<7|i>>>25)+I|0)<<9|i>>>23)+U|0)<<13|i>>>19)+E|0)<<18|i>>>14,j^=(i=(x^=(i=(O^=(i=(M^=(i=j+x|0)<<7|i>>>25)+j|0)<<9|i>>>23)+M|0)<<13|i>>>19)+O|0)<<18|i>>>14,w^=(i=(M^=(i=(E^=(i=(A^=(i=w+M|0)<<7|i>>>25)+w|0)<<9|i>>>23)+A|0)<<13|i>>>19)+E|0)<<18|i>>>14,T^=(i=(S^=(i=(O^=(i=(R^=(i=T+S|0)<<7|i>>>25)+T|0)<<9|i>>>23)+R|0)<<13|i>>>19)+O|0)<<18|i>>>14,I^=(i=(C^=(i=(k^=(i=(x^=(i=I+C|0)<<7|i>>>25)+I|0)<<9|i>>>23)+x|0)<<13|i>>>19)+k|0)<<18|i>>>14,j^=(i=(U^=(i=(P^=(i=(N^=(i=j+U|0)<<7|i>>>25)+j|0)<<9|i>>>23)+N|0)<<13|i>>>19)+P|0)<<18|i>>>14;w=w+o|0,A=A+a|0,E=E+s|0,M=M+u|0,S=S+c|0,T=T+l|0,R=R+h|0,O=O+f|0,k=k+d|0,C=C+p|0,I=I+m|0,x=x+y|0,N=N+g|0,P=P+v|0,U=U+b|0,j=j+_|0,t[0]=w>>>0&255,t[1]=w>>>8&255,t[2]=w>>>16&255,t[3]=w>>>24&255,t[4]=A>>>0&255,t[5]=A>>>8&255,t[6]=A>>>16&255,t[7]=A>>>24&255,t[8]=E>>>0&255,t[9]=E>>>8&255,t[10]=E>>>16&255,t[11]=E>>>24&255,t[12]=M>>>0&255,t[13]=M>>>8&255,t[14]=M>>>16&255,t[15]=M>>>24&255,t[16]=S>>>0&255,t[17]=S>>>8&255,t[18]=S>>>16&255,t[19]=S>>>24&255,t[20]=T>>>0&255,t[21]=T>>>8&255,t[22]=T>>>16&255,t[23]=T>>>24&255,t[24]=R>>>0&255,t[25]=R>>>8&255,t[26]=R>>>16&255,t[27]=R>>>24&255,t[28]=O>>>0&255,t[29]=O>>>8&255,t[30]=O>>>16&255,t[31]=O>>>24&255,t[32]=k>>>0&255,t[33]=k>>>8&255,t[34]=k>>>16&255,t[35]=k>>>24&255,t[36]=C>>>0&255,t[37]=C>>>8&255,t[38]=C>>>16&255,t[39]=C>>>24&255,t[40]=I>>>0&255,t[41]=I>>>8&255,t[42]=I>>>16&255,t[43]=I>>>24&255,t[44]=x>>>0&255,t[45]=x>>>8&255,t[46]=x>>>16&255,t[47]=x>>>24&255,t[48]=N>>>0&255,t[49]=N>>>8&255,t[50]=N>>>16&255,t[51]=N>>>24&255,t[52]=P>>>0&255,t[53]=P>>>8&255,t[54]=P>>>16&255,t[55]=P>>>24&255,t[56]=U>>>0&255,t[57]=U>>>8&255,t[58]=U>>>16&255,t[59]=U>>>24&255,t[60]=j>>>0&255,t[61]=j>>>8&255,t[62]=j>>>16&255,t[63]=j>>>24&255}(t,e,r,n)}function b(t,e,r,n){!function(t,e,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,s=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,l=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,f=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,p=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,m=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,v=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,_=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,w=0;w<20;w+=2)o^=(i=(g^=(i=(d^=(i=(c^=(i=o+g|0)<<7|i>>>25)+o|0)<<9|i>>>23)+c|0)<<13|i>>>19)+d|0)<<18|i>>>14,l^=(i=(a^=(i=(v^=(i=(p^=(i=l+a|0)<<7|i>>>25)+l|0)<<9|i>>>23)+p|0)<<13|i>>>19)+v|0)<<18|i>>>14,m^=(i=(h^=(i=(s^=(i=(b^=(i=m+h|0)<<7|i>>>25)+m|0)<<9|i>>>23)+b|0)<<13|i>>>19)+s|0)<<18|i>>>14,_^=(i=(y^=(i=(f^=(i=(u^=(i=_+y|0)<<7|i>>>25)+_|0)<<9|i>>>23)+u|0)<<13|i>>>19)+f|0)<<18|i>>>14,o^=(i=(u^=(i=(s^=(i=(a^=(i=o+u|0)<<7|i>>>25)+o|0)<<9|i>>>23)+a|0)<<13|i>>>19)+s|0)<<18|i>>>14,l^=(i=(c^=(i=(f^=(i=(h^=(i=l+c|0)<<7|i>>>25)+l|0)<<9|i>>>23)+h|0)<<13|i>>>19)+f|0)<<18|i>>>14,m^=(i=(p^=(i=(d^=(i=(y^=(i=m+p|0)<<7|i>>>25)+m|0)<<9|i>>>23)+y|0)<<13|i>>>19)+d|0)<<18|i>>>14,_^=(i=(b^=(i=(v^=(i=(g^=(i=_+b|0)<<7|i>>>25)+_|0)<<9|i>>>23)+g|0)<<13|i>>>19)+v|0)<<18|i>>>14;t[0]=o>>>0&255,t[1]=o>>>8&255,t[2]=o>>>16&255,t[3]=o>>>24&255,t[4]=l>>>0&255,t[5]=l>>>8&255,t[6]=l>>>16&255,t[7]=l>>>24&255,t[8]=m>>>0&255,t[9]=m>>>8&255,t[10]=m>>>16&255,t[11]=m>>>24&255,t[12]=_>>>0&255,t[13]=_>>>8&255,t[14]=_>>>16&255,t[15]=_>>>24&255,t[16]=h>>>0&255,t[17]=h>>>8&255,t[18]=h>>>16&255,t[19]=h>>>24&255,t[20]=f>>>0&255,t[21]=f>>>8&255,t[22]=f>>>16&255,t[23]=f>>>24&255,t[24]=d>>>0&255,t[25]=d>>>8&255,t[26]=d>>>16&255,t[27]=d>>>24&255,t[28]=p>>>0&255,t[29]=p>>>8&255,t[30]=p>>>16&255,t[31]=p>>>24&255}(t,e,r,n)}var _=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(t,e,r,n,i,o,a){var s,u,c=new Uint8Array(16),l=new Uint8Array(64);for(u=0;u<16;u++)c[u]=0;for(u=0;u<8;u++)c[u]=o[u];for(;i>=64;){for(v(l,c,a,_),u=0;u<64;u++)t[e+u]=r[n+u]^l[u];for(s=1,u=8;u<16;u++)s=s+(255&c[u])|0,c[u]=255&s,s>>>=8;i-=64,e+=64,n+=64}if(i>0)for(v(l,c,a,_),u=0;u<i;u++)t[e+u]=r[n+u]^l[u];return 0}function A(t,e,r,n,i){var o,a,s=new Uint8Array(16),u=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=n[a];for(;r>=64;){for(v(u,s,i,_),a=0;a<64;a++)t[e+a]=u[a];for(o=1,a=8;a<16;a++)o=o+(255&s[a])|0,s[a]=255&o,o>>>=8;r-=64,e+=64}if(r>0)for(v(u,s,i,_),a=0;a<r;a++)t[e+a]=u[a];return 0}function E(t,e,r,n,i){var o=new Uint8Array(32);b(o,n,i,_);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=n[s+16];return A(t,e,r,a,o)}function M(t,e,r,n,i,o,a){var s=new Uint8Array(32);b(s,o,a,_);for(var u=new Uint8Array(8),c=0;c<8;c++)u[c]=o[c+16];return w(t,e,r,n,i,u,s)}var S=function(t){var e,r,n,i,o,a,s,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,r=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|r<<3),n=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&t[8]|(255&t[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(o>>>14|a<<2),s=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(a>>>11|s<<5),u=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(s>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};function T(t,e,r,n,i,o){var a=new S(o);return a.update(r,n,i),a.finish(t,e),0}function R(t,e,r,n,i,o){var a=new Uint8Array(16);return T(a,0,r,n,i,o),y(t,e,a,0)}function O(t,e,r,n,i){var o;if(r<32)return-1;for(M(t,0,e,0,r,n,i),T(t,16,t,32,r-32,t),o=0;o<16;o++)t[o]=0;return 0}function k(t,e,r,n,i){var o,a=new Uint8Array(32);if(r<32)return-1;if(E(a,0,32,n,i),0!==R(e,16,e,32,r-32,a))return-1;for(M(t,0,e,0,r,n,i),o=0;o<32;o++)t[o]=0;return 0}function C(t,e){var r;for(r=0;r<16;r++)t[r]=0|e[r]}function I(t){var e,r,n=1;for(e=0;e<16;e++)r=t[e]+n+65535,n=Math.floor(r/65536),t[e]=r-65536*n;t[0]+=n-1+37*(n-1)}function x(t,e,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(t[o]^e[o]),t[o]^=n,e[o]^=n}function N(t,r){var n,i,o,a=e(),s=e();for(n=0;n<16;n++)s[n]=r[n];for(I(s),I(s),I(s),i=0;i<2;i++){for(a[0]=s[0]-65517,n=1;n<15;n++)a[n]=s[n]-65535-(a[n-1]>>16&1),a[n-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,x(s,a,1-o)}for(n=0;n<16;n++)t[2*n]=255&s[n],t[2*n+1]=s[n]>>8}function P(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return N(r,t),N(n,e),g(r,0,n,0)}function U(t){var e=new Uint8Array(32);return N(e,t),1&e[0]}function j(t,e){var r;for(r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}function L(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]+r[n]}function D(t,e,r){for(var n=0;n<16;n++)t[n]=e[n]-r[n]}function B(t,e,r){var n,i,o=0,a=0,s=0,u=0,c=0,l=0,h=0,f=0,d=0,p=0,m=0,y=0,g=0,v=0,b=0,_=0,w=0,A=0,E=0,M=0,S=0,T=0,R=0,O=0,k=0,C=0,I=0,x=0,N=0,P=0,U=0,j=r[0],L=r[1],D=r[2],B=r[3],F=r[4],K=r[5],H=r[6],q=r[7],W=r[8],z=r[9],V=r[10],G=r[11],Y=r[12],J=r[13],X=r[14],Z=r[15];o+=(n=e[0])*j,a+=n*L,s+=n*D,u+=n*B,c+=n*F,l+=n*K,h+=n*H,f+=n*q,d+=n*W,p+=n*z,m+=n*V,y+=n*G,g+=n*Y,v+=n*J,b+=n*X,_+=n*Z,a+=(n=e[1])*j,s+=n*L,u+=n*D,c+=n*B,l+=n*F,h+=n*K,f+=n*H,d+=n*q,p+=n*W,m+=n*z,y+=n*V,g+=n*G,v+=n*Y,b+=n*J,_+=n*X,w+=n*Z,s+=(n=e[2])*j,u+=n*L,c+=n*D,l+=n*B,h+=n*F,f+=n*K,d+=n*H,p+=n*q,m+=n*W,y+=n*z,g+=n*V,v+=n*G,b+=n*Y,_+=n*J,w+=n*X,A+=n*Z,u+=(n=e[3])*j,c+=n*L,l+=n*D,h+=n*B,f+=n*F,d+=n*K,p+=n*H,m+=n*q,y+=n*W,g+=n*z,v+=n*V,b+=n*G,_+=n*Y,w+=n*J,A+=n*X,E+=n*Z,c+=(n=e[4])*j,l+=n*L,h+=n*D,f+=n*B,d+=n*F,p+=n*K,m+=n*H,y+=n*q,g+=n*W,v+=n*z,b+=n*V,_+=n*G,w+=n*Y,A+=n*J,E+=n*X,M+=n*Z,l+=(n=e[5])*j,h+=n*L,f+=n*D,d+=n*B,p+=n*F,m+=n*K,y+=n*H,g+=n*q,v+=n*W,b+=n*z,_+=n*V,w+=n*G,A+=n*Y,E+=n*J,M+=n*X,S+=n*Z,h+=(n=e[6])*j,f+=n*L,d+=n*D,p+=n*B,m+=n*F,y+=n*K,g+=n*H,v+=n*q,b+=n*W,_+=n*z,w+=n*V,A+=n*G,E+=n*Y,M+=n*J,S+=n*X,T+=n*Z,f+=(n=e[7])*j,d+=n*L,p+=n*D,m+=n*B,y+=n*F,g+=n*K,v+=n*H,b+=n*q,_+=n*W,w+=n*z,A+=n*V,E+=n*G,M+=n*Y,S+=n*J,T+=n*X,R+=n*Z,d+=(n=e[8])*j,p+=n*L,m+=n*D,y+=n*B,g+=n*F,v+=n*K,b+=n*H,_+=n*q,w+=n*W,A+=n*z,E+=n*V,M+=n*G,S+=n*Y,T+=n*J,R+=n*X,O+=n*Z,p+=(n=e[9])*j,m+=n*L,y+=n*D,g+=n*B,v+=n*F,b+=n*K,_+=n*H,w+=n*q,A+=n*W,E+=n*z,M+=n*V,S+=n*G,T+=n*Y,R+=n*J,O+=n*X,k+=n*Z,m+=(n=e[10])*j,y+=n*L,g+=n*D,v+=n*B,b+=n*F,_+=n*K,w+=n*H,A+=n*q,E+=n*W,M+=n*z,S+=n*V,T+=n*G,R+=n*Y,O+=n*J,k+=n*X,C+=n*Z,y+=(n=e[11])*j,g+=n*L,v+=n*D,b+=n*B,_+=n*F,w+=n*K,A+=n*H,E+=n*q,M+=n*W,S+=n*z,T+=n*V,R+=n*G,O+=n*Y,k+=n*J,C+=n*X,I+=n*Z,g+=(n=e[12])*j,v+=n*L,b+=n*D,_+=n*B,w+=n*F,A+=n*K,E+=n*H,M+=n*q,S+=n*W,T+=n*z,R+=n*V,O+=n*G,k+=n*Y,C+=n*J,I+=n*X,x+=n*Z,v+=(n=e[13])*j,b+=n*L,_+=n*D,w+=n*B,A+=n*F,E+=n*K,M+=n*H,S+=n*q,T+=n*W,R+=n*z,O+=n*V,k+=n*G,C+=n*Y,I+=n*J,x+=n*X,N+=n*Z,b+=(n=e[14])*j,_+=n*L,w+=n*D,A+=n*B,E+=n*F,M+=n*K,S+=n*H,T+=n*q,R+=n*W,O+=n*z,k+=n*V,C+=n*G,I+=n*Y,x+=n*J,N+=n*X,P+=n*Z,_+=(n=e[15])*j,a+=38*(A+=n*D),s+=38*(E+=n*B),u+=38*(M+=n*F),c+=38*(S+=n*K),l+=38*(T+=n*H),h+=38*(R+=n*q),f+=38*(O+=n*W),d+=38*(k+=n*z),p+=38*(C+=n*V),m+=38*(I+=n*G),y+=38*(x+=n*Y),g+=38*(N+=n*J),v+=38*(P+=n*X),b+=38*(U+=n*Z),o=(n=(o+=38*(w+=n*L))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),_=(n=_+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),t[0]=o,t[1]=a,t[2]=s,t[3]=u,t[4]=c,t[5]=l,t[6]=h,t[7]=f,t[8]=d,t[9]=p,t[10]=m,t[11]=y,t[12]=g,t[13]=v,t[14]=b,t[15]=_}function F(t,e){B(t,e,e)}function K(t,r){var n,i=e();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)F(i,i),2!==n&&4!==n&&B(i,i,r);for(n=0;n<16;n++)t[n]=i[n]}function H(t,r){var n,i=e();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)F(i,i),1!==n&&B(i,i,r);for(n=0;n<16;n++)t[n]=i[n]}function q(t,r,n){var i,o,a=new Uint8Array(32),s=new Float64Array(80),c=e(),l=e(),h=e(),f=e(),d=e(),p=e();for(o=0;o<31;o++)a[o]=r[o];for(a[31]=127&r[31]|64,a[0]&=248,j(s,n),o=0;o<16;o++)l[o]=s[o],f[o]=c[o]=h[o]=0;for(c[0]=f[0]=1,o=254;o>=0;--o)x(c,l,i=a[o>>>3]>>>(7&o)&1),x(h,f,i),L(d,c,h),D(c,c,h),L(h,l,f),D(l,l,f),F(f,d),F(p,c),B(c,h,c),B(h,l,d),L(d,c,h),D(c,c,h),F(l,c),D(h,f,p),B(c,h,u),L(c,c,f),B(h,h,c),B(c,f,p),B(f,l,s),F(l,d),x(c,l,i),x(h,f,i);for(o=0;o<16;o++)s[o+16]=c[o],s[o+32]=h[o],s[o+48]=l[o],s[o+64]=f[o];var m=s.subarray(32),y=s.subarray(16);return K(m,m),B(y,y,m),N(t,y),0}function W(t,e){return q(t,e,o)}function z(t,e){return n(e,32),W(t,e)}function V(t,e,r){var n=new Uint8Array(32);return q(n,r,e),b(t,i,n,_)}S.prototype.blocks=function(t,e,r){for(var n,i,o,a,s,u,c,l,h,f,d,p,m,y,g,v,b,_,w,A=this.fin?0:2048,E=this.h[0],M=this.h[1],S=this.h[2],T=this.h[3],R=this.h[4],O=this.h[5],k=this.h[6],C=this.h[7],I=this.h[8],x=this.h[9],N=this.r[0],P=this.r[1],U=this.r[2],j=this.r[3],L=this.r[4],D=this.r[5],B=this.r[6],F=this.r[7],K=this.r[8],H=this.r[9];r>=16;)f=h=0,f+=(E+=8191&(n=255&t[e+0]|(255&t[e+1])<<8))*N,f+=(M+=8191&(n>>>13|(i=255&t[e+2]|(255&t[e+3])<<8)<<3))*(5*H),f+=(S+=8191&(i>>>10|(o=255&t[e+4]|(255&t[e+5])<<8)<<6))*(5*K),f+=(T+=8191&(o>>>7|(a=255&t[e+6]|(255&t[e+7])<<8)<<9))*(5*F),h=(f+=(R+=8191&(a>>>4|(s=255&t[e+8]|(255&t[e+9])<<8)<<12))*(5*B))>>>13,f&=8191,f+=(O+=s>>>1&8191)*(5*D),f+=(k+=8191&(s>>>14|(u=255&t[e+10]|(255&t[e+11])<<8)<<2))*(5*L),f+=(C+=8191&(u>>>11|(c=255&t[e+12]|(255&t[e+13])<<8)<<5))*(5*j),f+=(I+=8191&(c>>>8|(l=255&t[e+14]|(255&t[e+15])<<8)<<8))*(5*U),d=h+=(f+=(x+=l>>>5|A)*(5*P))>>>13,d+=E*P,d+=M*N,d+=S*(5*H),d+=T*(5*K),h=(d+=R*(5*F))>>>13,d&=8191,d+=O*(5*B),d+=k*(5*D),d+=C*(5*L),d+=I*(5*j),h+=(d+=x*(5*U))>>>13,d&=8191,p=h,p+=E*U,p+=M*P,p+=S*N,p+=T*(5*H),h=(p+=R*(5*K))>>>13,p&=8191,p+=O*(5*F),p+=k*(5*B),p+=C*(5*D),p+=I*(5*L),m=h+=(p+=x*(5*j))>>>13,m+=E*j,m+=M*U,m+=S*P,m+=T*N,h=(m+=R*(5*H))>>>13,m&=8191,m+=O*(5*K),m+=k*(5*F),m+=C*(5*B),m+=I*(5*D),y=h+=(m+=x*(5*L))>>>13,y+=E*L,y+=M*j,y+=S*U,y+=T*P,h=(y+=R*N)>>>13,y&=8191,y+=O*(5*H),y+=k*(5*K),y+=C*(5*F),y+=I*(5*B),g=h+=(y+=x*(5*D))>>>13,g+=E*D,g+=M*L,g+=S*j,g+=T*U,h=(g+=R*P)>>>13,g&=8191,g+=O*N,g+=k*(5*H),g+=C*(5*K),g+=I*(5*F),v=h+=(g+=x*(5*B))>>>13,v+=E*B,v+=M*D,v+=S*L,v+=T*j,h=(v+=R*U)>>>13,v&=8191,v+=O*P,v+=k*N,v+=C*(5*H),v+=I*(5*K),b=h+=(v+=x*(5*F))>>>13,b+=E*F,b+=M*B,b+=S*D,b+=T*L,h=(b+=R*j)>>>13,b&=8191,b+=O*U,b+=k*P,b+=C*N,b+=I*(5*H),_=h+=(b+=x*(5*K))>>>13,_+=E*K,_+=M*F,_+=S*B,_+=T*D,h=(_+=R*L)>>>13,_&=8191,_+=O*j,_+=k*U,_+=C*P,_+=I*N,w=h+=(_+=x*(5*H))>>>13,w+=E*H,w+=M*K,w+=S*F,w+=T*B,h=(w+=R*D)>>>13,w&=8191,w+=O*L,w+=k*j,w+=C*U,w+=I*P,E=f=8191&(h=(h=((h+=(w+=x*N)>>>13)<<2)+h|0)+(f&=8191)|0),M=d+=h>>>=13,S=p&=8191,T=m&=8191,R=y&=8191,O=g&=8191,k=v&=8191,C=b&=8191,I=_&=8191,x=w&=8191,e+=16,r-=16;this.h[0]=E,this.h[1]=M,this.h[2]=S,this.h[3]=T,this.h[4]=R,this.h[5]=O,this.h[6]=k,this.h[7]=C,this.h[8]=I,this.h[9]=x},S.prototype.finish=function(t,e){var r,n,i,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,a[0]=this.h[0]+5,r=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+r,r=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,n=(1^r)-1,o=0;o<10;o++)a[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},S.prototype.update=function(t,e,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=t[e+n];if(r-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(t,e,i),e+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=t[e+n];this.leftover+=r}};var G=O,Y=k;var J=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function X(t,e,r,n){for(var i,o,a,s,u,c,l,h,f,d,p,m,y,g,v,b,_,w,A,E,M,S,T,R,O,k,C=new Int32Array(16),I=new Int32Array(16),x=t[0],N=t[1],P=t[2],U=t[3],j=t[4],L=t[5],D=t[6],B=t[7],F=e[0],K=e[1],H=e[2],q=e[3],W=e[4],z=e[5],V=e[6],G=e[7],Y=0;n>=128;){for(A=0;A<16;A++)E=8*A+Y,C[A]=r[E+0]<<24|r[E+1]<<16|r[E+2]<<8|r[E+3],I[A]=r[E+4]<<24|r[E+5]<<16|r[E+6]<<8|r[E+7];for(A=0;A<80;A++)if(i=x,o=N,a=P,s=U,u=j,c=L,l=D,B,f=F,d=K,p=H,m=q,y=W,g=z,v=V,G,T=65535&(S=G),R=S>>>16,O=65535&(M=B),k=M>>>16,T+=65535&(S=(W>>>14|j<<18)^(W>>>18|j<<14)^(j>>>9|W<<23)),R+=S>>>16,O+=65535&(M=(j>>>14|W<<18)^(j>>>18|W<<14)^(W>>>9|j<<23)),k+=M>>>16,T+=65535&(S=W&z^~W&V),R+=S>>>16,O+=65535&(M=j&L^~j&D),k+=M>>>16,T+=65535&(S=J[2*A+1]),R+=S>>>16,O+=65535&(M=J[2*A]),k+=M>>>16,M=C[A%16],R+=(S=I[A%16])>>>16,O+=65535&M,k+=M>>>16,O+=(R+=(T+=65535&S)>>>16)>>>16,T=65535&(S=w=65535&T|R<<16),R=S>>>16,O=65535&(M=_=65535&O|(k+=O>>>16)<<16),k=M>>>16,T+=65535&(S=(F>>>28|x<<4)^(x>>>2|F<<30)^(x>>>7|F<<25)),R+=S>>>16,O+=65535&(M=(x>>>28|F<<4)^(F>>>2|x<<30)^(F>>>7|x<<25)),k+=M>>>16,R+=(S=F&K^F&H^K&H)>>>16,O+=65535&(M=x&N^x&P^N&P),k+=M>>>16,h=65535&(O+=(R+=(T+=65535&S)>>>16)>>>16)|(k+=O>>>16)<<16,b=65535&T|R<<16,T=65535&(S=m),R=S>>>16,O=65535&(M=s),k=M>>>16,R+=(S=w)>>>16,O+=65535&(M=_),k+=M>>>16,N=i,P=o,U=a,j=s=65535&(O+=(R+=(T+=65535&S)>>>16)>>>16)|(k+=O>>>16)<<16,L=u,D=c,B=l,x=h,K=f,H=d,q=p,W=m=65535&T|R<<16,z=y,V=g,G=v,F=b,A%16==15)for(E=0;E<16;E++)M=C[E],T=65535&(S=I[E]),R=S>>>16,O=65535&M,k=M>>>16,M=C[(E+9)%16],T+=65535&(S=I[(E+9)%16]),R+=S>>>16,O+=65535&M,k+=M>>>16,_=C[(E+1)%16],T+=65535&(S=((w=I[(E+1)%16])>>>1|_<<31)^(w>>>8|_<<24)^(w>>>7|_<<25)),R+=S>>>16,O+=65535&(M=(_>>>1|w<<31)^(_>>>8|w<<24)^_>>>7),k+=M>>>16,_=C[(E+14)%16],R+=(S=((w=I[(E+14)%16])>>>19|_<<13)^(_>>>29|w<<3)^(w>>>6|_<<26))>>>16,O+=65535&(M=(_>>>19|w<<13)^(w>>>29|_<<3)^_>>>6),k+=M>>>16,k+=(O+=(R+=(T+=65535&S)>>>16)>>>16)>>>16,C[E]=65535&O|k<<16,I[E]=65535&T|R<<16;T=65535&(S=F),R=S>>>16,O=65535&(M=x),k=M>>>16,M=t[0],R+=(S=e[0])>>>16,O+=65535&M,k+=M>>>16,k+=(O+=(R+=(T+=65535&S)>>>16)>>>16)>>>16,t[0]=x=65535&O|k<<16,e[0]=F=65535&T|R<<16,T=65535&(S=K),R=S>>>16,O=65535&(M=N),k=M>>>16,M=t[1],R+=(S=e[1])>>>16,O+=65535&M,k+=M>>>16,k+=(O+=(R+=(T+=65535&S)>>>16)>>>16)>>>16,t[1]=N=65535&O|k<<16,e[1]=K=65535&T|R<<16,T=65535&(S=H),R=S>>>16,O=65535&(M=P),k=M>>>16,M=t[2],R+=(S=e[2])>>>16,O+=65535&M,k+=M>>>16,k+=(O+=(R+=(T+=65535&S)>>>16)>>>16)>>>16,t[2]=P=65535&O|k<<16,e[2]=H=65535&T|R<<16,T=65535&(S=q),R=S>>>16,O=65535&(M=U),k=M>>>16,M=t[3],R+=(S=e[3])>>>16,O+=65535&M,k+=M>>>16,k+=(O+=(R+=(T+=65535&S)>>>16)>>>16)>>>16,t[3]=U=65535&O|k<<16,e[3]=q=65535&T|R<<16,T=65535&(S=W),R=S>>>16,O=65535&(M=j),k=M>>>16,M=t[4],R+=(S=e[4])>>>16,O+=65535&M,k+=M>>>16,k+=(O+=(R+=(T+=65535&S)>>>16)>>>16)>>>16,t[4]=j=65535&O|k<<16,e[4]=W=65535&T|R<<16,T=65535&(S=z),R=S>>>16,O=65535&(M=L),k=M>>>16,M=t[5],R+=(S=e[5])>>>16,O+=65535&M,k+=M>>>16,k+=(O+=(R+=(T+=65535&S)>>>16)>>>16)>>>16,t[5]=L=65535&O|k<<16,e[5]=z=65535&T|R<<16,T=65535&(S=V),R=S>>>16,O=65535&(M=D),k=M>>>16,M=t[6],R+=(S=e[6])>>>16,O+=65535&M,k+=M>>>16,k+=(O+=(R+=(T+=65535&S)>>>16)>>>16)>>>16,t[6]=D=65535&O|k<<16,e[6]=V=65535&T|R<<16,T=65535&(S=G),R=S>>>16,O=65535&(M=B),k=M>>>16,M=t[7],R+=(S=e[7])>>>16,O+=65535&M,k+=M>>>16,k+=(O+=(R+=(T+=65535&S)>>>16)>>>16)>>>16,t[7]=B=65535&O|k<<16,e[7]=G=65535&T|R<<16,Y+=128,n-=128}return n}function Z(t,e,r){var n,i=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),s=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,X(i,o,e,r),r%=128,n=0;n<r;n++)a[n]=e[s-r+n];for(a[r]=128,a[(r=256-128*(r<112?1:0))-9]=0,p(a,r-8,s/536870912|0,s<<3),X(i,o,a,r),n=0;n<8;n++)p(t,8*n,i[n],o[n]);return 0}function $(t,r){var n=e(),i=e(),o=e(),a=e(),s=e(),u=e(),c=e(),h=e(),f=e();D(n,t[1],t[0]),D(f,r[1],r[0]),B(n,n,f),L(i,t[0],t[1]),L(f,r[0],r[1]),B(i,i,f),B(o,t[3],r[3]),B(o,o,l),B(a,t[2],r[2]),L(a,a,a),D(s,i,n),D(u,a,o),L(c,a,o),L(h,i,n),B(t[0],s,u),B(t[1],h,c),B(t[2],c,u),B(t[3],s,h)}function Q(t,e,r){var n;for(n=0;n<4;n++)x(t[n],e[n],r)}function tt(t,r){var n=e(),i=e(),o=e();K(o,r[2]),B(n,r[0],o),B(i,r[1],o),N(t,i),t[31]^=U(n)<<7}function et(t,e,r){var n,i;for(C(t[0],a),C(t[1],s),C(t[2],s),C(t[3],a),i=255;i>=0;--i)Q(t,e,n=r[i/8|0]>>(7&i)&1),$(e,t),$(t,t),Q(t,e,n)}function rt(t,r){var n=[e(),e(),e(),e()];C(n[0],h),C(n[1],f),C(n[2],s),B(n[3],h,f),et(t,n,r)}function nt(t,r,i){var o,a=new Uint8Array(64),s=[e(),e(),e(),e()];for(i||n(r,32),Z(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64,rt(s,a),tt(t,s),o=0;o<32;o++)r[o+32]=t[o];return 0}var it=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ot(t,e){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)e[i]+=r-16*e[n]*it[i-(n-32)],r=Math.floor((e[i]+128)/256),e[i]-=256*r;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;i++)e[i]+=r-(e[31]>>4)*it[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*it[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function at(t){var e,r=new Float64Array(64);for(e=0;e<64;e++)r[e]=t[e];for(e=0;e<64;e++)t[e]=0;ot(t,r)}function st(t,r,n,i){var o,a,s=new Uint8Array(64),u=new Uint8Array(64),c=new Uint8Array(64),l=new Float64Array(64),h=[e(),e(),e(),e()];Z(s,i,32),s[0]&=248,s[31]&=127,s[31]|=64;var f=n+64;for(o=0;o<n;o++)t[64+o]=r[o];for(o=0;o<32;o++)t[32+o]=s[32+o];for(Z(c,t.subarray(32),n+32),at(c),rt(h,c),tt(t,h),o=32;o<64;o++)t[o]=i[o];for(Z(u,t,n+64),at(u),o=0;o<64;o++)l[o]=0;for(o=0;o<32;o++)l[o]=c[o];for(o=0;o<32;o++)for(a=0;a<32;a++)l[o+a]+=u[o]*s[a];return ot(t.subarray(32),l),f}function ut(t,r,n,i){var o,u=new Uint8Array(32),l=new Uint8Array(64),h=[e(),e(),e(),e()],f=[e(),e(),e(),e()];if(n<64)return-1;if(function(t,r){var n=e(),i=e(),o=e(),u=e(),l=e(),h=e(),f=e();return C(t[2],s),j(t[1],r),F(o,t[1]),B(u,o,c),D(o,o,t[2]),L(u,t[2],u),F(l,u),F(h,l),B(f,h,l),B(n,f,o),B(n,n,u),H(n,n),B(n,n,o),B(n,n,u),B(n,n,u),B(t[0],n,u),F(i,t[0]),B(i,i,u),P(i,o)&&B(t[0],t[0],d),F(i,t[0]),B(i,i,u),P(i,o)?-1:(U(t[0])===r[31]>>7&&D(t[0],a,t[0]),B(t[3],t[0],t[1]),0)}(f,i))return-1;for(o=0;o<n;o++)t[o]=r[o];for(o=0;o<32;o++)t[o+32]=i[o];if(Z(l,t,n),at(l),et(h,f,l),rt(f,r.subarray(32)),$(h,f),tt(u,h),n-=64,g(r,0,u,0)){for(o=0;o<n;o++)t[o]=0;return-1}for(o=0;o<n;o++)t[o]=r[o+64];return n}function ct(t,e){if(32!==t.length)throw new Error("bad key size");if(24!==e.length)throw new Error("bad nonce size")}function lt(){for(var t=0;t<arguments.length;t++)if(!(arguments[t]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ht(t){for(var e=0;e<t.length;e++)t[e]=0}t.lowlevel={crypto_core_hsalsa20:b,crypto_stream_xor:M,crypto_stream:E,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:A,crypto_onetimeauth:T,crypto_onetimeauth_verify:R,crypto_verify_16:y,crypto_verify_32:g,crypto_secretbox:O,crypto_secretbox_open:k,crypto_scalarmult:q,crypto_scalarmult_base:W,crypto_box_beforenm:V,crypto_box_afternm:G,crypto_box:function(t,e,r,n,i,o){var a=new Uint8Array(32);return V(a,i,o),G(t,e,r,n,a)},crypto_box_open:function(t,e,r,n,i,o){var a=new Uint8Array(32);return V(a,i,o),Y(t,e,r,n,a)},crypto_box_keypair:z,crypto_hash:Z,crypto_sign:st,crypto_sign_keypair:nt,crypto_sign_open:ut,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:e,D:c,L:it,pack25519:N,unpack25519:j,M:B,A:L,S:F,Z:D,pow2523:H,add:$,set25519:C,modL:ot,scalarmult:et,scalarbase:rt},t.randomBytes=function(t){var e=new Uint8Array(t);return n(e,t),e},t.secretbox=function(t,e,r){lt(t,e,r),ct(r,e);for(var n=new Uint8Array(32+t.length),i=new Uint8Array(n.length),o=0;o<t.length;o++)n[o+32]=t[o];return O(i,n,n.length,e,r),i.subarray(16)},t.secretbox.open=function(t,e,r){lt(t,e,r),ct(r,e);for(var n=new Uint8Array(16+t.length),i=new Uint8Array(n.length),o=0;o<t.length;o++)n[o+16]=t[o];return n.length<32||0!==k(i,n,n.length,e,r)?null:i.subarray(32)},t.secretbox.keyLength=32,t.secretbox.nonceLength=24,t.secretbox.overheadLength=16,t.scalarMult=function(t,e){if(lt(t,e),32!==t.length)throw new Error("bad n size");if(32!==e.length)throw new Error("bad p size");var r=new Uint8Array(32);return q(r,t,e),r},t.scalarMult.base=function(t){if(lt(t),32!==t.length)throw new Error("bad n size");var e=new Uint8Array(32);return W(e,t),e},t.scalarMult.scalarLength=32,t.scalarMult.groupElementLength=32,t.box=function(e,r,n,i){var o=t.box.before(n,i);return t.secretbox(e,r,o)},t.box.before=function(t,e){lt(t,e),function(t,e){if(32!==t.length)throw new Error("bad public key size");if(32!==e.length)throw new Error("bad secret key size")}(t,e);var r=new Uint8Array(32);return V(r,t,e),r},t.box.after=t.secretbox,t.box.open=function(e,r,n,i){var o=t.box.before(n,i);return t.secretbox.open(e,r,o)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(32);return z(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if(lt(t),32!==t.length)throw new Error("bad secret key size");var e=new Uint8Array(32);return W(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=32,t.box.secretKeyLength=32,t.box.sharedKeyLength=32,t.box.nonceLength=24,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if(lt(t,e),64!==e.length)throw new Error("bad secret key size");var r=new Uint8Array(64+t.length);return st(r,t,t.length,e),r},t.sign.open=function(t,e){if(lt(t,e),32!==e.length)throw new Error("bad public key size");var r=new Uint8Array(t.length),n=ut(r,t,t.length,e);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},t.sign.detached=function(e,r){for(var n=t.sign(e,r),i=new Uint8Array(64),o=0;o<i.length;o++)i[o]=n[o];return i},t.sign.detached.verify=function(t,e,r){if(lt(t,e,r),64!==e.length)throw new Error("bad signature size");if(32!==r.length)throw new Error("bad public key size");var n,i=new Uint8Array(64+t.length),o=new Uint8Array(64+t.length);for(n=0;n<64;n++)i[n]=e[n];for(n=0;n<t.length;n++)i[n+64]=t[n];return ut(o,i,i.length,r)>=0},t.sign.keyPair=function(){var t=new Uint8Array(32),e=new Uint8Array(64);return nt(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if(lt(t),64!==t.length)throw new Error("bad secret key size");for(var e=new Uint8Array(32),r=0;r<e.length;r++)e[r]=t[32+r];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if(lt(t),32!==t.length)throw new Error("bad seed size");for(var e=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=t[n];return nt(e,r,!0),{publicKey:e,secretKey:r}},t.sign.publicKeyLength=32,t.sign.secretKeyLength=64,t.sign.seedLength=32,t.sign.signatureLength=64,t.hash=function(t){lt(t);var e=new Uint8Array(64);return Z(e,t,t.length),e},t.hash.hashLength=64,t.verify=function(t,e){return lt(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===m(t,0,e,0,t.length))},t.setPRNG=function(t){n=t},function(){var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){t.setPRNG((function(t,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)e.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)t[n]=i[n];ht(i)}))}else(e=r(85))&&e.randomBytes&&t.setPRNG((function(t,r){var n,i=e.randomBytes(r);for(n=0;n<r;n++)t[n]=i[n];ht(i)}))}()}(t.exports?t.exports:self.nacl=self.nacl||{})},function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.WalletConnection=e.WalletAccount=e.ConnectedWalletAccount=e.Near=e.KeyPair=e.Signer=e.InMemorySigner=e.Contract=e.Connection=e.Account=e.multisig=e.validators=e.transactions=e.utils=e.providers=e.accountCreator=void 0;const a=o(r(16));e.providers=a;const s=o(r(44));e.utils=s;const u=o(r(21));e.transactions=u;const c=o(r(108));e.validators=c;const l=r(28);Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return l.Account}});const h=o(r(110));e.multisig=h;const f=o(r(59));e.accountCreator=f;const d=r(60);Object.defineProperty(e,"Connection",{enumerable:!0,get:function(){return d.Connection}});const p=r(61);Object.defineProperty(e,"Signer",{enumerable:!0,get:function(){return p.Signer}}),Object.defineProperty(e,"InMemorySigner",{enumerable:!0,get:function(){return p.InMemorySigner}});const m=r(62);Object.defineProperty(e,"Contract",{enumerable:!0,get:function(){return m.Contract}});const y=r(6);Object.defineProperty(e,"KeyPair",{enumerable:!0,get:function(){return y.KeyPair}});const g=r(63);Object.defineProperty(e,"Near",{enumerable:!0,get:function(){return g.Near}});const v=r(111);Object.defineProperty(e,"ConnectedWalletAccount",{enumerable:!0,get:function(){return v.ConnectedWalletAccount}}),Object.defineProperty(e,"WalletAccount",{enumerable:!0,get:function(){return v.WalletAccount}}),Object.defineProperty(e,"WalletConnection",{enumerable:!0,get:function(){return v.WalletConnection}})},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.getTransactionLastResult=e.Provider=e.IdType=e.FinalExecutionStatusBasic=e.ExecutionStatusBasic=void 0,function(t){t.Unknown="Unknown",t.Pending="Pending",t.Failure="Failure"}(e.ExecutionStatusBasic||(e.ExecutionStatusBasic={})),function(t){t.NotStarted="NotStarted",t.Started="Started",t.Failure="Failure"}(e.FinalExecutionStatusBasic||(e.FinalExecutionStatusBasic={})),function(t){t.Transaction="transaction",t.Receipt="receipt"}(e.IdType||(e.IdType={}));e.Provider=class{},e.getTransactionLastResult=function(e){if("object"==typeof e.status&&"string"==typeof e.status.SuccessValue){const r=t.from(e.status.SuccessValue,"base64").toString();try{return JSON.parse(r)}catch(t){return r}}return null}}).call(this,r(7).Buffer)},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.parseNearAmount=e.formatNearAmount=e.NEAR_NOMINATION=e.NEAR_NOMINATION_EXP=void 0;const i=n(r(12));e.NEAR_NOMINATION_EXP=24,e.NEAR_NOMINATION=new i.default("10",10).pow(new i.default(e.NEAR_NOMINATION_EXP,10));const o=[],a=new i.default(10);for(let t=0,r=new i.default(5);t<e.NEAR_NOMINATION_EXP;t++,r=r.mul(a))o[t]=r;e.formatNearAmount=function(t,r=e.NEAR_NOMINATION_EXP){const n=new i.default(t,10);if(r!==e.NEAR_NOMINATION_EXP){const t=e.NEAR_NOMINATION_EXP-r-1;t>0&&n.iadd(o[t])}const a=(t=n.toString()).substring(0,t.length-e.NEAR_NOMINATION_EXP)||"0",s=t.substring(t.length-e.NEAR_NOMINATION_EXP).padStart(e.NEAR_NOMINATION_EXP,"0").substring(0,r);return function(t){return t.replace(/\.?0*$/,"")}(`${function(t){const e=/(-?\d+)(\d{3})/;for(;e.test(t);)t=t.replace(e,"$1,$2");return t}(a)}.${s}`)},e.parseNearAmount=function(t){if(!t)return null;const r=(t=t.replace(/,/g,"").trim()).split("."),n=r[0],i=r[1]||"";if(r.length>2||i.length>e.NEAR_NOMINATION_EXP)throw new Error(`Cannot parse '${t}' as NEAR amount`);return function(t){if(""===(t=t.replace(/^0+/,"")))return"0";return t}(n+i.padEnd(e.NEAR_NOMINATION_EXP,"0"))}},function(module,exports,__webpack_require__){(function(process,global){var __WEBPACK_AMD_DEFINE_RESULT__;
/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD=__webpack_require__(107),ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(r){return new Sha256(e,!0).update(r)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(t){return e.create().update(t)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createOutputMethod(n,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if("string"==typeof t)return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(null==t)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(r,n){return new HmacSha256(r,e,!0).update(n)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(e){return new HmacSha256(e,t)},e.update=function(t,r){return e.create(t).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createHmacOutputMethod(n,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function HmacSha256(t,e,r){var n,i=typeof t;if("string"===i){var o,a=[],s=t.length,u=0;for(n=0;n<s;++n)(o=t.charCodeAt(n))<128?a[u++]=o:o<2048?(a[u++]=192|o>>6,a[u++]=128|63&o):o<55296||o>=57344?(a[u++]=224|o>>12,a[u++]=128|o>>6&63,a[u++]=128|63&o):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++n)),a[u++]=240|o>>18,a[u++]=128|o>>12&63,a[u++]=128|o>>6&63,a[u++]=128|63&o);t=a}else{if("object"!==i)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR)}t.length>64&&(t=new Sha256(e,!0).update(t).array());var c=[],l=[];for(n=0;n<64;++n){var h=t[n]||0;c[n]=92^h,l[n]=54^h}Sha256.call(this,e,r),this.update(l),this.oKeyPad=c,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(t){if(!this.finalized){var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||ARRAY_BUFFER&&ArrayBuffer.isView(t)))throw new Error(ERROR);e=!0}for(var n,i,o=0,a=t.length,s=this.blocks;o<a;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),e)for(i=this.start;o<a&&i<64;++o)s[i>>2]|=t[o]<<SHIFT[3&i++];else for(i=this.start;o<a&&i<64;++o)(n=t.charCodeAt(o))<128?s[i>>2]|=n<<SHIFT[3&i++]:n<2048?(s[i>>2]|=(192|n>>6)<<SHIFT[3&i++],s[i>>2]|=(128|63&n)<<SHIFT[3&i++]):n<55296||n>=57344?(s[i>>2]|=(224|n>>12)<<SHIFT[3&i++],s[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&n)<<SHIFT[3&i++]):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++o)),s[i>>2]|=(240|n>>18)<<SHIFT[3&i++],s[i>>2]|=(128|n>>12&63)<<SHIFT[3&i++],s[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],s[i>>2]|=(128|63&n)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=s[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t,e,r,n,i,o,a,s,u,c=this.h0,l=this.h1,h=this.h2,f=this.h3,d=this.h4,p=this.h5,m=this.h6,y=this.h7,g=this.blocks;for(t=16;t<64;++t)e=((i=g[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,r=((i=g[t-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,g[t]=g[t-16]+e+g[t-7]+r<<0;for(u=l&h,t=0;t<64;t+=4)this.first?(this.is224?(o=300032,y=(i=g[0]-1413257819)-150054599<<0,f=i+24177077<<0):(o=704751109,y=(i=g[0]-210244248)-1521486534<<0,f=i+143694565<<0),this.first=!1):(e=(c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),n=(o=c&l)^c&h^u,y=f+(i=y+(r=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&p^~d&m)+K[t]+g[t])<<0,f=i+(e+n)<<0),e=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),n=(a=f&c)^f&l^o,m=h+(i=m+(r=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&d^~y&p)+K[t+1]+g[t+1])<<0,e=((h=i+(e+n)<<0)>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),n=(s=h&f)^h&c^a,p=l+(i=p+(r=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&y^~m&d)+K[t+2]+g[t+2])<<0,e=((l=i+(e+n)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(u=l&h)^l&f^s,d=c+(i=d+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&m^~p&y)+K[t+3]+g[t+3])<<0,c=i+(e+n)<<0;this.h0=this.h0+c<<0,this.h1=this.h1+l<<0,this.h2=this.h2+h<<0,this.h3=this.h3+f<<0,this.h4=this.h4+d<<0,this.h5=this.h5+p<<0,this.h6=this.h6+m<<0,this.h7=this.h7+y<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,a=this.h6,s=this.h7,u=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a];return this.is224||(u+=HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]),u},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,a=this.h6,s=this.h7,u=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,a>>24&255,a>>16&255,a>>8&255,255&a];return this.is224||u.push(s>>24&255,s>>16&255,s>>8&255,255&s),u},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}()}).call(this,__webpack_require__(8),__webpack_require__(40))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UrlAccountCreator=e.LocalAccountCreator=e.AccountCreator=void 0;const n=r(27);class i{}e.AccountCreator=i;e.LocalAccountCreator=class extends i{constructor(t,e){super(),this.masterAccount=t,this.initialBalance=e}async createAccount(t,e){await this.masterAccount.createAccount(t,e,this.initialBalance)}};e.UrlAccountCreator=class extends i{constructor(t,e){super(),this.connection=t,this.helperUrl=e}async createAccount(t,e){await n.fetchJson(this.helperUrl+"/account",JSON.stringify({newAccountId:t,newAccountPublicKey:e.toString()}))}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Connection=void 0;const n=r(16),i=r(61);class o{constructor(t,e,r,n){this.networkId=t,this.provider=e,this.signer=r,this.jsvmAccountId=n}static fromConfig(t){const e=function(t){switch(t.type){case void 0:return t;case"JsonRpcProvider":return new n.JsonRpcProvider({...t.args});default:throw new Error("Unknown provider type "+t.type)}}(t.provider),r=function(t){switch(t.type){case void 0:return t;case"InMemorySigner":return new i.InMemorySigner(t.keyStore);default:throw new Error("Unknown signer type "+t.type)}}(t.signer);return new o(t.networkId,e,r,t.jsvmAccountId)}}e.Connection=o},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.InMemorySigner=e.Signer=void 0;const i=n(r(58)),o=r(6),a=r(53);class s{}e.Signer=s;class u extends s{constructor(t){super(),this.keyStore=t}static async fromKeyPair(t,e,r){const n=new a.InMemoryKeyStore;return await n.setKey(t,e,r),new u(n)}async createKey(t,e){const r=o.KeyPair.fromRandom("ed25519");return await this.keyStore.setKey(e,t,r),r.getPublicKey()}async getPublicKey(t,e){const r=await this.keyStore.getKey(e,t);return null===r?null:r.getPublicKey()}async signMessage(t,e,r){const n=new Uint8Array(i.default.sha256.array(t));if(!e)throw new Error("InMemorySigner requires provided account id");const o=await this.keyStore.getKey(r,e);if(null===o)throw new Error(`Key for ${e} not found in ${r}`);return o.sign(n)}toString(){return`InMemorySigner(${this.keyStore})`}}e.InMemorySigner=u},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Contract=void 0;const i=n(r(12)),o=n(r(17)),a=r(16),s=r(18);function u(t,e){return{[t]:(...t)=>e(...t)}[t]}const c=t=>t&&void 0!==t.byteLength&&t.byteLength===t.length,l=t=>"[object Object]"===Object.prototype.toString.call(t);e.Contract=class{constructor(t,e,r){this.account=t,this.contractId=e;const{viewMethods:n=[],changeMethods:i=[]}=r;n.forEach(t=>{Object.defineProperty(this,t,{writable:!1,enumerable:!0,value:u(t,async(e={},r={},...n)=>{if(n.length||!l(e)&&!c(e)||!l(r))throw new s.PositionalArgsError;return this.account.viewFunction(this.contractId,t,e,r)})})}),i.forEach(t=>{Object.defineProperty(this,t,{writable:!1,enumerable:!0,value:u(t,async(...e)=>{if(e.length&&(e.length>3||!l(e[0])&&!c(e[0])))throw new s.PositionalArgsError;if(e.length>1||!e[0]||!e[0].args){return o.default("contract.methodName(args, gas, amount)")("use `contract.methodName({ args, gas?, amount?, callbackUrl?, meta? })` instead"),this._changeMethod({methodName:t,args:e[0],gas:e[1],amount:e[2]})}return this._changeMethod({methodName:t,...e[0]})})})})}async _changeMethod({args:t,methodName:e,gas:r,amount:n,meta:o,callbackUrl:u}){!function(t){for(const e of Object.keys(t)){const r=t[e];if(r&&!i.default.isBN(r)&&isNaN(r))throw new s.ArgumentTypeError(e,"number, decimal string or BN",r)}}({gas:r,amount:n});const c=await this.account.functionCall({contractId:this.contractId,methodName:e,args:t,gas:r,attachedDeposit:n,walletMeta:o,walletCallbackUrl:u});return a.getTransactionLastResult(c)}}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Near=void 0;const i=n(r(12)),o=r(28),a=r(60),s=r(62),u=r(59);e.Near=class{constructor(t){if(this.config=t,this.connection=a.Connection.fromConfig({networkId:t.networkId,provider:{type:"JsonRpcProvider",args:{url:t.nodeUrl,headers:t.headers}},signer:t.signer||{type:"InMemorySigner",keyStore:t.keyStore||t.deps&&t.deps.keyStore},jsvmAccountId:t.jsvmAccountId||"jsvm."+t.networkId}),t.masterAccount){const e=t.initialBalance?new i.default(t.initialBalance):new i.default("500000000000000000000000000");this.accountCreator=new u.LocalAccountCreator(new o.Account(this.connection,t.masterAccount),e)}else t.helperUrl?this.accountCreator=new u.UrlAccountCreator(this.connection,t.helperUrl):this.accountCreator=null}async account(t){return new o.Account(this.connection,t)}async createAccount(t,e){if(!this.accountCreator)throw new Error("Must specify account creator, either via masterAccount or helperUrl configuration settings.");return await this.accountCreator.createAccount(t,e),new o.Account(this.connection,t)}async loadContract(t,e){const r=new o.Account(this.connection,e.sender);return new s.Contract(r,t,e)}async sendTokens(t,e,r){console.warn("near.sendTokens is deprecated. Use `yourAccount.sendMoney` instead.");const n=new o.Account(this.connection,e);return(await n.sendMoney(r,t)).transaction_outcome.id}}},function(t,e,r){r(45).check("es5")},function(t,e,r){var n=new(r(116)),i=function(t){return n.test(t)};i.define=function(t,e){n.define(t,e)},i.check=function(t){n.check(t)},i.test=i,t.exports=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.retryFetch=function(t,e,r){return s.apply(this,arguments)};var n,i=(n=r(133))&&n.__esModule?n:{default:n};function o(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function s(t){o(a,n,i,s,u,"next",t)}function u(t){o(a,n,i,s,u,"throw",t)}s(void 0)}))}}function s(){return(s=a(regeneratorRuntime.mark((function t(e,r,n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=i.default.operation(n),t.abrupt("return",new Promise((function(t,n){o.attempt((function(){fetch(e,r).then(function(){var e=a(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(r);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){o.retry(t)&&n(t)}))}))})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},function(t,e,r){"use strict";var n=r(68),i=r.n(n);e.a=i.a},function(t,e){t.exports="object"==typeof self?self.FormData:window.FormData},function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));var n=r(0),i=r(9),o=r(4);function a(t,e){return Object(i.a)(t,new o.a.classes.URLSearchParams,Object.assign({visitor:function(t,e,r,i){return o.a.isNode&&n.a.isBuffer(t)?(this.append(e,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}},function(t,e,r){"use strict";var n=r(0),i=r(29),o=r(30);var a=class{constructor(){this.handlers=[]}use(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){n.a.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},s=r(19),u=r(5);function c(t,e){const r=this||s.a,i=e||r,o=u.a.from(i.headers);let a=i.data;return n.a.forEach(t,(function(t){a=t.call(r,a,o.normalize(),e?e.status:void 0)})),o.normalize(),a}function l(t){return!(!t||!t.__CANCEL__)}var h=r(10);function f(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new h.a}function d(t){f(t),t.headers=u.a.from(t.headers),t.data=c.call(t,t.transformRequest);return(t.adapter||s.a.adapter)(t).then((function(e){return f(t),e.data=c.call(t,t.transformResponse,e),e.headers=u.a.from(e.headers),e}),(function(e){return l(e)||(f(t),e&&e.response&&(e.response.data=c.call(t,t.transformResponse,e.response),e.response.headers=u.a.from(e.response.headers))),Promise.reject(e)}))}function p(t,e){e=e||{};const r={};function i(t,e){return n.a.isPlainObject(t)&&n.a.isPlainObject(e)?n.a.merge(t,e):n.a.isPlainObject(e)?n.a.merge({},e):n.a.isArray(e)?e.slice():e}function o(r){return n.a.isUndefined(e[r])?n.a.isUndefined(t[r])?void 0:i(void 0,t[r]):i(t[r],e[r])}function a(t){if(!n.a.isUndefined(e[t]))return i(void 0,e[t])}function s(r){return n.a.isUndefined(e[r])?n.a.isUndefined(t[r])?void 0:i(void 0,t[r]):i(void 0,e[r])}function u(r){return r in e?i(t[r],e[r]):r in t?i(void 0,t[r]):void 0}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return n.a.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){const e=c[t]||o,i=e(t);n.a.isUndefined(i)&&e!==u||(r[t]=i)})),r}var m=r(34);var y=r(2);const g={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{g[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const v={};g.transitional=function(t,e,r){function n(t,e){return"[Axios v1.1.3] Transitional option '"+t+"'"+e+(r?". "+r:"")}return(r,i,o)=>{if(!1===t)throw new y.a(n(i," has been removed"+(e?" in "+e:"")),y.a.ERR_DEPRECATED);return e&&!v[i]&&(v[i]=!0,console.warn(n(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,i,o)}};var b={assertOptions:function(t,e,r){if("object"!=typeof t)throw new y.a("options must be an object",y.a.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const o=n[i],a=e[o];if(a){const e=t[o],r=void 0===e||a(e,o,t);if(!0!==r)throw new y.a("option "+o+" must be "+r,y.a.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new y.a("Unknown option "+o,y.a.ERR_BAD_OPTION)}},validators:g};const _=b.validators;class w{constructor(t){this.defaults=t,this.interceptors={request:new a,response:new a}}request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=p(this.defaults,e);const{transitional:r,paramsSerializer:i}=e;void 0!==r&&b.assertOptions(r,{silentJSONParsing:_.transitional(_.boolean),forcedJSONParsing:_.transitional(_.boolean),clarifyTimeoutError:_.transitional(_.boolean)},!1),void 0!==i&&b.assertOptions(i,{encode:_.function,serialize:_.function},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();const o=e.headers&&n.a.merge(e.headers.common,e.headers[e.method]);o&&n.a.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),e.headers=new u.a(e.headers,o);const a=[];let s=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(s=s&&t.synchronous,a.unshift(t.fulfilled,t.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(t){c.push(t.fulfilled,t.rejected)}));let h,f=0;if(!s){const t=[d.bind(this),void 0];for(t.unshift.apply(t,a),t.push.apply(t,c),h=t.length,l=Promise.resolve(e);f<h;)l=l.then(t[f++],t[f++]);return l}h=a.length;let m=e;for(f=0;f<h;){const t=a[f++],e=a[f++];try{m=t(m)}catch(t){e.call(this,t);break}}try{l=d.call(this,m)}catch(t){return Promise.reject(t)}for(f=0,h=c.length;f<h;)l=l.then(c[f++],c[f++]);return l}getUri(t){t=p(this.defaults,t);const e=Object(m.a)(t.baseURL,t.url);return Object(o.a)(e,t.params,t.paramsSerializer)}}n.a.forEach(["delete","get","head","options"],(function(t){w.prototype[t]=function(e,r){return this.request(p(r||{},{method:t,url:e,data:(r||{}).data}))}})),n.a.forEach(["post","put","patch"],(function(t){function e(e){return function(r,n,i){return this.request(p(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}w.prototype[t]=e(),w.prototype[t+"Form"]=e(!0)}));var A=w,E=r(33);class M{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const r=this;this.promise.then(t=>{if(!r._listeners)return;let e=r._listeners.length;for(;e-- >0;)r._listeners[e](t);r._listeners=null}),this.promise.then=t=>{let e;const n=new Promise(t=>{r.subscribe(t),e=t}).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t,n,i){r.reason||(r.reason=new h.a(t,n,i),e(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}static source(){let t;return{token:new M((function(e){t=e})),cancel:t}}}var S=M,T=r(9);const R=function t(e){const r=new A(e),o=Object(i.a)(A.prototype.request,r);return n.a.extend(o,A.prototype,r,{allOwnKeys:!0}),n.a.extend(o,r,null,{allOwnKeys:!0}),o.create=function(r){return t(p(e,r))},o}(s.a);R.Axios=A,R.CanceledError=h.a,R.CancelToken=S,R.isCancel=l,R.VERSION="1.1.3",R.toFormData=T.a,R.AxiosError=y.a,R.Cancel=R.CanceledError,R.all=function(t){return Promise.all(t)},R.spread=function(t){return function(e){return t.apply(null,e)}},R.isAxiosError=function(t){return n.a.isObject(t)&&!0===t.isAxiosError},R.formToJSON=t=>Object(E.a)(n.a.isHTMLForm(t)?new FormData(t):t);var O=R;const{Axios:k,AxiosError:C,CanceledError:I,isCancel:x,CancelToken:N,VERSION:P,all:U,Cancel:j,isAxiosError:L,spread:D,toFormData:B}=O;e.a=O},function(t,e,r){"use strict";r.r(e),function(t){var e=r(35),n=r(70);let i;document.getElementById("btn-unlock-collection")&&document.getElementById("btn-unlock-collection").addEventListener("click",async t=>{t.preventDefault();try{const e=await i.signMessage("test-message"),r=t.target.dataset.nftid;await Object(n.a)({method:"POST",url:"http://localhost:3000/api/collection/"+r,data:{metadata_id:r,signerRes:e}})&&window.open("/collection.html","_self")}catch(t){alert(t)}}),document.getElementById("btn-disconnect")&&document.getElementById("btn-disconnect").addEventListener("click",t=>{t.preventDefault(),i.disconnect(),console.log("wallet disconnected"),window.open("/","_self")}),async function(){const{data:r,error:n}=await(new e.Wallet).init({networkName:e.Network.testnet,chain:e.Chain.near,apiKey:t.env.MINTASE_API_KEY}),{wallet:o,isConnected:a}=r;if(i=o,document.getElementById("btn-login")){if(a){const{data:t}=await o.details();document.getElementById("btn-login").innerText=t.accountId}a?document.getElementById("btn-login").addEventListener("click",t=>{t.preventDefault(),window.open("/me.html","_self")}):document.getElementById("btn-login").addEventListener("click",t=>{t.preventDefault(),o.connect({requestSignIn:!0})})}}()}.call(this,r(8))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"API",{enumerable:!0,get:function(){return n.API}}),Object.defineProperty(e,"Wallet",{enumerable:!0,get:function(){return i.Wallet}}),Object.defineProperty(e,"Chain",{enumerable:!0,get:function(){return o.Chain}}),Object.defineProperty(e,"Network",{enumerable:!0,get:function(){return o.Network}}),Object.defineProperty(e,"MintbaseAPIConfig",{enumerable:!0,get:function(){return o.MintbaseAPIConfig}}),Object.defineProperty(e,"WalletLoginProps",{enumerable:!0,get:function(){return o.WalletLoginProps}}),Object.defineProperty(e,"Split",{enumerable:!0,get:function(){return o.Split}}),Object.defineProperty(e,"Royalties",{enumerable:!0,get:function(){return o.Royalties}}),Object.defineProperty(e,"Token",{enumerable:!0,get:function(){return o.Token}}),Object.defineProperty(e,"List",{enumerable:!0,get:function(){return o.List}}),Object.defineProperty(e,"Account",{enumerable:!0,get:function(){return o.Account}}),Object.defineProperty(e,"Visibility",{enumerable:!0,get:function(){return o.Visibility}}),Object.defineProperty(e,"DisplayType",{enumerable:!0,get:function(){return o.DisplayType}}),Object.defineProperty(e,"Attribute",{enumerable:!0,get:function(){return o.Attribute}}),Object.defineProperty(e,"MetadataField",{enumerable:!0,get:function(){return o.MetadataField}}),Object.defineProperty(e,"MintMetadata",{enumerable:!0,get:function(){return o.MintMetadata}}),Object.defineProperty(e,"Constants",{enumerable:!0,get:function(){return o.Constants}}),r(73);var n=r(48),i=r(82),o=r(20)},function(t,e,r){var n=function(t){"use strict";var e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,i){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),s=new S(i||[]);return n(a,"_invoke",{value:w(t,r,s)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function f(){}function d(){}function p(){}var m={};u(m,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(T([])));g&&g!==e&&r.call(g,o)&&(m=g);var v=p.prototype=f.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){var i;n(this,"_invoke",{value:function(n,o){function a(){return new e((function(i,a){!function n(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(u.arg)}(n,o,i,a)}))}return i=i?i.then(a,a):a()}})}function w(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return R()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=A(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function A(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,A(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var i=n.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function M(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:R}}function R(){return{value:void 0,done:!0}}return d.prototype=p,n(v,"constructor",{value:p,configurable:!0}),n(p,"constructor",{value:d,configurable:!0}),d.displayName=u(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,u(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(_.prototype),u(_.prototype,a,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new _(c(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),u(v,s,"Generator"),u(v,o,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),M(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;M(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:T(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},t}(t.exports);try{regeneratorRuntime=n}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return o(e,t),e},s=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},u=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},c=this&&this.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.gql=e.batchRequests=e.request=e.rawRequest=e.GraphQLClient=e.ClientError=void 0;var h=a(r(75)),f=h,d=r(140),p=l(r(76)),m=r(79);Object.defineProperty(e,"ClientError",{enumerable:!0,get:function(){return m.ClientError}});var y=function(t){var e={};return t&&("undefined"!=typeof Headers&&t instanceof Headers||t instanceof f.Headers?e=function(t){var e={};return t.forEach((function(t,r){e[r]=t})),e}(t):Array.isArray(t)?t.forEach((function(t){var r=t[0],n=t[1];e[r]=n})):e=t),e},g=function(t){return t.replace(/([\s,]|#[^\n\r]+)+/g," ").trim()},v=function(t){var e=t.url,r=t.query,i=t.variables,o=t.operationName,a=t.headers,c=t.fetch,l=t.fetchOptions;return s(void 0,void 0,void 0,(function(){var t;return u(this,(function(s){switch(s.label){case 0:return t=p.default(r,i,o),[4,c(e,n({method:"POST",headers:n(n({},"string"==typeof t?{"Content-Type":"application/json"}:{}),a),body:t},l))];case 1:return[2,s.sent()]}}))}))},b=function(t){var e=t.url,r=t.query,i=t.variables,o=t.operationName,a=t.headers,c=t.fetch,l=t.fetchOptions;return s(void 0,void 0,void 0,(function(){var t;return u(this,(function(s){switch(s.label){case 0:return t=function(t){var e=t.query,r=t.variables,n=t.operationName;if(!Array.isArray(e)){var i=["query="+encodeURIComponent(g(e))];return r&&i.push("variables="+encodeURIComponent(JSON.stringify(r))),n&&i.push("operationName="+encodeURIComponent(n)),i.join("&")}if(void 0!==r&&!Array.isArray(r))throw new Error("Cannot create query with given variable type, array expected");var o=e.reduce((function(t,e,n){return t.push({query:g(e),variables:r?JSON.stringify(r[n]):void 0}),t}),[]);return"query="+encodeURIComponent(JSON.stringify(o))}({query:r,variables:i,operationName:o}),[4,c(e+"?"+t,n({method:"GET",headers:a},l))];case 1:return[2,s.sent()]}}))}))},_=function(){function t(t,e){this.url=t,this.options=e||{}}return t.prototype.rawRequest=function(t,e,r){var i=this.options,o=i.headers,a=i.fetch,s=void 0===a?h.default:a,u=i.method,l=void 0===u?"POST":u,f=c(i,["headers","fetch","method"]);return w({url:this.url,query:t,variables:e,headers:n(n({},y(o)),y(r)),operationName:void 0,fetch:s,method:l,fetchOptions:f})},t.prototype.request=function(t,e,r){return s(this,void 0,void 0,(function(){var i,o,a,s,l,f,d,p,m,g,v;return u(this,(function(u){switch(u.label){case 0:return i=this.options,o=i.headers,a=i.fetch,s=void 0===a?h.default:a,l=i.method,f=void 0===l?"POST":l,d=c(i,["headers","fetch","method"]),p=this.url,m=M(t),g=m.query,v=m.operationName,[4,w({url:p,query:g,variables:e,headers:n(n({},y(o)),y(r)),operationName:v,fetch:s,method:f,fetchOptions:d})];case 1:return[2,u.sent().data]}}))}))},t.prototype.batchRequests=function(t,e){return s(this,void 0,void 0,(function(){var r,i,o,a,s,l,f,d,p,m;return u(this,(function(u){switch(u.label){case 0:return r=this.options,i=r.headers,o=r.fetch,a=void 0===o?h.default:o,s=r.method,l=void 0===s?"POST":s,f=c(r,["headers","fetch","method"]),d=this.url,p=t.map((function(t){return M(t.document).query})),m=t.map((function(t){return t.variables})),[4,w({url:d,query:p,variables:m,headers:n(n({},y(i)),y(e)),operationName:void 0,fetch:a,method:l,fetchOptions:f})];case 1:return[2,u.sent().data]}}))}))},t.prototype.setHeaders=function(t){return this.options.headers=t,this},t.prototype.setHeader=function(t,e){var r,n=this.options.headers;return n?n[t]=e:this.options.headers=((r={})[t]=e,r),this},t.prototype.setEndpoint=function(t){return this.url=t,this},t}();function w(t){var e=t.url,r=t.query,i=t.variables,o=t.headers,a=t.operationName,c=t.fetch,l=t.method,h=void 0===l?"POST":l,f=t.fetchOptions;return s(this,void 0,void 0,(function(){var t,s,l,d,p,y,g,_;return u(this,(function(u){switch(u.label){case 0:return t="POST"===h.toUpperCase()?v:b,s=Array.isArray(r),[4,t({url:e,query:r,variables:i,operationName:a,headers:o,fetch:c,fetchOptions:f})];case 1:return[4,E(l=u.sent())];case 2:if(d=u.sent(),p=s&&Array.isArray(d)?!d.some((function(t){return!t.data})):!!d.data,l.ok&&!d.errors&&p)return y=l.headers,g=l.status,[2,n(n({},s?{data:d}:d),{headers:y,status:g})];throw _="string"==typeof d?{error:d}:d,new m.ClientError(n(n({},_),{status:l.status,headers:l.headers}),{query:r,variables:i})}}))}))}function A(t,e,r,n){return s(this,void 0,void 0,(function(){return u(this,(function(i){return[2,new _(t).request(e,r,n)]}))}))}function E(t){var e=t.headers.get("Content-Type");return e&&e.startsWith("application/json")?t.json():t.text()}function M(t){var e;if("string"==typeof t)return{query:t};var r=void 0,n=t.definitions.filter((function(t){return"OperationDefinition"===t.kind}));return 1===n.length&&(r=null===(e=n[0].name)||void 0===e?void 0:e.value),{query:d.print(t),operationName:r}}e.GraphQLClient=_,e.rawRequest=function(t,e,r,n){return s(this,void 0,void 0,(function(){return u(this,(function(i){return[2,new _(t).rawRequest(e,r,n)]}))}))},e.request=A,e.batchRequests=function(t,e,r){return s(this,void 0,void 0,(function(){return u(this,(function(n){return[2,new _(t).batchRequests(e,r)]}))}))},e.default=A,e.gql=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return t.reduce((function(t,r,n){return""+t+r+(n in e?e[n]:"")}),"")}},function(t,e){var r="undefined"!=typeof self?self:this,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,a="ArrayBuffer"in t;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function c(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function h(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function f(t){this.map={},t instanceof f?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function m(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():a&&i&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t,e,r,n=d(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=p(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(t,e){t=c(t),e=l(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},f.prototype.delete=function(t){delete this.map[c(t)]},f.prototype.get=function(t){return t=c(t),this.has(t)?this.map[t]:null},f.prototype.has=function(t){return this.map.hasOwnProperty(c(t))},f.prototype.set=function(t,e){this.map[c(t)]=l(e)},f.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},f.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),h(t)},f.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),h(t)},f.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),h(t)},n&&(f.prototype[Symbol.iterator]=f.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(t,e){var r,n,i=(e=e||{}).body;if(t instanceof b){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new f(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new f(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),v.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function _(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function w(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new f(e.headers),this.url=e.url||"",this._initBody(t)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},g.call(b.prototype),g.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},w.error=function(){var t=new w(null,{status:0,statusText:""});return t.type="error",t};var A=[301,302,303,307,308];w.redirect=function(t,e){if(-1===A.indexOf(e))throw new RangeError("Invalid status code");return new w(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function E(t,r){return new Promise((function(n,o){var a=new b(t,r);if(a.signal&&a.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var t,e,r={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;n(new w(i,r))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(t,e){s.setRequestHeader(e,t)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}E.polyfill=!0,t.fetch||(t.fetch=E,t.Headers=f,t.Request=b,t.Response=w),e.Headers=f,e.Request=b,e.Response=w,e.fetch=E,Object.defineProperty(e,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(77),o=n(r(78)),a=function(t){return i.isExtractableFile(t)||null!==t&&"object"==typeof t&&"function"==typeof t.pipe};e.default=function(t,e,r){var n=i.extractFiles({query:t,variables:e,operationName:r},"",a),s=n.clone,u=n.files;if(0===u.size){if(!Array.isArray(t))return JSON.stringify(s);if(void 0!==e&&!Array.isArray(e))throw new Error("Cannot create request body with given variable type, array expected");var c=t.reduce((function(t,r,n){return t.push({query:r,variables:e?e[n]:void 0}),t}),[]);return JSON.stringify(c)}var l=new("undefined"==typeof FormData?o.default:FormData);l.append("operations",JSON.stringify(s));var h={},f=0;return u.forEach((function(t){h[++f]=t})),l.append("map",JSON.stringify(h)),f=0,u.forEach((function(t,e){l.append(""+ ++f,e)})),l}},function(t,e,r){"use strict";r.r(e);var n=r(36);r.d(e,"ReactNativeFile",(function(){return n}));var i=r(50);r.d(e,"extractFiles",(function(){return i}));var o=r(37);r.d(e,"isExtractableFile",(function(){return o}))},function(t,e){t.exports="object"==typeof self?self.FormData:window.FormData},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.ClientError=void 0;var o=function(t){function e(r,n){var i=this,o=e.extractMessage(r)+": "+JSON.stringify({response:r,request:n});return i=t.call(this,o)||this,Object.setPrototypeOf(i,e.prototype),i.response=r,i.request=n,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(i,e),i}return i(e,t),e.extractMessage=function(t){try{return t.errors[0].message}catch(e){return"GraphQL Error (Code: "+t.status+")"}},e}(Error);e.ClientError=o},function(t,e,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t,e,r){var n=a(t,e),i=s(n.renderedPath,"?",o(function(t){return Object.keys(t).filter((function(e){return null!=t[e]})).reduce((function(e,r){return e[r]=t[r],e}),{})}(n.remainingParams)));return r?s(r,"/",i):i}function o(t){return new URLSearchParams(t).toString()}function a(t,e){var r=n({},e),i=["boolean","string","number"];return{renderedPath:t.replace(/:\w+/g,(function(t){var n=t.slice(1);if(/^\d+$/.test(n))return t;if(!e.hasOwnProperty(n))throw new Error("Missing value for path parameter "+n+".");if(!i.includes(typeof e[n]))throw new TypeError("Path parameter "+n+" cannot be of type "+typeof e[n]+". Allowed types are: "+i.join(", ")+".");if("string"==typeof e[n]&&""===e[n].trim())throw new Error("Path parameter "+n+" cannot be an empty string.");return delete r[n],encodeURIComponent(e[n])})),remainingParams:r}}function s(t,e,r){var n=t.endsWith(e)?t.slice(0,-e.length):t,i=r.startsWith(e)?r.slice(e.length):r;return""===n||""===i?n+i:n+e+i}Object.defineProperty(e,"__esModule",{value:!0}),e.join=e.subst=e.query=void 0,e.default=function(t,e,r){return void 0===r&&(r={}),"string"==typeof e?i(e,r,t):i(t,e)},e.query=o,e.subst=function(t,e){return a(t,e).renderedPath},e.join=s},function(t,e){},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Wallet=void 0,r(24);var n,i=r(52),o=r(83),a=(n=r(38))&&n.__esModule?n:{default:n},s=r(48),u=r(20),c=r(14),l=r(129),h=r(136),f=r(137),d=r(25),p=r(138),m=r(54),y=r(39),g=r(44),v=r(21);function b(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?b(Object(r),!0).forEach((function(e){M(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function w(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function A(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){w(o,n,i,a,s,"next",t)}function s(t){w(o,n,i,a,s,"throw",t)}a(void 0)}))}}function E(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function M(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var S=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),M(this,"api",void 0),M(this,"activeWallet",void 0),M(this,"activeNearConnection",void 0),M(this,"activeAccount",void 0),M(this,"networkName",u.Network.testnet),M(this,"chain",u.Chain.near),M(this,"keyStore",void 0),M(this,"nearConfig",void 0),M(this,"minter",void 0),M(this,"constants",void 0),M(this,"rpcCall",function(){var t=A(regeneratorRuntime.mark((function t(r){var n,i,o,a,s,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.headers,i=void 0===n?{}:n,o=r.body,a=void 0===o?{}:o,s=r.method,e.nearConfig){t.next=3;break}throw new Error("NEAR Config not defined.");case 3:return t.next=5,fetch(e.nearConfig.nodeUrl,{method:"POST",body:JSON.stringify(_(_({},a),{},{jsonrpc:"2.0",id:"mintbase-".concat(Math.random().toString().substr(2,10)),method:s})),headers:_(_({},i),{},{"Content-Type":"application/json"})});case 5:return u=t.sent,t.next=8,u.json();case 8:return c=t.sent,t.abrupt("return",null==c?void 0:c.result);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),M(this,"viewAccessKey",function(){var t=A(regeneratorRuntime.mark((function t(r,n){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.rpcCall({body:{params:{request_type:"view_access_key",finality:"final",account_id:r,public_key:n}},method:"query"});case 2:return i=t.sent,t.abrupt("return",(0,d.formatResponse)({data:i}));case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),M(this,"viewAccessKeyList",function(){var t=A(regeneratorRuntime.mark((function t(r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.rpcCall({body:{params:{request_type:"view_access_key_list",finality:"final",account_id:r}},method:"query"});case 2:return n=t.sent,t.abrupt("return",(0,d.formatResponse)({data:n}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),M(this,"transactionStatus",function(){var t=A(regeneratorRuntime.mark((function t(r,n){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.rpcCall({body:{params:[r,n]},method:"tx"});case 2:return i=t.sent,t.abrupt("return",(0,d.formatResponse)({data:i}));case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),M(this,"transactionStatusWithReceipts",function(){var t=A(regeneratorRuntime.mark((function t(r,n){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.rpcCall({body:{params:[r,n]},method:"EXPERIMENTAL_tx_status"});case 2:return i=t.sent,t.abrupt("return",(0,d.formatResponse)({data:i}));case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()),this.constants={}}var e,r,n,b,w,S,T,R,O,k,C,I,x,N,P,U,j,L,D,B,F,K,H,q,W,z,V,G,Y,J,X,Z,$;return e=t,(r=[{key:"init",value:($=A(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,f.initializeExternalConstants)({apiKey:e.apiKey,networkName:e.networkName||this.networkName});case 3:return this.constants=t.sent,this.api=new s.API({networkName:e.networkName||this.networkName,chain:e.chain||this.chain,constants:this.constants}),this.networkName=e.networkName||u.Network.testnet,this.chain=e.chain||u.Chain.near,this.nearConfig=this.getNearConfig(this.networkName),this.keyStore=this.getKeyStore(),this.minter=new l.Minter({apiKey:e.apiKey,constants:this.constants}),t.next=12,this.connect();case 12:return r={wallet:this,isConnected:this.isConnected()},t.abrupt("return",(0,d.formatResponse)({data:r}));case 16:return t.prev=16,t.t0=t.catch(0),t.abrupt("return",(0,d.formatResponse)({error:t.t0}));case 19:case"end":return t.stop()}}),t,this,[[0,16]])}))),function(t){return $.apply(this,arguments)})},{key:"isConnected",value:function(){var t,e;return null!==(t=null===(e=this.activeWallet)||void 0===e?void 0:e.isSignedIn())&&void 0!==t&&t}},{key:"connect",value:(Z=A(regeneratorRuntime.mark((function t(){var e,r,n,a,s,u,l,h,f,p=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=p.length>0&&void 0!==p[0]?p[0]:{},r=e.contractAddress||this.constants.FACTORY_CONTRACT_NAME||c.FACTORY_CONTRACT_NAME,!i.isBrowser){t.next=23;break}return n=_({deps:{keyStore:this.getKeyStore()},headers:{"Content-Type":"application/json"}},this.getNearConfig(this.networkName,r)),t.next=6,(0,o.connect)(n);case 6:if(a=t.sent,this.activeNearConnection=a,this.activeWallet=new o.WalletAccount(a,c.DEFAULT_APP_NAME),null==e||!e.requestSignIn){t.next=13;break}this.activeWallet.requestSignIn({contractId:r,successUrl:null==e?void 0:e.successUrl,failureUrl:null==e?void 0:e.failureUrl}),t.next=18;break;case 13:if(!this.activeWallet.isSignedIn()){t.next=18;break}return s=this.activeWallet.getAccountId(),t.next=17,this.activeNearConnection.account(s);case 17:this.activeAccount=t.sent;case 18:return t.next=20,(0,o.connect)(n);case 20:return t.abrupt("return",(0,d.formatResponse)({data:"connected"}));case 23:if(!i.isNode){t.next=39;break}if(u=e.privateKey){t.next=27;break}return t.abrupt("return",(0,d.formatResponse)({error:"Private key is not defined."}));case 27:return this.setSessionKeyPair(this.constants.FACTORY_CONTRACT_NAME||c.FACTORY_CONTRACT_NAME,u),l=_({deps:{keyStore:this.getKeyStore()},headers:{"Content-Type":"application/json"}},this.getNearConfig(this.networkName,r)),h=new o.Near(l),this.activeNearConnection=h,this.activeWallet=new o.WalletAccount(h,c.DEFAULT_APP_NAME),f=this.activeWallet.getAccountId(),t.next=35,this.activeNearConnection.account(f);case 35:return this.activeAccount=t.sent,t.abrupt("return",(0,d.formatResponse)({data:"connection activated"}));case 39:return t.abrupt("return",(0,d.formatResponse)({error:"Only Browser or Node environment supported."}));case 40:case"end":return t.stop()}}),t,this)}))),function(){return Z.apply(this,arguments)})},{key:"disconnect",value:function(){var t;return null===(t=this.activeWallet)||void 0===t||t.signOut(),this.activeNearConnection=void 0,this.activeAccount=void 0,(0,d.formatResponse)({data:"disconnected"})}},{key:"connectTo",value:(X=A(regeneratorRuntime.mark((function t(e){var r,n,o,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i.isNode){t.next=2;break}return t.abrupt("return",(0,d.formatResponse)({error:"Node environment does not yet support the connectTo method."}));case 2:if(this.getLocalAccounts().data[e]){t.next=5;break}return t.abrupt("return",(0,d.formatResponse)({data:!1}));case 5:if(r=function(){var t=A(regeneratorRuntime.mark((function t(e){var r,n,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.viewAccessKeyList(e);case 2:return r=t.sent,n=r.data,i=n.keys.filter((function(t){return"FullAccess"===t.access_key.permission})),o=i.reduce((function(t,e){var r,n;return(null==t||null===(r=t.access_key)||void 0===r?void 0:r.nonce)>(null==e||null===(n=e.access_key)||void 0===n?void 0:n.nonce)?t:e})),t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),!i.isBrowser){t.next=14;break}return n="".concat(c.DEFAULT_APP_NAME).concat(c.NEAR_LOCAL_STORAGE_KEY_SUFFIX),t.next=10,r(e);case 10:return o=t.sent,localStorage.setItem(n,JSON.stringify({accountId:e,allKeys:[o.public_key]})),this.connect(),t.abrupt("return",(0,d.formatResponse)({data:!0}));case 14:return t.abrupt("return",(0,d.formatResponse)({data:!1}));case 15:case"end":return t.stop()}}),t,this)}))),function(t){return X.apply(this,arguments)})},{key:"details",value:(J=A(regeneratorRuntime.mark((function t(){var e,r,n,i,a,s,u,c,l,h,f,p,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null===(e=this.activeWallet)||void 0===e?void 0:e.account(),i=null==n?void 0:n.accountId,t.next=4,this.getSessionKeyPair();case 4:if(a=t.sent,s=a.data,n&&i){t.next=8;break}return t.abrupt("return",(0,d.formatResponse)({error:"Account is undefined."}));case 8:if(s&&i){t.next=10;break}return t.abrupt("return",(0,d.formatResponse)({error:"No Key Pair for account ".concat(i)}));case 10:return u=s.getPublicKey().toString(),t.next=13,n.getAccountBalance();case 13:if(c=t.sent){t.next=16;break}return t.abrupt("return",(0,d.formatResponse)({error:""}));case 16:return t.next=18,this.viewAccessKey(i,u);case 18:return l=t.sent,h=l.data,f=o.utils.format.formatNearAmount(h.permission.FunctionCall.allowance),p=null===(r=this.activeNearConnection)||void 0===r?void 0:r.config.contractName,m={accountId:i,balance:o.utils.format.formatNearAmount(null==c?void 0:c.total,2),allowance:f,contractName:p},t.abrupt("return",(0,d.formatResponse)({data:m}));case 24:case"end":return t.stop()}}),t,this)}))),function(){return J.apply(this,arguments)})},{key:"transfer",value:(Y=A(regeneratorRuntime.mark((function t(e,r,n){var i,s,u,l,h,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null!=n&&n.gas?new a.default(null==n?void 0:n.gas):c.MAX_GAS,l=null===(i=this.activeWallet)||void 0===i?void 0:i.account(),h=null===(s=this.activeWallet)||void 0===s?void 0:s.account().accountId,l&&h){t.next=5;break}return t.abrupt("return",(0,d.formatResponse)({error:"Account is undefined."}));case 5:if(r){t.next=7;break}return t.abrupt("return",(0,d.formatResponse)({error:"No contract was provided."}));case 7:return f=new o.Contract(l,r,{viewMethods:this.constants.STORE_CONTRACT_VIEW_METHODS||c.STORE_CONTRACT_VIEW_METHODS,changeMethods:this.constants.STORE_CONTRACT_CALL_METHODS||c.STORE_CONTRACT_CALL_METHODS}),t.next=10,f.nft_batch_transfer({meta:null==n?void 0:n.meta,callbackUrl:null==n?void 0:n.callbackUrl,args:{token_ids:e},gas:u,amount:c.ONE_YOCTO});case 10:return t.abrupt("return",(0,d.formatResponse)({data:!0}));case 11:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return Y.apply(this,arguments)})},{key:"simpleTransfer",value:(G=A(regeneratorRuntime.mark((function t(e,r,n,i){var s,u,l,h,f,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=null!=i&&i.gas?new a.default(null==i?void 0:i.gas):c.MAX_GAS,h=null===(s=this.activeWallet)||void 0===s?void 0:s.account(),f=null===(u=this.activeWallet)||void 0===u?void 0:u.account().accountId,h&&f){t.next=5;break}return t.abrupt("return",(0,d.formatResponse)({error:"Account is undefined."}));case 5:if(n){t.next=7;break}return t.abrupt("return",(0,d.formatResponse)({error:"No contract was provided."}));case 7:return p=new o.Contract(h,n,{viewMethods:this.constants.STORE_CONTRACT_VIEW_METHODS||c.STORE_CONTRACT_VIEW_METHODS,changeMethods:this.constants.STORE_CONTRACT_CALL_METHODS||c.STORE_CONTRACT_CALL_METHODS}),t.next=10,p.nft_transfer({meta:null==i?void 0:i.meta,callbackUrl:null==i?void 0:i.callbackUrl,args:{receiver_id:r,token_id:e},gas:l,amount:c.ONE_YOCTO});case 10:return t.abrupt("return",(0,d.formatResponse)({data:!0}));case 11:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n){return G.apply(this,arguments)})},{key:"burn",value:(V=A(regeneratorRuntime.mark((function t(e,r,n){var i,s,u,l,h,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null!=n&&n.gas?new a.default(null==n?void 0:n.gas):c.MAX_GAS,l=null===(i=this.activeWallet)||void 0===i?void 0:i.account(),h=null===(s=this.activeWallet)||void 0===s?void 0:s.account().accountId,l&&h){t.next=5;break}return t.abrupt("return",(0,d.formatResponse)({error:"Account is undefined."}));case 5:if(r){t.next=7;break}return t.abrupt("return",(0,d.formatResponse)({error:"No contract was provided."}));case 7:return f=new o.Contract(l,r,{viewMethods:this.constants.STORE_CONTRACT_VIEW_METHODS||c.STORE_CONTRACT_VIEW_METHODS,changeMethods:this.constants.STORE_CONTRACT_CALL_METHODS||c.STORE_CONTRACT_CALL_METHODS}),t.next=10,f.nft_batch_burn({meta:null==n?void 0:n.meta,callbackUrl:null==n?void 0:n.callbackUrl,args:{token_ids:e},gas:u,amount:c.ONE_YOCTO});case 10:return t.abrupt("return",(0,d.formatResponse)({data:!0}));case 11:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return V.apply(this,arguments)})},{key:"batchList",value:(z=A(regeneratorRuntime.mark((function t(e,r,n,i){var s,u,l,f,p,m,y,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f=null===(s=this.activeWallet)||void 0===s?void 0:s.account(),p=null===(u=this.activeWallet)||void 0===u?void 0:u.account().accountId,m=null!=i&&i.gas?new a.default(null==i?void 0:i.gas):c.MAX_GAS,f&&p){t.next=5;break}return t.abrupt("return",(0,d.formatResponse)({error:"Account is undefined."}));case 5:return y=new o.Contract(f,r,{viewMethods:this.constants.STORE_CONTRACT_VIEW_METHODS||c.STORE_CONTRACT_VIEW_METHODS,changeMethods:this.constants.STORE_CONTRACT_CALL_METHODS||c.STORE_CONTRACT_CALL_METHODS}),g=(0,h.calculateListCost)(e.length),t.next=9,y.nft_batch_approve({meta:null==i?void 0:i.meta,callbackUrl:null==i?void 0:i.callbackUrl,args:{token_ids:e,account_id:(null==i?void 0:i.marketAddress)||this.constants.MARKET_ADDRESS||"0.".concat(this.constants.FACTORY_CONTRACT_NAME||c.FACTORY_CONTRACT_NAME),msg:JSON.stringify({price:n,autotransfer:null===(l=null==i?void 0:i.autotransfer)||void 0===l||l})},gas:m,amount:o.utils.format.parseNearAmount(g.toString())});case 9:return t.abrupt("return",(0,d.formatResponse)({data:!0}));case 10:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n){return z.apply(this,arguments)})},{key:"list",value:(W=A(regeneratorRuntime.mark((function t(e,r,n,i){var s,u,l,f,p,m,y,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f=null===(s=this.activeWallet)||void 0===s?void 0:s.account(),p=null===(u=this.activeWallet)||void 0===u?void 0:u.account().accountId,m=null!=i&&i.gas?new a.default(null==i?void 0:i.gas):c.MAX_GAS,f&&p){t.next=5;break}return t.abrupt("return",(0,d.formatResponse)({error:"Account is undefined."}));case 5:return y=new o.Contract(f,r,{viewMethods:this.constants.STORE_CONTRACT_VIEW_METHODS||c.STORE_CONTRACT_VIEW_METHODS,changeMethods:this.constants.STORE_CONTRACT_CALL_METHODS||c.STORE_CONTRACT_CALL_METHODS}),g=(0,h.calculateListCost)(1),t.next=9,y.nft_approve({meta:null==i?void 0:i.meta,callbackUrl:null==i?void 0:i.callbackUrl,args:{token_id:e,account_id:(null==i?void 0:i.marketAddress)||this.constants.MARKET_ADDRESS||"0.".concat(this.constants.FACTORY_CONTRACT_NAME||c.FACTORY_CONTRACT_NAME),msg:JSON.stringify({price:n,autotransfer:null===(l=null==i?void 0:i.autotransfer)||void 0===l||l})},gas:m,amount:o.utils.format.parseNearAmount(g.toString())});case 9:return t.abrupt("return",(0,d.formatResponse)({data:!0}));case 10:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n){return W.apply(this,arguments)})},{key:"revokeAccount",value:(q=A(regeneratorRuntime.mark((function t(e,r,n,i){var s,u,l,h,f,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=null===(s=this.activeWallet)||void 0===s?void 0:s.account(),h=null===(u=this.activeWallet)||void 0===u?void 0:u.account().accountId,f=null!=i&&i.gas?new a.default(null==i?void 0:i.gas):c.MAX_GAS,l&&h){t.next=5;break}return t.abrupt("return",(0,d.formatResponse)({error:"Account is undefined."}));case 5:return p=new o.Contract(l,r,{viewMethods:this.constants.STORE_CONTRACT_VIEW_METHODS||c.STORE_CONTRACT_VIEW_METHODS,changeMethods:this.constants.STORE_CONTRACT_CALL_METHODS||c.STORE_CONTRACT_CALL_METHODS}),t.next=8,p.nft_revoke({meta:null==i?void 0:i.meta,callbackUrl:null==i?void 0:i.callbackUrl,args:{token_id:e,account_id:n},gas:f,amount:c.ONE_YOCTO});case 8:return t.abrupt("return",(0,d.formatResponse)({data:!0}));case 9:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n){return q.apply(this,arguments)})},{key:"revokeAllAccounts",value:(H=A(regeneratorRuntime.mark((function t(e,r,n){var i,s,u,l,h,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null===(i=this.activeWallet)||void 0===i?void 0:i.account(),l=null===(s=this.activeWallet)||void 0===s?void 0:s.account().accountId,h=null!=n&&n.gas?new a.default(null==n?void 0:n.gas):new a.default("300000000000000"),u&&l){t.next=5;break}return t.abrupt("return",(0,d.formatResponse)({error:"Account is undefined."}));case 5:return f=new o.Contract(u,r,{viewMethods:this.constants.STORE_CONTRACT_VIEW_METHODS||c.STORE_CONTRACT_VIEW_METHODS,changeMethods:this.constants.STORE_CONTRACT_CALL_METHODS||c.STORE_CONTRACT_CALL_METHODS}),t.next=8,f.nft_revoke_all({meta:null==n?void 0:n.meta,callbackUrl:null==n?void 0:n.callbackUrl,args:{token_id:e},gas:h,amount:c.ONE_YOCTO});case 8:return t.abrupt("return",(0,d.formatResponse)({data:!0}));case 9:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return H.apply(this,arguments)})},{key:"makeGroupOffer",value:(K=A(regeneratorRuntime.mark((function t(e,r,n){var i,s,u,l,h,f,p,m,y,g,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null===(i=this.activeWallet)||void 0===i?void 0:i.account(),l=null===(s=this.activeWallet)||void 0===s?void 0:s.account().accountId,h=null!=n&&n.gas?new a.default(null==n?void 0:n.gas):c.MAX_GAS,f=(null==n?void 0:n.timeout)||c.TWENTY_FOUR,u&&l){t.next=6;break}return t.abrupt("return",(0,d.formatResponse)({error:"Account is undefined."}));case 6:if(e||(0,d.formatResponse)({error:"Please provide a groupId"}),this.api){t.next=9;break}return t.abrupt("return",(0,d.formatResponse)({error:"API is not defined."}));case 9:return t.next=11,this.api.fetchListById(e);case 11:if(p=t.sent,m=p.data,!(y=p.error)){t.next=16;break}return t.abrupt("return",(0,d.formatResponse)({error:y}));case 16:return g=new o.Contract(u,(null==n?void 0:n.marketAddress)||this.constants.MARKET_ADDRESS||"0.".concat(this.constants.FACTORY_CONTRACT_NAME||c.FACTORY_CONTRACT_NAME),{viewMethods:this.constants.MARKET_CONTRACT_VIEW_METHODS||c.MARKET_CONTRACT_VIEW_METHODS,changeMethods:this.constants.MARKET_CONTRACT_CALL_METHODS||c.MARKET_CONTRACT_CALL_METHODS}),v=r||m.price,t.next=20,g.make_offer({meta:null==n?void 0:n.meta,callbackUrl:null==n?void 0:n.callbackUrl,args:{token_key:m.token.id,price:v,timeout:{Hours:f}},gas:h,amount:o.utils.format.parseNearAmount(v)});case 20:return t.abrupt("return",(0,d.formatResponse)({data:!0}));case 21:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return K.apply(this,arguments)})},{key:"batchMakeOffer",value:(F=A(regeneratorRuntime.mark((function t(e,r,n){var i,s,u,l,h,f,p,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null===(i=this.activeWallet)||void 0===i?void 0:i.account(),l=null===(s=this.activeWallet)||void 0===s?void 0:s.account().accountId,h=null!=n&&n.gas?new a.default(null==n?void 0:n.gas):c.MAX_GAS,f=(null==n?void 0:n.timeout)||c.TWENTY_FOUR,u&&l){t.next=6;break}return t.abrupt("return",(0,d.formatResponse)({error:"Account is undefined."}));case 6:return p=new o.Contract(u,(null==n?void 0:n.marketAddress)||this.constants.MARKET_ADDRESS||"0.".concat(this.constants.FACTORY_CONTRACT_NAME||c.FACTORY_CONTRACT_NAME),{viewMethods:this.constants.MARKET_CONTRACT_VIEW_METHODS||c.MARKET_CONTRACT_VIEW_METHODS,changeMethods:this.constants.MARKET_CONTRACT_CALL_METHODS||c.MARKET_CONTRACT_CALL_METHODS}),m=r.reduce((function(t,e){return t.add(new a.default(e))}),new a.default(0)),t.next=10,p.make_offer({meta:null==n?void 0:n.meta,callbackUrl:null==n?void 0:n.callbackUrl,args:{token_key:e,price:r,timeout:Array(e.length).fill({Hours:f})},gas:h,amount:m.toString()});case 10:return t.abrupt("return",(0,d.formatResponse)({data:!0}));case 11:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return F.apply(this,arguments)})},{key:"makeOffer",value:(B=A(regeneratorRuntime.mark((function t(e,r,n){var i,s,u,l,h,f,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null===(i=this.activeWallet)||void 0===i?void 0:i.account(),l=null===(s=this.activeWallet)||void 0===s?void 0:s.account().accountId,h=null!=n&&n.gas?new a.default(null==n?void 0:n.gas):c.MAX_GAS,f=(null==n?void 0:n.timeout)||c.TWENTY_FOUR,u&&l){t.next=6;break}return t.abrupt("return",(0,d.formatResponse)({error:"Account is undefined."}));case 6:if(e){t.next=8;break}return t.abrupt("return",(0,d.formatResponse)({error:"Please provide a tokenId"}));case 8:return p=new o.Contract(u,(null==n?void 0:n.marketAddress)||this.constants.MARKET_ADDRESS||"0.".concat(this.constants.FACTORY_CONTRACT_NAME||c.FACTORY_CONTRACT_NAME),{viewMethods:this.constants.MARKET_CONTRACT_VIEW_METHODS||c.MARKET_CONTRACT_VIEW_METHODS,changeMethods:this.constants.MARKET_CONTRACT_CALL_METHODS||c.MARKET_CONTRACT_CALL_METHODS}),t.next=11,p.make_offer({meta:null==n?void 0:n.meta,callbackUrl:null==n?void 0:n.callbackUrl,args:{token_key:[e],price:[r],timeout:[{Hours:f}]},gas:h,amount:r});case 11:return t.abrupt("return",(0,d.formatResponse)({data:!0}));case 12:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return B.apply(this,arguments)})},{key:"acceptAndTransfer",value:(D=A(regeneratorRuntime.mark((function t(e,r){var n,i,s,u,l,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null===(n=this.activeWallet)||void 0===n?void 0:n.account(),u=null===(i=this.activeWallet)||void 0===i?void 0:i.account().accountId,l=null!=r&&r.gas?new a.default(null==r?void 0:r.gas):c.MAX_GAS,s&&u){t.next=5;break}return t.abrupt("return",(0,d.formatResponse)({error:"Account is undefined."}));case 5:if(e){t.next=7;break}return t.abrupt("return",(0,d.formatResponse)({error:"Please provide a tokenId"}));case 7:return h=new o.Contract(s,(null==r?void 0:r.marketAddress)||this.constants.MARKET_ADDRESS||"0.".concat(this.constants.FACTORY_CONTRACT_NAME||c.FACTORY_CONTRACT_NAME),{viewMethods:this.constants.MARKET_CONTRACT_VIEW_METHODS||c.MARKET_CONTRACT_VIEW_METHODS,changeMethods:this.constants.MARKET_CONTRACT_CALL_METHODS||c.MARKET_CONTRACT_CALL_METHODS}),t.next=10,h.accept_and_transfer({meta:null==r?void 0:r.meta,callbackUrl:null==r?void 0:r.callbackUrl,args:{token_key:e},gas:l,amount:c.ONE_YOCTO});case 10:return t.abrupt("return",(0,d.formatResponse)({data:!0}));case 11:case"end":return t.stop()}}),t,this)}))),function(t,e){return D.apply(this,arguments)})},{key:"withdrawOffer",value:(L=A(regeneratorRuntime.mark((function t(e,r){var n,i,s,u,l,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=null===(n=this.activeWallet)||void 0===n?void 0:n.account(),u=null===(i=this.activeWallet)||void 0===i?void 0:i.account().accountId,l=null!=r&&r.gas?new a.default(null==r?void 0:r.gas):c.MAX_GAS,s&&u){t.next=5;break}return t.abrupt("return",(0,d.formatResponse)({error:"Account is undefined."}));case 5:return h=new o.Contract(s,(null==r?void 0:r.marketAddress)||this.constants.MARKET_ADDRESS||"0.".concat(this.constants.FACTORY_CONTRACT_NAME||c.FACTORY_CONTRACT_NAME),{viewMethods:this.constants.MARKET_CONTRACT_VIEW_METHODS||c.MARKET_CONTRACT_VIEW_METHODS,changeMethods:this.constants.MARKET_CONTRACT_CALL_METHODS||c.MARKET_CONTRACT_CALL_METHODS}),t.next=8,h.withdraw_offer({meta:null==r?void 0:r.meta,callbackUrl:null==r?void 0:r.callbackUrl,args:{token_key:e},gas:l});case 8:return t.abrupt("return",(0,d.formatResponse)({data:!0}));case 9:case"end":return t.stop()}}),t,this)}))),function(t,e){return L.apply(this,arguments)})},{key:"deployStore",value:(j=A(regeneratorRuntime.mark((function t(e,r,n){var i,s,u,l,h,f,p,m,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=null===(i=this.activeWallet)||void 0===i?void 0:i.account(),h=null===(s=this.activeWallet)||void 0===s?void 0:s.account().accountId,f=null!=n&&n.gas?new a.default(null==n?void 0:n.gas):c.MAX_GAS,l&&h){t.next=5;break}return t.abrupt("return",(0,d.formatResponse)({error:"Account is undefined."}));case 5:return p=new o.Contract(l,this.constants.FACTORY_CONTRACT_NAME||c.FACTORY_CONTRACT_NAME,{viewMethods:this.constants.FACTORY_CONTRACT_VIEW_METHODS||c.FACTORY_CONTRACT_VIEW_METHODS,changeMethods:this.constants.FACTORY_CONTRACT_CALL_METHODS||c.FACTORY_CONTRACT_CALL_METHODS}),m={owner_id:h,metadata:{spec:"nft-1.0.0",name:e.replace(/[^a-z0-9]+/gim,"").toLowerCase(),symbol:r.replace(/[^a-z0-9]+/gim,"").toLowerCase(),icon:null!==(u=null==n?void 0:n.icon)&&void 0!==u?u:c.MINTBASE_32x32_BASE64_DARK_LOGO,base_uri:null,reference:null,reference_hash:null}},y=null!=n&&n.attachedDeposit?new a.default(null==n?void 0:n.attachedDeposit):c.DEPLOY_STORE_COST,t.next=10,p.create_store({meta:null==n?void 0:n.meta,callbackUrl:null==n?void 0:n.callbackUrl,args:m,gas:f,amount:y});case 10:return t.abrupt("return",(0,d.formatResponse)({data:!0}));case 11:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return j.apply(this,arguments)})},{key:"transferStoreOwnership",value:(U=A(regeneratorRuntime.mark((function t(e,r,n){var i,s,u,l,h,f,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null===(i=this.activeWallet)||void 0===i?void 0:i.account(),l=null===(s=this.activeWallet)||void 0===s?void 0:s.account().accountId,h=null!=n&&n.gas?new a.default(null==n?void 0:n.gas):c.MAX_GAS,u&&l){t.next=5;break}return t.abrupt("return",(0,d.formatResponse)({error:"Account is undefined."}));case 5:if(r){t.next=7;break}return t.abrupt("return",(0,d.formatResponse)({error:"No contract was provided."}));case 7:return f=new o.Contract(u,r,{viewMethods:this.constants.STORE_CONTRACT_VIEW_METHODS||c.STORE_CONTRACT_VIEW_METHODS,changeMethods:this.constants.STORE_CONTRACT_CALL_METHODS||c.STORE_CONTRACT_CALL_METHODS}),p=(null==n?void 0:n.keepOldMinters)||!0,t.next=11,f.transfer_store_ownership({meta:null==n?void 0:n.meta,callbackUrl:null==n?void 0:n.callbackUrl,args:{new_owner:e,keep_old_minters:p},gas:h,amount:c.ONE_YOCTO});case 11:return t.abrupt("return",(0,d.formatResponse)({data:!0}));case 12:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return U.apply(this,arguments)})},{key:"mint",value:(P=A(regeneratorRuntime.mark((function t(e,r,n,i,s,u){var l,h,f,p,m,y,g,v,b,_,w,A,E,M,S;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(f=null===(l=this.activeWallet)||void 0===l?void 0:l.account(),p=null===(h=this.activeWallet)||void 0===h?void 0:h.account().accountId,m=null!=u&&u.gas?new a.default(null==u?void 0:u.gas):c.MAX_GAS,y=null==u?void 0:u.metadataId,f&&p){t.next=6;break}return t.abrupt("return",(0,d.formatResponse)({error:"Account is undefined."}));case 6:if(r){t.next=8;break}return t.abrupt("return",(0,d.formatResponse)({error:"No contract was provided."}));case 8:if(g=new o.Contract(f,r,{viewMethods:this.constants.STORE_CONTRACT_VIEW_METHODS||c.STORE_CONTRACT_VIEW_METHODS,changeMethods:this.constants.STORE_CONTRACT_CALL_METHODS||c.STORE_CONTRACT_CALL_METHODS}),this.minter){t.next=11;break}return t.abrupt("return",(0,d.formatResponse)({error:"Minter not defined."}));case 11:if(y){t.next=20;break}return t.next=14,this.minter.getMetadataId();case 14:if(v=t.sent,b=v.data,!(_=v.error)){t.next=19;break}return t.abrupt("return",(0,d.formatResponse)({error:_}));case 19:y=b;case 20:if(!(0===(w=(null==u?void 0:u.royaltyPercentage)||c.DEFAULT_ROYALTY_PERCENT)||w>5e3)){t.next=23;break}throw new Error(c.ERROR_MESSAGES.invalidRoyalties);case 23:if(this.api){t.next=25;break}throw new Error("API is not defined.");case 25:return t.next=27,this.api.custom("query v2_mintbasejs_getByThingId($id: String!) {\n        nft_contracts(where: {id: {_eq: $id}}, limit: 1) {\n            base_uri\n          }\n        }\n    ",{id:r});case 27:if(A=t.sent,E=A.data,!A.error&&0!==E.nft_contracts.length){t.next=32;break}return t.abrupt("return",(0,d.formatResponse)({error:"Thing does not exist."}));case 32:return M=E.nft_contracts[0].base_uri,S={owner_id:p,metadata:{reference:M?y:"".concat(c.BASE_ARWEAVE_URI,"/").concat(y),extra:s||null},num_to_mint:e,royalty_args:n?{split_between:n,percentage:w}:null,split_owners:i||null},t.next=36,g.nft_batch_mint({meta:null==u?void 0:u.meta,callbackUrl:null==u?void 0:u.callbackUrl,args:S,gas:m,amount:c.ONE_YOCTO});case 36:return t.abrupt("return",(0,d.formatResponse)({data:!0}));case 37:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n,i,o){return P.apply(this,arguments)})},{key:"mintMore",value:(N=A(regeneratorRuntime.mark((function t(e,r,n,i){var s,u,l,h,f,p,m,y,g,v,b,_,w,A,E,M,S,T;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=null===(s=this.activeWallet)||void 0===s?void 0:s.account(),h=null===(u=this.activeWallet)||void 0===u?void 0:u.account().accountId,f=null!=i&&i.gas?new a.default(null==i?void 0:i.gas):c.MAX_GAS,e){t.next=5;break}throw new Error("Amount is undefined.");case 5:if(r){t.next=7;break}throw new Error("Id is undefined.");case 7:if(l&&h){t.next=9;break}throw new Error("Account is undefined.");case 9:if(this.api){t.next=11;break}throw new Error("API is not defined.");case 11:return t.next=13,this.api.custom("query v2_mintbasejs_getByThingId($id: String!) {\n        thing: mb_views_nft_tokens(where: {metadata_id: {_eq: $id}}, limit: 1) {\n            memo: mint_memo\n            metaId: metadata_id\n            storeId: nft_contract_id\n            base_uri\n            royalties\n            royalties_percent\n            reference_hash\n            reference\n            splitsFromTokenData: splits\n          }\n        }\n    ",{id:r});case 13:if(p=t.sent,m=p.data,y=p.error,g=m.thing,!y&&0!==g.length){t.next=19;break}return t.abrupt("return",(0,d.formatResponse)({error:"Thing does not exist."}));case 19:if(v=g[0],0!==(b={memo:v.memo,metaId:v.metaId,storeId:v.storeId,base_uri:v.base_uri,reference:v.reference,tokens:[{royaltyPercent:v.royalties_percent,royaltys:v.royalties}],splits:n||v.splitsFromTokenData||null}).tokens.length){t.next=23;break}return t.abrupt("return",(0,d.formatResponse)({error:"Thing does not have tokens."}));case 23:return _=b.storeId,w=b.memo,b.metaId,A=b.tokens[0],E=A.royaltys,M=A.royaltyPercent,S=new o.Contract(l,_,{viewMethods:this.constants.STORE_CONTRACT_VIEW_METHODS||c.STORE_CONTRACT_VIEW_METHODS,changeMethods:this.constants.STORE_CONTRACT_CALL_METHODS||c.STORE_CONTRACT_CALL_METHODS}),b.base_uri,T={owner_id:h,metadata:{reference:b.reference,extra:w},num_to_mint:e,royalty_args:{split_between:E,percentage:M},split_owners:b.splits},t.next=33,S.nft_batch_mint({meta:null==i?void 0:i.meta,callbackUrl:null==i?void 0:i.callbackUrl,args:T,gas:f,amount:c.ONE_YOCTO});case 33:return t.abrupt("return",(0,d.formatResponse)({data:!0}));case 34:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n){return N.apply(this,arguments)})},{key:"grantMinter",value:(x=A(regeneratorRuntime.mark((function t(e,r,n){var i,s,u,l,h,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null===(i=this.activeWallet)||void 0===i?void 0:i.account(),l=null===(s=this.activeWallet)||void 0===s?void 0:s.account().accountId,h=null!=n&&n.gas?new a.default(null==n?void 0:n.gas):c.MAX_GAS,u&&l){t.next=5;break}return t.abrupt("return",(0,d.formatResponse)({error:"Account is undefined."}));case 5:if(r){t.next=7;break}return t.abrupt("return",(0,d.formatResponse)({error:"No contract was provided."}));case 7:return f=new o.Contract(u,r,{viewMethods:this.constants.STORE_CONTRACT_VIEW_METHODS||c.STORE_CONTRACT_VIEW_METHODS,changeMethods:this.constants.STORE_CONTRACT_CALL_METHODS||c.STORE_CONTRACT_CALL_METHODS}),t.next=10,f.grant_minter({meta:null==n?void 0:n.meta,callbackUrl:null==n?void 0:n.callbackUrl,args:{account_id:e},gas:h,amount:c.ONE_YOCTO});case 10:return t.abrupt("return",(0,d.formatResponse)({data:!0}));case 11:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return x.apply(this,arguments)})},{key:"batchChangeMinters",value:(I=A(regeneratorRuntime.mark((function t(e,r,n,i){var s,u,l,h,f,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=null===(s=this.activeWallet)||void 0===s?void 0:s.account(),h=null===(u=this.activeWallet)||void 0===u?void 0:u.account().accountId,f=null!=i&&i.gas?new a.default(null==i?void 0:i.gas):c.MAX_GAS,l&&h){t.next=5;break}return t.abrupt("return",(0,d.formatResponse)({error:"Account is undefined."}));case 5:return p=new o.Contract(l,n,{viewMethods:this.constants.STORE_CONTRACT_VIEW_METHODS||c.STORE_CONTRACT_VIEW_METHODS,changeMethods:this.constants.STORE_CONTRACT_CALL_METHODS||c.STORE_CONTRACT_CALL_METHODS}),t.next=8,p.batch_change_minters({meta:null==i?void 0:i.meta,callbackUrl:null==i?void 0:i.callbackUrl,args:{grant:e.length>0?e:void 0,revoke:r.length>0?r:void 0},gas:f,amount:c.ONE_YOCTO});case 8:return t.abrupt("return",(0,d.formatResponse)({data:!0}));case 9:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n){return I.apply(this,arguments)})},{key:"revokeMinter",value:(C=A(regeneratorRuntime.mark((function t(e,r,n){var i,s,u,l,h,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null===(i=this.activeWallet)||void 0===i?void 0:i.account(),l=null===(s=this.activeWallet)||void 0===s?void 0:s.account().accountId,h=null!=n&&n.gas?new a.default(null==n?void 0:n.gas):c.MAX_GAS,u&&l){t.next=5;break}return t.abrupt("return",(0,d.formatResponse)({error:"Account is undefined."}));case 5:if(r){t.next=7;break}return t.abrupt("return",(0,d.formatResponse)({error:"No contract was provided."}));case 7:return f=new o.Contract(u,r,{viewMethods:this.constants.STORE_CONTRACT_VIEW_METHODS||c.STORE_CONTRACT_VIEW_METHODS,changeMethods:this.constants.STORE_CONTRACT_CALL_METHODS||c.STORE_CONTRACT_CALL_METHODS}),t.next=10,f.revoke_minter({meta:null==n?void 0:n.meta,callbackUrl:null==n?void 0:n.callbackUrl,args:{account_id:e},gas:h,amount:c.ONE_YOCTO});case 10:return t.abrupt("return",(0,d.formatResponse)({data:!0}));case 11:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return C.apply(this,arguments)})},{key:"setSessionKeyPair",value:(k=A(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.keyStore){t.next=2;break}return t.abrupt("return",(0,d.formatResponse)({error:"KeyStore not defined."}));case 2:return this.keyStore.setKey(this.networkName,e,o.KeyPair.fromString(r)),t.abrupt("return",(0,d.formatResponse)({data:this.keyStore}));case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return k.apply(this,arguments)})},{key:"getSessionKeyPair",value:(O=A(regeneratorRuntime.mark((function t(){var e,r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=null===(e=this.activeWallet)||void 0===e?void 0:e.getAccountId()){t.next=3;break}return t.abrupt("return",(0,d.formatResponse)({error:c.ERROR_MESSAGES.undefinedAccountId}));case 3:if(this.keyStore){t.next=5;break}return t.abrupt("return",(0,d.formatResponse)({error:c.ERROR_MESSAGES.undefinedKeyStore}));case 5:return t.next=7,null===(r=this.keyStore)||void 0===r?void 0:r.getKey(this.networkName,n);case 7:return i=t.sent,t.abrupt("return",(0,d.formatResponse)({data:i}));case 9:case"end":return t.stop()}}),t,this)}))),function(){return O.apply(this,arguments)})},{key:"signMessage",value:(R=A(regeneratorRuntime.mark((function t(e){var r,n,i,o,a,s,u,l,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isConnected()){t.next=2;break}return t.abrupt("return",(0,d.formatResponse)({error:c.ERROR_MESSAGES.walletNotConnected}));case 2:return t.next=4,this.getSessionKeyPair();case 4:if(n=t.sent,i=n.data,!n.error){t.next=9;break}return t.abrupt("return",(0,d.formatResponse)({error:c.ERROR_MESSAGES.invalidKeyPair}));case 9:if(o=null===(r=this.activeAccount)||void 0===r?void 0:r.accountId){t.next=12;break}return t.abrupt("return",(0,d.formatResponse)({error:c.ERROR_MESSAGES.undefinedAccountId}));case 12:return a=(new TextEncoder).encode(e).buffer,s=new Uint8Array(a),u=i.sign(s),l=u.signature,h=u.publicKey,t.abrupt("return",(0,d.formatResponse)({data:{signature:Array.from(l),publicKey:Array.from(h.data),publicKey_str:i.getPublicKey().toString(),accountId:o}}));case 16:case"end":return t.stop()}}),t,this)}))),function(t){return R.apply(this,arguments)})},{key:"verifySignature",value:(T=A(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",m.sign.detached.verify((0,p.messageEncode)(e.message),new Uint8Array(e.signature),new Uint8Array(e.publicKey)));case 1:case"end":return t.stop()}}),t)}))),function(t){return T.apply(this,arguments)})},{key:"getKeyStore",value:function(){if(i.isNode)return new o.keyStores.InMemoryKeyStore;if(i.isBrowser)return new o.keyStores.BrowserLocalStorageKeyStore;throw new Error("Runtime environment has to be Node or Browser")}},{key:"getLocalAccounts",value:function(){var t=/near-api-js:keystore:/,e=Object.keys(localStorage).filter((function(e){return null!==t.exec(e)})),r={};return e.forEach((function(t){var e=t.split(":")[2];r=_(_({},r),{},M({},e,{accountId:e,contractName:""}))})),(0,d.formatResponse)({data:r})}},{key:"fetchTransactionResult",value:(S=A(regeneratorRuntime.mark((function t(e){var r,n,i,a,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=null===(r=this.activeNearConnection)||void 0===r?void 0:r.connection){t.next=3;break}throw new Error("Near connection is undefined.");case 3:if(a=null===(n=this.activeWallet)||void 0===n?void 0:n.account().accountId){t.next=6;break}throw new Error("Account Id is undefined.");case 6:return s=o.utils.serialize.base_decode(e),t.next=9,i.provider.txStatus(s,a);case 9:return u=t.sent,t.abrupt("return",(0,d.formatResponse)({data:u}));case 11:case"end":return t.stop()}}),t,this)}))),function(t){return S.apply(this,arguments)})},{key:"getNearConfig",value:function(t,e){var r,n,i;switch(t){case u.Network.testnet:return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:e||(null===(r=this.constants)||void 0===r?void 0:r.FACTORY_CONTRACT_NAME)||c.FACTORY_CONTRACT_NAME,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org"};case u.Network.mainnet:return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:e||(null===(n=this.constants)||void 0===n?void 0:n.FACTORY_CONTRACT_NAME)||c.FACTORY_CONTRACT_NAME,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org"};default:return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:e||(null===(i=this.constants)||void 0===i?void 0:i.FACTORY_CONTRACT_NAME)||c.FACTORY_CONTRACT_NAME,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org"}}}},{key:"createTransaction",value:(w=A(regeneratorRuntime.mark((function t(e){var r,n,i,o,a,s,u,c,l,h,f,d,p,m,b;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=e.receiverId,c=e.actions,l=e.nonceOffset,this.activeWallet&&this.activeNearConnection){t.next=3;break}throw new Error("No active wallet or NEAR connection.");case 3:return t.next=5,null===(r=this.activeNearConnection)||void 0===r?void 0:r.connection.signer.getPublicKey(null===(n=this.activeWallet)||void 0===n?void 0:n.account().accountId,this.activeNearConnection.connection.networkId);case 5:return h=t.sent,t.next=8,null===(i=this.activeWallet)||void 0===i?void 0:i.account().accessKeyForTransaction(u,c,h);case 8:if(f=t.sent){t.next=11;break}throw new Error("Cannot find matching key for transaction sent to ".concat(u));case 11:return t.next=13,null===(o=this.activeNearConnection)||void 0===o?void 0:o.connection.provider.block({finality:"final"});case 13:if(d=t.sent){t.next=16;break}throw new Error("Cannot find block for transaction sent to ".concat(u));case 16:return p=(0,y.base_decode)(null==d||null===(a=d.header)||void 0===a?void 0:a.hash),m=g.PublicKey.from(f.public_key),b=f.access_key.nonce+l,t.abrupt("return",(0,v.createTransaction)(null===(s=this.activeWallet)||void 0===s?void 0:s.account().accountId,m,u,b,c,p));case 20:case"end":return t.stop()}}),t,this)}))),function(t){return w.apply(this,arguments)})},{key:"executeMultipleTransactions",value:(b=A(regeneratorRuntime.mark((function t(e){var r,n,i,o,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.transactions,i=e.options,t.next=3,Promise.all(n.map(function(){var t=A(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.createTransaction({receiverId:e.receiverId,actions:e.functionCalls.map((function(t){return(0,v.functionCall)(t.methodName,t.args,t.gas,t.deposit)})),nonceOffset:r+1});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()));case 3:o=t.sent,null===(r=this.activeWallet)||void 0===r||r.requestSignTransactions({transactions:o,callbackUrl:null==i?void 0:i.callbackUrl,meta:null==i?void 0:i.meta});case 5:case"end":return t.stop()}}),t,this)}))),function(t){return b.apply(this,arguments)})}])&&E(e.prototype,r),n&&E(e,n),t}();e.Wallet=S},function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e},a=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.keyStores=o(r(84)),a(r(55),e),a(r(112),e),r(113)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=e.BrowserLocalStorageKeyStore=e.InMemoryKeyStore=e.KeyStore=void 0;const n=r(26);Object.defineProperty(e,"KeyStore",{enumerable:!0,get:function(){return n.KeyStore}});const i=r(53);Object.defineProperty(e,"InMemoryKeyStore",{enumerable:!0,get:function(){return i.InMemoryKeyStore}});const o=r(93);Object.defineProperty(e,"BrowserLocalStorageKeyStore",{enumerable:!0,get:function(){return o.BrowserLocalStorageKeyStore}});const a=r(94);Object.defineProperty(e,"MergeKeyStore",{enumerable:!0,get:function(){return a.MergeKeyStore}})},function(t,e){},function(t,e,r){"use strict";e.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,n=c(t),a=n[0],s=n[1],u=new o(function(t,e,r){return 3*(e+r)/4-r}(0,a,s)),l=0,h=s>0?a-4:a;for(r=0;r<h;r+=4)e=i[t.charCodeAt(r)]<<18|i[t.charCodeAt(r+1)]<<12|i[t.charCodeAt(r+2)]<<6|i[t.charCodeAt(r+3)],u[l++]=e>>16&255,u[l++]=e>>8&255,u[l++]=255&e;2===s&&(e=i[t.charCodeAt(r)]<<2|i[t.charCodeAt(r+1)]>>4,u[l++]=255&e);1===s&&(e=i[t.charCodeAt(r)]<<10|i[t.charCodeAt(r+1)]<<4|i[t.charCodeAt(r+2)]>>2,u[l++]=e>>8&255,u[l++]=255&e);return u},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(l(t,a,a+16383>s?s:a+16383));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function l(t,e,r){for(var i,o,a=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,h=r?i-1:0,f=r?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+t[e+h],h+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+t[e+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,n),o-=c}return(d?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(a++,u/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(e*u-1)*Math.pow(2,i),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[r+d]=255&a,d+=p,a/=256,c-=8);t[r+d-p]|=128*m}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){var n=r(90);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},function(t,e,r){"use strict";var n=r(91).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),a=o.charCodeAt(0);if(255!==e[a])throw new TypeError(o+" is ambiguous");e[a]=i}var s=t.length,u=t.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return n.alloc(0);for(var r=0,i=0,o=0;t[r]===u;)i++,r++;for(var a=(t.length-r)*c+1>>>0,l=new Uint8Array(a);t[r];){var h=e[t.charCodeAt(r)];if(255===h)return;for(var f=0,d=a-1;(0!==h||f<o)&&-1!==d;d--,f++)h+=s*l[d]>>>0,l[d]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");o=f,r++}for(var p=a-o;p!==a&&0===l[p];)p++;var m=n.allocUnsafe(i+(a-p));m.fill(0,0,i);for(var y=i;p!==a;)m[y++]=l[p++];return m}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=n.from(e)),!n.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var r=0,i=0,o=0,a=e.length;o!==a&&0===e[o];)o++,r++;for(var c=(a-o)*l+1>>>0,h=new Uint8Array(c);o!==a;){for(var f=e[o],d=0,p=c-1;(0!==f||d<i)&&-1!==p;p--,d++)f+=256*h[p]>>>0,h[p]=f%s>>>0,f=f/s>>>0;if(0!==f)throw new Error("Non-zero carry");i=d,o++}for(var m=c-i;m!==c&&0===h[m];)m++;for(var y=u.repeat(r);m<c;++m)y+=t.charAt(h[m]);return y},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw new Error("Non-base"+s+" character")}}}},function(t,e,r){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=r(7),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function a(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},a.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},function(t,e,r){"use strict";function n(t,e,r){return e<=t&&t<=r}function i(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}r.r(e),r.d(e,"TextEncoder",(function(){return u})),r.d(e,"TextDecoder",(function(){return s}));function o(t){this.tokens=[].slice.call(t)}o.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};function a(t,e){if(t)throw TypeError("Decoder error");return e||65533}function s(t,e){if(!(this instanceof s))return new s(t,e);if("utf-8"!==(t=void 0!==t?String(t).toLowerCase():"utf-8"))throw new Error("Encoding not supported. Only utf-8 is supported");e=i(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function u(t,e){if(!(this instanceof u))return new u(t,e);if("utf-8"!==(t=void 0!==t?String(t).toLowerCase():"utf-8"))throw new Error("Encoding not supported. Only utf-8 is supported");e=i(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function c(t){var e=t.fatal,r=0,i=0,o=0,s=128,u=191;this.handler=function(t,c){if(-1===c&&0!==o)return o=0,a(e);if(-1===c)return-1;if(0===o){if(n(c,0,127))return c;if(n(c,194,223))o=1,r=c-192;else if(n(c,224,239))224===c&&(s=160),237===c&&(u=159),o=2,r=c-224;else{if(!n(c,240,244))return a(e);240===c&&(s=144),244===c&&(u=143),o=3,r=c-240}return r<<=6*o,null}if(!n(c,s,u))return r=o=i=0,s=128,u=191,t.prepend(c),a(e);if(s=128,u=191,r+=c-128<<6*(o-(i+=1)),i!==o)return null;var l=r;return r=o=i=0,l}}function l(t){t.fatal;this.handler=function(t,e){if(-1===e)return-1;if(n(e,0,127))return e;var r,i;n(e,128,2047)?(r=1,i=192):n(e,2048,65535)?(r=2,i=224):n(e,65536,1114111)&&(r=3,i=240);for(var o=[(e>>6*r)+i];r>0;){var a=e>>6*(r-1);o.push(128|63&a),r-=1}return o}}s.prototype={decode:function(t,e){var r;r="object"==typeof t&&t instanceof ArrayBuffer?new Uint8Array(t):"object"==typeof t&&"buffer"in t&&t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e=i(e),this._streaming||(this._decoder=new c({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var n,a=new o(r),s=[];!a.endOfStream()&&-1!==(n=this._decoder.handler(a,a.read()));)null!==n&&(Array.isArray(n)?s.push.apply(s,n):s.push(n));if(!this._streaming){do{if(-1===(n=this._decoder.handler(a,a.read())))break;null!==n&&(Array.isArray(n)?s.push.apply(s,n):s.push(n))}while(!a.endOfStream());this._decoder=null}return s.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===s[0]?(this._BOMseen=!0,s.shift()):this._BOMseen=!0)),function(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return e}(s)}},u.prototype={encode:function(t,e){t=t?String(t):"",e=i(e),this._streaming||(this._encoder=new l(this._options)),this._streaming=Boolean(e.stream);for(var r,n=[],a=new o(function(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var o=e.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var a=t.charCodeAt(n+1);if(56320<=a&&a<=57343){var s=1023&o,u=1023&a;i.push(65536+(s<<10)+u),n+=1}else i.push(65533)}n+=1}return i}(t));!a.endOfStream()&&-1!==(r=this._encoder.handler(a,a.read()));)Array.isArray(r)?n.push.apply(n,r):n.push(r);if(!this._streaming){for(;-1!==(r=this._encoder.handler(a,a.read()));)Array.isArray(r)?n.push.apply(n,r):n.push(r);this._encoder=null}return new Uint8Array(n)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserLocalStorageKeyStore=void 0;const n=r(26),i=r(6);class o extends n.KeyStore{constructor(t=window.localStorage,e="near-api-js:keystore:"){super(),this.localStorage=t,this.prefix=e}async setKey(t,e,r){this.localStorage.setItem(this.storageKeyForSecretKey(t,e),r.toString())}async getKey(t,e){const r=this.localStorage.getItem(this.storageKeyForSecretKey(t,e));return r?i.KeyPair.fromString(r):null}async removeKey(t,e){this.localStorage.removeItem(this.storageKeyForSecretKey(t,e))}async clear(){for(const t of this.storageKeys())t.startsWith(this.prefix)&&this.localStorage.removeItem(t)}async getNetworks(){const t=new Set;for(const e of this.storageKeys())if(e.startsWith(this.prefix)){const r=e.substring(this.prefix.length).split(":");t.add(r[1])}return Array.from(t.values())}async getAccounts(t){const e=new Array;for(const r of this.storageKeys())if(r.startsWith(this.prefix)){const n=r.substring(this.prefix.length).split(":");n[1]===t&&e.push(n[0])}return e}storageKeyForSecretKey(t,e){return`${this.prefix}${e}:${t}`}*storageKeys(){for(let t=0;t<this.localStorage.length;t++)yield this.localStorage.key(t)}}e.BrowserLocalStorageKeyStore=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MergeKeyStore=void 0;const n=r(26);class i extends n.KeyStore{constructor(t,e={writeKeyStoreIndex:0}){super(),this.options=e,this.keyStores=t}async setKey(t,e,r){await this.keyStores[this.options.writeKeyStoreIndex].setKey(t,e,r)}async getKey(t,e){for(const r of this.keyStores){const n=await r.getKey(t,e);if(n)return n}return null}async removeKey(t,e){for(const r of this.keyStores)await r.removeKey(t,e)}async clear(){for(const t of this.keyStores)await t.clear()}async getNetworks(){const t=new Set;for(const e of this.keyStores)for(const r of await e.getNetworks())t.add(r);return Array.from(t)}async getAccounts(t){const e=new Set;for(const r of this.keyStores)for(const n of await r.getAccounts(t))e.add(n);return Array.from(e)}toString(){return`MergeKeyStore(${this.keyStores.join(", ")})`}}e.MergeKeyStore=i},function(t,e,r){"use strict";(function(t,n){var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.JsonRpcProvider=e.ErrorContext=e.TypedError=void 0;const o=i(r(17)),a=r(56),s=r(27),u=r(18);Object.defineProperty(e,"TypedError",{enumerable:!0,get:function(){return u.TypedError}}),Object.defineProperty(e,"ErrorContext",{enumerable:!0,get:function(){return u.ErrorContext}});const c=r(15),l=i(r(42)),h=r(43);let f=123;class d extends a.Provider{constructor(t){if(super(),null!=t&&"object"==typeof t)this.connection=t;else{o.default("JsonRpcProvider(url?: string)")("use `JsonRpcProvider(connectionInfo: ConnectionInfo)` instead"),this.connection={url:t}}}async status(){return this.sendJsonRpc("status",[])}async sendTransaction(e){const r=e.encode();return this.sendJsonRpc("broadcast_tx_commit",[t.from(r).toString("base64")])}async sendTransactionAsync(e){const r=e.encode();return this.sendJsonRpc("broadcast_tx_async",[t.from(r).toString("base64")])}async txStatus(t,e){return"string"==typeof t?this.txStatusString(t,e):this.txStatusUint8Array(t,e)}async txStatusUint8Array(t,e){return this.sendJsonRpc("tx",[c.baseEncode(t),e])}async txStatusString(t,e){return this.sendJsonRpc("tx",[t,e])}async txStatusReceipts(t,e){return this.sendJsonRpc("EXPERIMENTAL_tx_status",[c.baseEncode(t),e])}async query(...t){let e;if(1===t.length)e=await this.sendJsonRpc("query",t[0]);else{const[r,n]=t;e=await this.sendJsonRpc("query",[r,n])}if(e&&e.error)throw new u.TypedError(`Querying ${t} failed: ${e.error}.\n${JSON.stringify(e,null,2)}`,h.getErrorTypeFromErrorMessage(e.error));return e}async block(t){const{finality:e}=t;let{blockId:r}=t;if("object"!=typeof t){o.default("JsonRpcProvider.block(blockId)")("use `block({ blockId })` or `block({ finality })` instead"),r=t}return this.sendJsonRpc("block",{block_id:r,finality:e})}async blockChanges(t){const{finality:e}=t,{blockId:r}=t;return this.sendJsonRpc("EXPERIMENTAL_changes_in_block",{block_id:r,finality:e})}async chunk(t){return this.sendJsonRpc("chunk",[t])}async validators(t){return this.sendJsonRpc("validators",[t])}async experimental_genesisConfig(){return o.default("JsonRpcProvider.experimental_protocolConfig()")("use `experimental_protocolConfig({ sync_checkpoint: 'genesis' })` to fetch the up-to-date or genesis protocol config explicitly"),await this.sendJsonRpc("EXPERIMENTAL_protocol_config",{sync_checkpoint:"genesis"})}async experimental_protocolConfig(t){return await this.sendJsonRpc("EXPERIMENTAL_protocol_config",t)}async experimental_lightClientProof(t){return o.default("JsonRpcProvider.experimental_lightClientProof(request)")("use `lightClientProof` instead"),await this.lightClientProof(t)}async lightClientProof(t){return await this.sendJsonRpc("EXPERIMENTAL_light_client_proof",t)}async accessKeyChanges(t,e){const{finality:r}=e,{blockId:n}=e;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"all_access_key_changes",account_ids:t,block_id:n,finality:r})}async singleAccessKeyChanges(t,e){const{finality:r}=e,{blockId:n}=e;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"single_access_key_changes",keys:t,block_id:n,finality:r})}async accountChanges(t,e){const{finality:r}=e,{blockId:n}=e;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"account_changes",account_ids:t,block_id:n,finality:r})}async contractStateChanges(t,e,r=""){const{finality:n}=e,{blockId:i}=e;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"data_changes",account_ids:t,key_prefix_base64:r,block_id:i,finality:n})}async contractCodeChanges(t,e){const{finality:r}=e,{blockId:n}=e;return this.sendJsonRpc("EXPERIMENTAL_changes",{changes_type:"contract_code_changes",account_ids:t,block_id:n,finality:r})}async gasPrice(t){return await this.sendJsonRpc("gas_price",[t])}async sendJsonRpc(t,e){const r=await l.default(500,12,1.5,async()=>{try{const r={method:t,params:e,id:f++,jsonrpc:"2.0"},n=await s.fetchJson(this.connection,JSON.stringify(r));if(n.error){if("object"==typeof n.error.data){if("string"==typeof n.error.data.error_message&&"string"==typeof n.error.data.error_type)throw new u.TypedError(n.error.data.error_message,n.error.data.error_type);throw h.parseRpcError(n.error.data)}{const t=`[${n.error.code}] ${n.error.message}: ${n.error.data}`;if("Timeout"===n.error.data||t.includes("Timeout error")||t.includes("query has timed out"))throw new u.TypedError(t,"TimeoutError");throw new u.TypedError(t,h.getErrorTypeFromErrorMessage(n.error.data))}}return n}catch(r){if("TimeoutError"===r.type)return n.env.NEAR_NO_LOGS||console.warn(`Retrying request to ${t} as it has timed out`,e),null;throw r}}),{result:i}=r;if(void 0===i)throw new u.TypedError(`Exceeded 12 attempts for request to ${t}.`,"RetriesExceeded");return i}}e.JsonRpcProvider=d}).call(this,r(7).Buffer,r(8))},function(t,e,r){"use strict";
/*!
 * http-errors
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var n,i=r(97)("http-errors"),o=r(98),a=r(99),s=r(101),u=r(102);function c(t){return Number(String(t).charAt(0)+"00")}function l(t,e){var r=Object.getOwnPropertyDescriptor(t,"name");r&&r.configurable&&(r.value=e,Object.defineProperty(t,"name",r))}function h(t){return"Error"!==t.substr(-5)?t+"Error":t}t.exports=function t(){for(var e,r,n=500,o={},s=0;s<arguments.length;s++){var u=arguments[s];if(u instanceof Error)n=(e=u).status||e.statusCode||n;else switch(typeof u){case"string":r=u;break;case"number":n=u,0!==s&&i("non-first-argument status code; replace with createError("+u+", ...)");break;case"object":o=u}}"number"==typeof n&&(n<400||n>=600)&&i("non-error status code; use only 4xx or 5xx status codes");("number"!=typeof n||!a[n]&&(n<400||n>=600))&&(n=500);var l=t[n]||t[c(n)];e||(e=l?new l(r):new Error(r||a[n]),Error.captureStackTrace(e,t));l&&e instanceof l&&e.status===n||(e.expose=n<500,e.status=e.statusCode=n);for(var h in o)"status"!==h&&"statusCode"!==h&&(e[h]=o[h]);return e},t.exports.HttpError=function(){function t(){throw new TypeError("cannot construct abstract class")}return s(t,Error),t}(),t.exports.isHttpError=(n=t.exports.HttpError,function(t){return!(!t||"object"!=typeof t)&&(t instanceof n||t instanceof Error&&"boolean"==typeof t.expose&&"number"==typeof t.statusCode&&t.status===t.statusCode)}),function(t,e,r){e.forEach((function(e){var n,i=u(a[e]);switch(c(e)){case 400:n=function(t,e,r){var n=h(e);function i(t){var e=null!=t?t:a[r],s=new Error(e);return Error.captureStackTrace(s,i),o(s,i.prototype),Object.defineProperty(s,"message",{enumerable:!0,configurable:!0,value:e,writable:!0}),Object.defineProperty(s,"name",{enumerable:!1,configurable:!0,value:n,writable:!0}),s}return s(i,t),l(i,n),i.prototype.status=r,i.prototype.statusCode=r,i.prototype.expose=!0,i}(r,i,e);break;case 500:n=function(t,e,r){var n=h(e);function i(t){var e=null!=t?t:a[r],s=new Error(e);return Error.captureStackTrace(s,i),o(s,i.prototype),Object.defineProperty(s,"message",{enumerable:!0,configurable:!0,value:e,writable:!0}),Object.defineProperty(s,"name",{enumerable:!1,configurable:!0,value:n,writable:!0}),s}return s(i,t),l(i,n),i.prototype.status=r,i.prototype.statusCode=r,i.prototype.expose=!1,i}(r,i,e)}n&&(t[e]=n,t[i]=n)})),t["I'mateapot"]=i.function(t.ImATeapot,'"I\'mateapot"; use "ImATeapot" instead')}(t.exports,a.codes,t.exports.HttpError)},function(t,e,r){"use strict";
/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */function n(t,e){if("function"!=typeof t)throw new TypeError("argument fn must be a function");return t}function i(t,e,r){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("argument obj must be object");var n=Object.getOwnPropertyDescriptor(t,e);if(!n)throw new TypeError("must call property on owner object");if(!n.configurable)throw new TypeError("property must be configurable")}t.exports=function(t){if(!t)throw new TypeError("argument namespace is required");function e(t){}return e._file=void 0,e._ignored=!0,e._namespace=t,e._traced=!1,e._warned=Object.create(null),e.function=n,e.property=i,e}},function(t,e,r){"use strict";t.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=e[r]);return t})},function(t,e,r){"use strict";
/*!
 * statuses
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */var n=r(100);function i(t){if("number"==typeof t){if(!i[t])throw new Error("invalid status code: "+t);return t}if("string"!=typeof t)throw new TypeError("code must be a number or string");var e=parseInt(t,10);if(!isNaN(e)){if(!i[e])throw new Error("invalid status code: "+e);return e}if(!(e=i[t.toLowerCase()]))throw new Error('invalid status message: "'+t+'"');return e}t.exports=i,i.STATUS_CODES=n,i.codes=function(t,e){var r=[];return Object.keys(e).forEach((function(n){var i=e[n],o=Number(n);t[o]=i,t[i]=o,t[i.toLowerCase()]=o,r.push(o)})),r}(i,n),i.redirect={300:!0,301:!0,302:!0,303:!0,305:!0,307:!0,308:!0},i.empty={204:!0,205:!0,304:!0},i.retry={502:!0,503:!0,504:!0}},function(t){t.exports=JSON.parse('{"100":"Continue","101":"Switching Protocols","102":"Processing","103":"Early Hints","200":"OK","201":"Created","202":"Accepted","203":"Non-Authoritative Information","204":"No Content","205":"Reset Content","206":"Partial Content","207":"Multi-Status","208":"Already Reported","226":"IM Used","300":"Multiple Choices","301":"Moved Permanently","302":"Found","303":"See Other","304":"Not Modified","305":"Use Proxy","306":"(Unused)","307":"Temporary Redirect","308":"Permanent Redirect","400":"Bad Request","401":"Unauthorized","402":"Payment Required","403":"Forbidden","404":"Not Found","405":"Method Not Allowed","406":"Not Acceptable","407":"Proxy Authentication Required","408":"Request Timeout","409":"Conflict","410":"Gone","411":"Length Required","412":"Precondition Failed","413":"Payload Too Large","414":"URI Too Long","415":"Unsupported Media Type","416":"Range Not Satisfiable","417":"Expectation Failed","418":"I\'m a teapot","421":"Misdirected Request","422":"Unprocessable Entity","423":"Locked","424":"Failed Dependency","425":"Unordered Collection","426":"Upgrade Required","428":"Precondition Required","429":"Too Many Requests","431":"Request Header Fields Too Large","451":"Unavailable For Legal Reasons","500":"Internal Server Error","501":"Not Implemented","502":"Bad Gateway","503":"Service Unavailable","504":"Gateway Timeout","505":"HTTP Version Not Supported","506":"Variant Also Negotiates","507":"Insufficient Storage","508":"Loop Detected","509":"Bandwidth Limit Exceeded","510":"Not Extended","511":"Network Authentication Required"}')},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},function(t,e,r){"use strict";
/*!
 * toidentifier
 * Copyright(c) 2016 Douglas Christopher Wilson
 * MIT Licensed
 */t.exports=function(t){return t.split(" ").map((function(t){return t.slice(0,1).toUpperCase()+t.slice(1)})).join("").replace(/[^ _0-9a-z]/gi,"")}},function(t,e,r){t.exports=function(){"use strict";
/*!
   * mustache.js - Logic-less {{mustache}} templates with JavaScript
   * http://github.com/janl/mustache.js
   */var t=Object.prototype.toString,e=Array.isArray||function(e){return"[object Array]"===t.call(e)};function r(t){return"function"==typeof t}function n(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(t,e){return null!=t&&"object"==typeof t&&e in t}var o=RegExp.prototype.test,a=/\S/;function s(t){return!function(t,e){return o.call(t,e)}(a,t)}var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},c=/\s*/,l=/\s+/,h=/\s*=/,f=/\s*\}/,d=/#|\^|\/|>|\{|&|=|!/;function p(t){this.string=t,this.tail=t,this.pos=0}function m(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function y(){this.templateCache={_cache:{},set:function(t,e){this._cache[t]=e},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}p.prototype.eos=function(){return""===this.tail},p.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var r=e[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r},p.prototype.scanUntil=function(t){var e,r=this.tail.search(t);switch(r){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,r),this.tail=this.tail.substring(r)}return this.pos+=e.length,e},m.prototype.push=function(t){return new m(t,this)},m.prototype.lookup=function(t){var e,n,o,a=this.cache;if(a.hasOwnProperty(t))e=a[t];else{for(var s,u,c,l=this,h=!1;l;){if(t.indexOf(".")>0)for(s=l.view,u=t.split("."),c=0;null!=s&&c<u.length;)c===u.length-1&&(h=i(s,u[c])||(n=s,o=u[c],null!=n&&"object"!=typeof n&&n.hasOwnProperty&&n.hasOwnProperty(o))),s=s[u[c++]];else s=l.view[t],h=i(l.view,t);if(h){e=s;break}l=l.parent}a[t]=e}return r(e)&&(e=e.call(this.view)),e},y.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},y.prototype.parse=function(t,r){var i=this.templateCache,o=t+":"+(r||g.tags).join(":"),a=void 0!==i,u=a?i.get(o):void 0;return null==u&&(u=function(t,r){if(!t)return[];var i,o,a,u=!1,m=[],y=[],v=[],b=!1,_=!1,w="",A=0;function E(){if(b&&!_)for(;v.length;)delete y[v.pop()];else v=[];b=!1,_=!1}function M(t){if("string"==typeof t&&(t=t.split(l,2)),!e(t)||2!==t.length)throw new Error("Invalid tags: "+t);i=new RegExp(n(t[0])+"\\s*"),o=new RegExp("\\s*"+n(t[1])),a=new RegExp("\\s*"+n("}"+t[1]))}M(r||g.tags);for(var S,T,R,O,k,C,I=new p(t);!I.eos();){if(S=I.pos,R=I.scanUntil(i))for(var x=0,N=R.length;x<N;++x)s(O=R.charAt(x))?(v.push(y.length),w+=O):(_=!0,u=!0,w+=" "),y.push(["text",O,S,S+1]),S+=1,"\n"===O&&(E(),w="",A=0,u=!1);if(!I.scan(i))break;if(b=!0,T=I.scan(d)||"name",I.scan(c),"="===T?(R=I.scanUntil(h),I.scan(h),I.scanUntil(o)):"{"===T?(R=I.scanUntil(a),I.scan(f),I.scanUntil(o),T="&"):R=I.scanUntil(o),!I.scan(o))throw new Error("Unclosed tag at "+I.pos);if(k=">"==T?[T,R,S,I.pos,w,A,u]:[T,R,S,I.pos],A++,y.push(k),"#"===T||"^"===T)m.push(k);else if("/"===T){if(!(C=m.pop()))throw new Error('Unopened section "'+R+'" at '+S);if(C[1]!==R)throw new Error('Unclosed section "'+C[1]+'" at '+S)}else"name"===T||"{"===T||"&"===T?_=!0:"="===T&&M(R)}if(E(),C=m.pop())throw new Error('Unclosed section "'+C[1]+'" at '+I.pos);return function(t){for(var e,r=[],n=r,i=[],o=0,a=t.length;o<a;++o)switch((e=t[o])[0]){case"#":case"^":n.push(e),i.push(e),n=e[4]=[];break;case"/":i.pop()[5]=e[2],n=i.length>0?i[i.length-1][4]:r;break;default:n.push(e)}return r}(function(t){for(var e,r,n=[],i=0,o=t.length;i<o;++i)(e=t[i])&&("text"===e[0]&&r&&"text"===r[0]?(r[1]+=e[1],r[3]=e[3]):(n.push(e),r=e));return n}(y))}(t,r),a&&i.set(o,u)),u},y.prototype.render=function(t,e,r,n){var i=this.getConfigTags(n),o=this.parse(t,i),a=e instanceof m?e:new m(e,void 0);return this.renderTokens(o,a,r,t,n)},y.prototype.renderTokens=function(t,e,r,n,i){for(var o,a,s,u="",c=0,l=t.length;c<l;++c)s=void 0,"#"===(a=(o=t[c])[0])?s=this.renderSection(o,e,r,n,i):"^"===a?s=this.renderInverted(o,e,r,n,i):">"===a?s=this.renderPartial(o,e,r,i):"&"===a?s=this.unescapedValue(o,e):"name"===a?s=this.escapedValue(o,e,i):"text"===a&&(s=this.rawValue(o)),void 0!==s&&(u+=s);return u},y.prototype.renderSection=function(t,n,i,o,a){var s=this,u="",c=n.lookup(t[1]);if(c){if(e(c))for(var l=0,h=c.length;l<h;++l)u+=this.renderTokens(t[4],n.push(c[l]),i,o,a);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)u+=this.renderTokens(t[4],n.push(c),i,o,a);else if(r(c)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(n.view,o.slice(t[3],t[5]),(function(t){return s.render(t,n,i,a)})))&&(u+=c)}else u+=this.renderTokens(t[4],n,i,o,a);return u}},y.prototype.renderInverted=function(t,r,n,i,o){var a=r.lookup(t[1]);if(!a||e(a)&&0===a.length)return this.renderTokens(t[4],r,n,i,o)},y.prototype.indentPartial=function(t,e,r){for(var n=e.replace(/[^ \t]/g,""),i=t.split("\n"),o=0;o<i.length;o++)i[o].length&&(o>0||!r)&&(i[o]=n+i[o]);return i.join("\n")},y.prototype.renderPartial=function(t,e,n,i){if(n){var o=this.getConfigTags(i),a=r(n)?n(t[1]):n[t[1]];if(null!=a){var s=t[6],u=t[5],c=t[4],l=a;0==u&&c&&(l=this.indentPartial(a,c,s));var h=this.parse(l,o);return this.renderTokens(h,e,n,l,i)}}},y.prototype.unescapedValue=function(t,e){var r=e.lookup(t[1]);if(null!=r)return r},y.prototype.escapedValue=function(t,e,r){var n=this.getConfigEscape(r)||g.escape,i=e.lookup(t[1]);if(null!=i)return"number"==typeof i&&n===g.escape?String(i):n(i)},y.prototype.rawValue=function(t){return t[1]},y.prototype.getConfigTags=function(t){return e(t)?t:t&&"object"==typeof t?t.tags:void 0},y.prototype.getConfigEscape=function(t){return t&&"object"==typeof t&&!e(t)?t.escape:void 0};var g={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){v.templateCache=t},get templateCache(){return v.templateCache}},v=new y;return g.clearCache=function(){return v.clearCache()},g.parse=function(t,e){return v.parse(t,e)},g.render=function(t,r,n,i){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(e(o=t)?"array":typeof o)+'" was given as the first argument for mustache#render(template, view, partials)');var o;return v.render(t,r,n,i)},g.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return u[t]}))},g.Scanner=p,g.Context=m,g.Writer=y,g}()},function(t){t.exports=JSON.parse('{"schema":{"BadUTF16":{"name":"BadUTF16","subtypes":[],"props":{}},"BadUTF8":{"name":"BadUTF8","subtypes":[],"props":{}},"BalanceExceeded":{"name":"BalanceExceeded","subtypes":[],"props":{}},"BreakpointTrap":{"name":"BreakpointTrap","subtypes":[],"props":{}},"CacheError":{"name":"CacheError","subtypes":["ReadError","WriteError","DeserializationError","SerializationError"],"props":{}},"CallIndirectOOB":{"name":"CallIndirectOOB","subtypes":[],"props":{}},"CannotAppendActionToJointPromise":{"name":"CannotAppendActionToJointPromise","subtypes":[],"props":{}},"CannotReturnJointPromise":{"name":"CannotReturnJointPromise","subtypes":[],"props":{}},"CodeDoesNotExist":{"name":"CodeDoesNotExist","subtypes":[],"props":{"account_id":""}},"CompilationError":{"name":"CompilationError","subtypes":["CodeDoesNotExist","PrepareError","WasmerCompileError"],"props":{}},"ContractSizeExceeded":{"name":"ContractSizeExceeded","subtypes":[],"props":{"limit":"","size":""}},"Deprecated":{"name":"Deprecated","subtypes":[],"props":{"method_name":""}},"Deserialization":{"name":"Deserialization","subtypes":[],"props":{}},"DeserializationError":{"name":"DeserializationError","subtypes":[],"props":{}},"EmptyMethodName":{"name":"EmptyMethodName","subtypes":[],"props":{}},"FunctionCallError":{"name":"FunctionCallError","subtypes":["CompilationError","LinkError","MethodResolveError","WasmTrap","WasmUnknownError","HostError","EvmError"],"props":{}},"GasExceeded":{"name":"GasExceeded","subtypes":[],"props":{}},"GasInstrumentation":{"name":"GasInstrumentation","subtypes":[],"props":{}},"GasLimitExceeded":{"name":"GasLimitExceeded","subtypes":[],"props":{}},"GenericTrap":{"name":"GenericTrap","subtypes":[],"props":{}},"GuestPanic":{"name":"GuestPanic","subtypes":[],"props":{"panic_msg":""}},"HostError":{"name":"HostError","subtypes":["BadUTF16","BadUTF8","GasExceeded","GasLimitExceeded","BalanceExceeded","EmptyMethodName","GuestPanic","IntegerOverflow","InvalidPromiseIndex","CannotAppendActionToJointPromise","CannotReturnJointPromise","InvalidPromiseResultIndex","InvalidRegisterId","IteratorWasInvalidated","MemoryAccessViolation","InvalidReceiptIndex","InvalidIteratorIndex","InvalidAccountId","InvalidMethodName","InvalidPublicKey","ProhibitedInView","NumberOfLogsExceeded","KeyLengthExceeded","ValueLengthExceeded","TotalLogLengthExceeded","NumberPromisesExceeded","NumberInputDataDependenciesExceeded","ReturnedValueLengthExceeded","ContractSizeExceeded","Deprecated"],"props":{}},"IllegalArithmetic":{"name":"IllegalArithmetic","subtypes":[],"props":{}},"IncorrectCallIndirectSignature":{"name":"IncorrectCallIndirectSignature","subtypes":[],"props":{}},"Instantiate":{"name":"Instantiate","subtypes":[],"props":{}},"IntegerOverflow":{"name":"IntegerOverflow","subtypes":[],"props":{}},"InternalMemoryDeclared":{"name":"InternalMemoryDeclared","subtypes":[],"props":{}},"InvalidAccountId":{"name":"InvalidAccountId","subtypes":[],"props":{"account_id":""}},"InvalidIteratorIndex":{"name":"InvalidIteratorIndex","subtypes":[],"props":{"iterator_index":""}},"InvalidMethodName":{"name":"InvalidMethodName","subtypes":[],"props":{}},"InvalidPromiseIndex":{"name":"InvalidPromiseIndex","subtypes":[],"props":{"promise_idx":""}},"InvalidPromiseResultIndex":{"name":"InvalidPromiseResultIndex","subtypes":[],"props":{"result_idx":""}},"InvalidPublicKey":{"name":"InvalidPublicKey","subtypes":[],"props":{}},"InvalidReceiptIndex":{"name":"InvalidReceiptIndex","subtypes":[],"props":{"receipt_index":""}},"InvalidRegisterId":{"name":"InvalidRegisterId","subtypes":[],"props":{"register_id":""}},"IteratorWasInvalidated":{"name":"IteratorWasInvalidated","subtypes":[],"props":{"iterator_index":""}},"KeyLengthExceeded":{"name":"KeyLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"LinkError":{"name":"LinkError","subtypes":[],"props":{"msg":""}},"Memory":{"name":"Memory","subtypes":[],"props":{}},"MemoryAccessViolation":{"name":"MemoryAccessViolation","subtypes":[],"props":{}},"MemoryOutOfBounds":{"name":"MemoryOutOfBounds","subtypes":[],"props":{}},"MethodEmptyName":{"name":"MethodEmptyName","subtypes":[],"props":{}},"MethodInvalidSignature":{"name":"MethodInvalidSignature","subtypes":[],"props":{}},"MethodNotFound":{"name":"MethodNotFound","subtypes":[],"props":{}},"MethodResolveError":{"name":"MethodResolveError","subtypes":["MethodEmptyName","MethodUTF8Error","MethodNotFound","MethodInvalidSignature"],"props":{}},"MethodUTF8Error":{"name":"MethodUTF8Error","subtypes":[],"props":{}},"MisalignedAtomicAccess":{"name":"MisalignedAtomicAccess","subtypes":[],"props":{}},"NumberInputDataDependenciesExceeded":{"name":"NumberInputDataDependenciesExceeded","subtypes":[],"props":{"limit":"","number_of_input_data_dependencies":""}},"NumberOfLogsExceeded":{"name":"NumberOfLogsExceeded","subtypes":[],"props":{"limit":""}},"NumberPromisesExceeded":{"name":"NumberPromisesExceeded","subtypes":[],"props":{"limit":"","number_of_promises":""}},"PrepareError":{"name":"PrepareError","subtypes":["Serialization","Deserialization","InternalMemoryDeclared","GasInstrumentation","StackHeightInstrumentation","Instantiate","Memory"],"props":{}},"ProhibitedInView":{"name":"ProhibitedInView","subtypes":[],"props":{"method_name":""}},"ReadError":{"name":"ReadError","subtypes":[],"props":{}},"ReturnedValueLengthExceeded":{"name":"ReturnedValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"Serialization":{"name":"Serialization","subtypes":[],"props":{}},"SerializationError":{"name":"SerializationError","subtypes":[],"props":{"hash":""}},"StackHeightInstrumentation":{"name":"StackHeightInstrumentation","subtypes":[],"props":{}},"StackOverflow":{"name":"StackOverflow","subtypes":[],"props":{}},"TotalLogLengthExceeded":{"name":"TotalLogLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"Unreachable":{"name":"Unreachable","subtypes":[],"props":{}},"ValueLengthExceeded":{"name":"ValueLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"WasmTrap":{"name":"WasmTrap","subtypes":["Unreachable","IncorrectCallIndirectSignature","MemoryOutOfBounds","CallIndirectOOB","IllegalArithmetic","MisalignedAtomicAccess","BreakpointTrap","StackOverflow","GenericTrap"],"props":{}},"WasmUnknownError":{"name":"WasmUnknownError","subtypes":[],"props":{}},"WasmerCompileError":{"name":"WasmerCompileError","subtypes":[],"props":{"msg":""}},"WriteError":{"name":"WriteError","subtypes":[],"props":{}},"AccessKeyNotFound":{"name":"AccessKeyNotFound","subtypes":[],"props":{"account_id":"","public_key":""}},"AccountAlreadyExists":{"name":"AccountAlreadyExists","subtypes":[],"props":{"account_id":""}},"AccountDoesNotExist":{"name":"AccountDoesNotExist","subtypes":[],"props":{"account_id":""}},"ActionError":{"name":"ActionError","subtypes":["AccountAlreadyExists","AccountDoesNotExist","CreateAccountOnlyByRegistrar","CreateAccountNotAllowed","ActorNoPermission","DeleteKeyDoesNotExist","AddKeyAlreadyExists","DeleteAccountStaking","LackBalanceForState","TriesToUnstake","TriesToStake","InsufficientStake","FunctionCallError","NewReceiptValidationError","OnlyImplicitAccountCreationAllowed"],"props":{"index":""}},"ActionsValidationError":{"name":"ActionsValidationError","subtypes":["DeleteActionMustBeFinal","TotalPrepaidGasExceeded","TotalNumberOfActionsExceeded","AddKeyMethodNamesNumberOfBytesExceeded","AddKeyMethodNameLengthExceeded","IntegerOverflow","InvalidAccountId","ContractSizeExceeded","FunctionCallMethodNameLengthExceeded","FunctionCallArgumentsLengthExceeded","UnsuitableStakingKey","FunctionCallZeroAttachedGas"],"props":{}},"ActorNoPermission":{"name":"ActorNoPermission","subtypes":[],"props":{"account_id":"","actor_id":""}},"AddKeyAlreadyExists":{"name":"AddKeyAlreadyExists","subtypes":[],"props":{"account_id":"","public_key":""}},"AddKeyMethodNameLengthExceeded":{"name":"AddKeyMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"AddKeyMethodNamesNumberOfBytesExceeded":{"name":"AddKeyMethodNamesNumberOfBytesExceeded","subtypes":[],"props":{"limit":"","total_number_of_bytes":""}},"BalanceMismatchError":{"name":"BalanceMismatchError","subtypes":[],"props":{"final_accounts_balance":"","final_postponed_receipts_balance":"","incoming_receipts_balance":"","incoming_validator_rewards":"","initial_accounts_balance":"","initial_postponed_receipts_balance":"","new_delayed_receipts_balance":"","other_burnt_amount":"","outgoing_receipts_balance":"","processed_delayed_receipts_balance":"","slashed_burnt_amount":"","tx_burnt_amount":""}},"CostOverflow":{"name":"CostOverflow","subtypes":[],"props":{}},"CreateAccountNotAllowed":{"name":"CreateAccountNotAllowed","subtypes":[],"props":{"account_id":"","predecessor_id":""}},"CreateAccountOnlyByRegistrar":{"name":"CreateAccountOnlyByRegistrar","subtypes":[],"props":{"account_id":"","predecessor_id":"","registrar_account_id":""}},"DeleteAccountStaking":{"name":"DeleteAccountStaking","subtypes":[],"props":{"account_id":""}},"DeleteActionMustBeFinal":{"name":"DeleteActionMustBeFinal","subtypes":[],"props":{}},"DeleteKeyDoesNotExist":{"name":"DeleteKeyDoesNotExist","subtypes":[],"props":{"account_id":"","public_key":""}},"DepositWithFunctionCall":{"name":"DepositWithFunctionCall","subtypes":[],"props":{}},"Expired":{"name":"Expired","subtypes":[],"props":{}},"FunctionCallArgumentsLengthExceeded":{"name":"FunctionCallArgumentsLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallMethodNameLengthExceeded":{"name":"FunctionCallMethodNameLengthExceeded","subtypes":[],"props":{"length":"","limit":""}},"FunctionCallZeroAttachedGas":{"name":"FunctionCallZeroAttachedGas","subtypes":[],"props":{}},"InsufficientStake":{"name":"InsufficientStake","subtypes":[],"props":{"account_id":"","minimum_stake":"","stake":""}},"InvalidAccessKeyError":{"name":"InvalidAccessKeyError","subtypes":["AccessKeyNotFound","ReceiverMismatch","MethodNameMismatch","RequiresFullAccess","NotEnoughAllowance","DepositWithFunctionCall"],"props":{}},"InvalidChain":{"name":"InvalidChain","subtypes":[],"props":{}},"InvalidDataReceiverId":{"name":"InvalidDataReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidNonce":{"name":"InvalidNonce","subtypes":[],"props":{"ak_nonce":"","tx_nonce":""}},"InvalidPredecessorId":{"name":"InvalidPredecessorId","subtypes":[],"props":{"account_id":""}},"InvalidReceiverId":{"name":"InvalidReceiverId","subtypes":[],"props":{"account_id":""}},"InvalidSignature":{"name":"InvalidSignature","subtypes":[],"props":{}},"InvalidSignerId":{"name":"InvalidSignerId","subtypes":[],"props":{"account_id":""}},"InvalidTxError":{"name":"InvalidTxError","subtypes":["InvalidAccessKeyError","InvalidSignerId","SignerDoesNotExist","InvalidNonce","InvalidReceiverId","InvalidSignature","NotEnoughBalance","LackBalanceForState","CostOverflow","InvalidChain","Expired","ActionsValidation"],"props":{}},"LackBalanceForState":{"name":"LackBalanceForState","subtypes":[],"props":{"account_id":"","amount":""}},"MethodNameMismatch":{"name":"MethodNameMismatch","subtypes":[],"props":{"method_name":""}},"NotEnoughAllowance":{"name":"NotEnoughAllowance","subtypes":[],"props":{"account_id":"","allowance":"","cost":"","public_key":""}},"NotEnoughBalance":{"name":"NotEnoughBalance","subtypes":[],"props":{"balance":"","cost":"","signer_id":""}},"OnlyImplicitAccountCreationAllowed":{"name":"OnlyImplicitAccountCreationAllowed","subtypes":[],"props":{"account_id":""}},"ReceiptValidationError":{"name":"ReceiptValidationError","subtypes":["InvalidPredecessorId","InvalidReceiverId","InvalidSignerId","InvalidDataReceiverId","ReturnedValueLengthExceeded","NumberInputDataDependenciesExceeded","ActionsValidation"],"props":{}},"ReceiverMismatch":{"name":"ReceiverMismatch","subtypes":[],"props":{"ak_receiver":"","tx_receiver":""}},"RequiresFullAccess":{"name":"RequiresFullAccess","subtypes":[],"props":{}},"SignerDoesNotExist":{"name":"SignerDoesNotExist","subtypes":[],"props":{"signer_id":""}},"TotalNumberOfActionsExceeded":{"name":"TotalNumberOfActionsExceeded","subtypes":[],"props":{"limit":"","total_number_of_actions":""}},"TotalPrepaidGasExceeded":{"name":"TotalPrepaidGasExceeded","subtypes":[],"props":{"limit":"","total_prepaid_gas":""}},"TriesToStake":{"name":"TriesToStake","subtypes":[],"props":{"account_id":"","balance":"","locked":"","stake":""}},"TriesToUnstake":{"name":"TriesToUnstake","subtypes":[],"props":{"account_id":""}},"TxExecutionError":{"name":"TxExecutionError","subtypes":["ActionError","InvalidTxError"],"props":{}},"UnsuitableStakingKey":{"name":"UnsuitableStakingKey","subtypes":[],"props":{"public_key":""}},"Closed":{"name":"Closed","subtypes":[],"props":{}},"InternalError":{"name":"InternalError","subtypes":[],"props":{}},"ServerError":{"name":"ServerError","subtypes":["TxExecutionError","Timeout","Closed","InternalError"],"props":{}},"Timeout":{"name":"Timeout","subtypes":[],"props":{}}}}')},function(t){t.exports=JSON.parse('{"GasLimitExceeded":"Exceeded the maximum amount of gas allowed to burn per contract","MethodEmptyName":"Method name is empty","WasmerCompileError":"Wasmer compilation error: {{msg}}","GuestPanic":"Smart contract panicked: {{panic_msg}}","Memory":"Error creating Wasm memory","GasExceeded":"Exceeded the prepaid gas","MethodUTF8Error":"Method name is not valid UTF8 string","BadUTF16":"String encoding is bad UTF-16 sequence","WasmTrap":"WebAssembly trap: {{msg}}","GasInstrumentation":"Gas instrumentation failed or contract has denied instructions.","InvalidPromiseIndex":"{{promise_idx}} does not correspond to existing promises","InvalidPromiseResultIndex":"Accessed invalid promise result index: {{result_idx}}","Deserialization":"Error happened while deserializing the module","MethodNotFound":"Contract method is not found","InvalidRegisterId":"Accessed invalid register id: {{register_id}}","InvalidReceiptIndex":"VM Logic returned an invalid receipt index: {{receipt_index}}","EmptyMethodName":"Method name is empty in contract call","CannotReturnJointPromise":"Returning joint promise is currently prohibited","StackHeightInstrumentation":"Stack instrumentation failed","CodeDoesNotExist":"Cannot find contract code for account {{account_id}}","MethodInvalidSignature":"Invalid method signature","IntegerOverflow":"Integer overflow happened during contract execution","MemoryAccessViolation":"MemoryAccessViolation","InvalidIteratorIndex":"Iterator index {{iterator_index}} does not exist","IteratorWasInvalidated":"Iterator {{iterator_index}} was invalidated after its creation by performing a mutable operation on trie","InvalidAccountId":"VM Logic returned an invalid account id","Serialization":"Error happened while serializing the module","CannotAppendActionToJointPromise":"Actions can only be appended to non-joint promise.","InternalMemoryDeclared":"Internal memory declaration has been found in the module","Instantiate":"Error happened during instantiation","ProhibitedInView":"{{method_name}} is not allowed in view calls","InvalidMethodName":"VM Logic returned an invalid method name","BadUTF8":"String encoding is bad UTF-8 sequence","BalanceExceeded":"Exceeded the account balance","LinkError":"Wasm contract link error: {{msg}}","InvalidPublicKey":"VM Logic provided an invalid public key","ActorNoPermission":"Actor {{actor_id}} doesn\'t have permission to account {{account_id}} to complete the action","LackBalanceForState":"The account {{account_id}} wouldn\'t have enough balance to cover storage, required to have {{amount}} yoctoNEAR more","ReceiverMismatch":"Wrong AccessKey used for transaction: transaction is sent to receiver_id={{tx_receiver}}, but is signed with function call access key that restricted to only use with receiver_id={{ak_receiver}}. Either change receiver_id in your transaction or switch to use a FullAccessKey.","CostOverflow":"Transaction gas or balance cost is too high","InvalidSignature":"Transaction is not signed with the given public key","AccessKeyNotFound":"Signer \\"{{account_id}}\\" doesn\'t have access key with the given public_key {{public_key}}","NotEnoughBalance":"Sender {{signer_id}} does not have enough balance {{#formatNear}}{{balance}}{{/formatNear}} for operation costing {{#formatNear}}{{cost}}{{/formatNear}}","NotEnoughAllowance":"Access Key {account_id}:{public_key} does not have enough balance {{#formatNear}}{{allowance}}{{/formatNear}} for transaction costing {{#formatNear}}{{cost}}{{/formatNear}}","Expired":"Transaction has expired","DeleteAccountStaking":"Account {{account_id}} is staking and can not be deleted","SignerDoesNotExist":"Signer {{signer_id}} does not exist","TriesToStake":"Account {{account_id}} tried to stake {{#formatNear}}{{stake}}{{/formatNear}}, but has staked {{#formatNear}}{{locked}}{{/formatNear}} and only has {{#formatNear}}{{balance}}{{/formatNear}}","AddKeyAlreadyExists":"The public key {{public_key}} is already used for an existing access key","InvalidSigner":"Invalid signer account ID {{signer_id}} according to requirements","CreateAccountNotAllowed":"The new account_id {{account_id}} can\'t be created by {{predecessor_id}}","RequiresFullAccess":"The transaction contains more then one action, but it was signed with an access key which allows transaction to apply only one specific action. To apply more then one actions TX must be signed with a full access key","TriesToUnstake":"Account {{account_id}} is not yet staked, but tried to unstake","InvalidNonce":"Transaction nonce {{tx_nonce}} must be larger than nonce of the used access key {{ak_nonce}}","AccountAlreadyExists":"Can\'t create a new account {{account_id}}, because it already exists","InvalidChain":"Transaction parent block hash doesn\'t belong to the current chain","AccountDoesNotExist":"Can\'t complete the action because account {{account_id}} doesn\'t exist","MethodNameMismatch":"Transaction method name {{method_name}} isn\'t allowed by the access key","DeleteAccountHasRent":"Account {{account_id}} can\'t be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover the rent","DeleteAccountHasEnoughBalance":"Account {{account_id}} can\'t be deleted. It has {{#formatNear}}{{balance}}{{/formatNear}}, which is enough to cover it\'s storage","InvalidReceiver":"Invalid receiver account ID {{receiver_id}} according to requirements","DeleteKeyDoesNotExist":"Account {{account_id}} tries to remove an access key that doesn\'t exist","Timeout":"Timeout exceeded","Closed":"Connection closed"}')},function(t,e){},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.diffEpochValidators=e.findSeatPrice=void 0;const i=n(r(12)),o=n(r(17));e.findSeatPrice=function(t,e,r,n){if(n&&n<49)return function(t,e){const r=t.map(t=>new i.default(t.stake,10)).sort((t,e)=>t.cmp(e)),n=new i.default(e),o=r.reduce((t,e)=>t.add(e));if(o.lt(n))throw new Error("Stakes are below seats");let a=new i.default(1),s=o.add(new i.default(1));for(;!a.eq(s.sub(new i.default(1)));){const t=a.add(s).div(new i.default(2));let e=!1,o=new i.default(0);for(let i=0;i<r.length;++i)if(o=o.add(r[i].div(t)),o.gte(n)){a=t,e=!0;break}e||(s=t)}return a}(t,e);if(!r){o.default("findSeatPrice(validators, maxNumberOfSeats)")("`use `findSeatPrice(validators, maxNumberOfSeats, minimumStakeRatio)` instead"),r=[1,6250]}return function(t,e,r){if(2!=r.length)throw Error("minimumStakeRatio should have 2 elements");const n=t.map(t=>new i.default(t.stake,10)).sort((t,e)=>t.cmp(e)),o=n.reduce((t,e)=>t.add(e));return t.length<e?o.mul(new i.default(r[0])).div(new i.default(r[1])):n[0].add(new i.default(1))}(t,e,r)},e.diffEpochValidators=function(t,e){const r=new Map;t.forEach(t=>r.set(t.account_id,t));const n=new Set(e.map(t=>t.account_id));return{newValidators:e.filter(t=>!r.has(t.account_id)),removedValidators:t.filter(t=>!n.has(t.account_id)),changedValidators:e.filter(t=>r.has(t.account_id)&&r.get(t.account_id).stake!=t.stake).map(t=>({current:r.get(t.account_id),next:t}))}}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FUNCTION_CALL_GAS=void 0;const i=n(r(12));e.DEFAULT_FUNCTION_CALL_GAS=new i.default("30000000000000")},function(t,e,r){"use strict";(function(t){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Account2FA=e.AccountMultisig=e.MultisigStateStatus=e.MultisigDeleteRequestRejectionError=e.MULTISIG_CONFIRM_METHODS=e.MULTISIG_CHANGE_METHODS=e.MULTISIG_DEPOSIT=e.MULTISIG_GAS=e.MULTISIG_ALLOWANCE=e.MULTISIG_STORAGE_KEY=void 0;const i=n(r(12)),o=n(r(17)),a=r(28),s=r(57),u=r(6),c=r(21),l=r(16),h=r(27);var f,d,p;e.MULTISIG_STORAGE_KEY="__multisigRequest",e.MULTISIG_ALLOWANCE=new i.default(s.parseNearAmount("1")),e.MULTISIG_GAS=new i.default("100000000000000"),e.MULTISIG_DEPOSIT=new i.default("0"),e.MULTISIG_CHANGE_METHODS=["add_request","add_request_and_confirm","delete_request","confirm"],e.MULTISIG_CONFIRM_METHODS=["confirm"],function(t){t.CANNOT_DESERIALIZE_STATE="Cannot deserialize the contract state",t.MULTISIG_NOT_INITIALIZED="Smart contract panicked: Multisig contract should be initialized before usage",t.NO_SUCH_REQUEST="Smart contract panicked: panicked at 'No such request: either wrong number or already confirmed'",t.REQUEST_COOLDOWN_ERROR="Request cannot be deleted immediately after creation.",t.METHOD_NOT_FOUND="Contract method is not found"}(f=e.MultisigDeleteRequestRejectionError||(e.MultisigDeleteRequestRejectionError={})),function(t){t[t.INVALID_STATE=0]="INVALID_STATE",t[t.STATE_NOT_INITIALIZED=1]="STATE_NOT_INITIALIZED",t[t.VALID_STATE=2]="VALID_STATE",t[t.UNKNOWN_STATE=3]="UNKNOWN_STATE"}(d=e.MultisigStateStatus||(e.MultisigStateStatus={})),function(t){t[t.INVALID_CODE=0]="INVALID_CODE",t[t.VALID_CODE=1]="VALID_CODE",t[t.UNKNOWN_CODE=2]="UNKNOWN_CODE"}(p||(p={}));const m={[e.MULTISIG_STORAGE_KEY]:null};class y extends a.Account{constructor(t,e,r){super(t,e),this.storage=r.storage,this.onAddRequestResult=r.onAddRequestResult}async signAndSendTransactionWithAccount(t,e){return super.signAndSendTransaction({receiverId:t,actions:e})}signAndSendTransaction(...t){return"string"==typeof t[0]?this._signAndSendTransaction({receiverId:t[0],actions:t[1]}):this._signAndSendTransaction(t[0])}async _signAndSendTransaction({receiverId:r,actions:n}){const{accountId:i}=this,o=t.from(JSON.stringify({request:{receiver_id:r,actions:v(n,i,r)}}));let a;try{a=await super.signAndSendTransaction({receiverId:i,actions:[c.functionCall("add_request_and_confirm",o,e.MULTISIG_GAS,e.MULTISIG_DEPOSIT)]})}catch(t){if(t.toString().includes("Account has too many active requests. Confirm or delete some"))return await this.deleteUnconfirmedRequests(),await this.signAndSendTransaction(r,n);throw t}if(!a.status)throw new Error("Request failed");const s={...a.status};if(!s.SuccessValue||"string"!=typeof s.SuccessValue)throw new Error("Request failed");return this.setRequest({accountId:i,actions:n,requestId:parseInt(t.from(s.SuccessValue,"base64").toString("ascii"),10)}),this.onAddRequestResult&&await this.onAddRequestResult(a),this.deleteUnconfirmedRequests(),a}async checkMultisigCodeAndStateStatus(t){const r=t?p.UNKNOWN_CODE:p.VALID_CODE;try{return t?await super.signAndSendTransaction({receiverId:this.accountId,actions:[c.deployContract(t),c.functionCall("delete_request",{request_id:4294967295},e.MULTISIG_GAS,e.MULTISIG_DEPOSIT)]}):await this.deleteRequest(4294967295),{codeStatus:p.VALID_CODE,stateStatus:d.VALID_STATE}}catch(t){if(new RegExp(f.CANNOT_DESERIALIZE_STATE).test(t&&t.kind&&t.kind.ExecutionError))return{codeStatus:r,stateStatus:d.INVALID_STATE};if(new RegExp(f.MULTISIG_NOT_INITIALIZED).test(t&&t.kind&&t.kind.ExecutionError))return{codeStatus:r,stateStatus:d.STATE_NOT_INITIALIZED};if(new RegExp(f.NO_SUCH_REQUEST).test(t&&t.kind&&t.kind.ExecutionError))return{codeStatus:r,stateStatus:d.VALID_STATE};if(new RegExp(f.METHOD_NOT_FOUND).test(t&&t.message))return{codeStatus:p.INVALID_CODE,stateStatus:d.UNKNOWN_STATE};throw t}}deleteRequest(t){return super.signAndSendTransaction({receiverId:this.accountId,actions:[c.functionCall("delete_request",{request_id:t},e.MULTISIG_GAS,e.MULTISIG_DEPOSIT)]})}async deleteAllRequests(){const t=await this.getRequestIds();t.length&&await Promise.all(t.map(t=>this.deleteRequest(t)))}async deleteUnconfirmedRequests(){const t=await this.getRequestIds(),{requestId:r}=this.getRequest();for(const n of t)if(n!=r)try{await super.signAndSendTransaction({receiverId:this.accountId,actions:[c.functionCall("delete_request",{request_id:n},e.MULTISIG_GAS,e.MULTISIG_DEPOSIT)]})}catch(t){console.warn("Attempt to delete an earlier request before 15 minutes failed. Will try again.")}}async getRequestIds(){return this.viewFunction(this.accountId,"list_request_ids")}getRequest(){return this.storage?JSON.parse(this.storage.getItem(e.MULTISIG_STORAGE_KEY)||"{}"):m[e.MULTISIG_STORAGE_KEY]}setRequest(t){if(this.storage)return this.storage.setItem(e.MULTISIG_STORAGE_KEY,JSON.stringify(t));m[e.MULTISIG_STORAGE_KEY]=t}}e.AccountMultisig=y;e.Account2FA=class extends y{constructor(t,e,r){super(t,e,r),this.helperUrl="https://helper.testnet.near.org",this.helperUrl=r.helperUrl||this.helperUrl,this.storage=r.storage,this.sendCode=r.sendCode||this.sendCodeDefault,this.getCode=r.getCode||this.getCodeDefault,this.verifyCode=r.verifyCode||this.verifyCodeDefault,this.onConfirmResult=r.onConfirmResult}async signAndSendTransaction(...t){if("string"==typeof t[0]){return o.default("Account.signAndSendTransaction(receiverId, actions")("use `Account2FA.signAndSendTransaction(SignAndSendTransactionOptions)` instead"),this.__signAndSendTransaction({receiverId:t[0],actions:t[1]})}return this.__signAndSendTransaction(t[0])}async __signAndSendTransaction({receiverId:t,actions:e}){await super.signAndSendTransaction({receiverId:t,actions:e}),await this.sendCode();const r=await this.promptAndVerify();return this.onConfirmResult&&await this.onConfirmResult(r),r}async deployMultisig(r){const{accountId:n}=this,i=(await this.getRecoveryMethods()).data.filter(({kind:t,publicKey:e})=>("phrase"===t||"ledger"===t)&&null!==e).map(t=>t.publicKey),o=(await this.getAccessKeys()).filter(({public_key:t,access_key:{permission:e}})=>"FullAccess"===e&&!i.includes(t)).map(t=>t.public_key).map(g),a=g((await this.postSignedJson("/2fa/getAccessKey",{accountId:n})).publicKey),s=t.from(JSON.stringify({num_confirmations:2})),u=[...o.map(t=>c.deleteKey(t)),...o.map(t=>c.addKey(t,c.functionCallAccessKey(n,e.MULTISIG_CHANGE_METHODS,null))),c.addKey(a,c.functionCallAccessKey(n,e.MULTISIG_CONFIRM_METHODS,null)),c.deployContract(r)],h=u.concat(c.functionCall("new",s,e.MULTISIG_GAS,e.MULTISIG_DEPOSIT));console.log("deploying multisig contract for",n);const{stateStatus:f}=await this.checkMultisigCodeAndStateStatus(r);switch(f){case d.STATE_NOT_INITIALIZED:return await super.signAndSendTransactionWithAccount(n,h);case d.VALID_STATE:return await super.signAndSendTransactionWithAccount(n,u);case d.INVALID_STATE:throw new l.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState");default:throw new l.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown")}}async disableWithFAK({contractBytes:t,cleanupContractBytes:e}){let r=[];e&&(await this.deleteAllRequests().catch(t=>t),r=await this.get2faDisableCleanupActions(e));const n=await this.get2faDisableKeyConversionActions(),i=[...r,...n,c.deployContract(t)],o=await this.findAccessKey(this.accountId,i);if(o&&o.accessKey&&"FullAccess"!==o.accessKey.permission)throw new l.TypedError("No full access key found in keystore. Unable to bypass multisig","NoFAKFound");return this.signAndSendTransactionWithAccount(this.accountId,i)}async get2faDisableCleanupActions(t){const r=await this.viewState("").catch(t=>{const e=t.cause&&t.cause.name;if("NO_CONTRACT_CODE"==e)return[];throw"TOO_LARGE_CONTRACT_STATE"==e?new l.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account has existing state.`,"ContractHasExistingState"):t}),n=r.map(({key:t})=>t.toString("base64"));return r.length?[c.deployContract(t),c.functionCall("clean",{keys:n},e.MULTISIG_GAS,new i.default("0"))]:[]}async get2faDisableKeyConversionActions(){const{accountId:t}=this,e=(await this.getAccessKeys()).filter(({access_key:t})=>"FullAccess"!==t.permission).filter(({access_key:e})=>{const r=e.permission.FunctionCall;return r.receiver_id===t&&4===r.method_names.length&&r.method_names.includes("add_request_and_confirm")}),r=u.PublicKey.from((await this.postSignedJson("/2fa/getAccessKey",{accountId:t})).publicKey);return[c.deleteKey(r),...e.map(({public_key:t})=>c.deleteKey(u.PublicKey.from(t))),...e.map(({public_key:t})=>c.addKey(u.PublicKey.from(t),c.fullAccessKey()))]}async disable(t,e){const{stateStatus:r}=await this.checkMultisigCodeAndStateStatus();if(r!==d.VALID_STATE&&r!==d.STATE_NOT_INITIALIZED)throw new l.TypedError(`Can not deploy a contract to account ${this.accountId} on network ${this.connection.networkId}, the account state could not be verified.`,"ContractStateUnknown");let n;await this.deleteAllRequests().catch(t=>n=t);const i=[...await this.get2faDisableCleanupActions(e).catch(t=>{if("ContractHasExistingState"===t.type)throw n||t;throw t}),...await this.get2faDisableKeyConversionActions(),c.deployContract(t)];return console.log("disabling 2fa for",this.accountId),await this.signAndSendTransaction({receiverId:this.accountId,actions:i})}async sendCodeDefault(){const{accountId:t}=this,{requestId:e}=this.getRequest(),r=await this.get2faMethod();return await this.postSignedJson("/2fa/send",{accountId:t,method:r,requestId:e}),e}async getCodeDefault(t){throw new Error('There is no getCode callback provided. Please provide your own in AccountMultisig constructor options. It has a parameter method where method.kind is "email" or "phone".')}async promptAndVerify(){const t=await this.get2faMethod(),e=await this.getCode(t);try{return await this.verifyCode(e)}catch(t){if(console.warn("Error validating security code:",t),t.toString().includes("invalid 2fa code provided")||t.toString().includes("2fa code not valid"))return await this.promptAndVerify();throw t}}async verifyCodeDefault(t){const{accountId:e}=this,r=this.getRequest();if(!r)throw new Error("no request pending");const{requestId:n}=r;return await this.postSignedJson("/2fa/verify",{accountId:e,securityCode:t,requestId:n})}async getRecoveryMethods(){const{accountId:t}=this;return{accountId:t,data:await this.postSignedJson("/account/recoveryMethods",{accountId:t})}}async get2faMethod(){let{data:t}=await this.getRecoveryMethods();if(t&&t.length&&(t=t.find(t=>0===t.kind.indexOf("2fa-"))),!t)return null;const{kind:e,detail:r}=t;return{kind:e,detail:r}}async signatureFor(){const{accountId:e}=this,r=(await this.connection.provider.block({finality:"final"})).header.height.toString(),n=await this.connection.signer.signMessage(t.from(r),e,this.connection.networkId);return{blockNumber:r,blockNumberSignature:t.from(n.signature).toString("base64")}}async postSignedJson(t,e){return await h.fetchJson(this.helperUrl+t,JSON.stringify({...e,...await this.signatureFor()}))}};const g=t=>u.PublicKey.from(t),v=(r,n,i)=>r.map(r=>{const o=r.enum,{gas:a,publicKey:s,methodName:u,args:c,deposit:l,accessKey:h,code:f}=r[o],d={type:o[0].toUpperCase()+o.substr(1),gas:a&&a.toString()||void 0,public_key:s&&(p=s,p.toString().replace("ed25519:",""))||void 0,method_name:u,args:c&&t.from(c).toString("base64")||void 0,code:f&&t.from(f).toString("base64")||void 0,amount:l&&l.toString()||void 0,deposit:l&&l.toString()||"0",permission:void 0};var p;if(h&&(i===n&&"fullAccess"!==h.permission.enum&&(d.permission={receiver_id:n,allowance:e.MULTISIG_ALLOWANCE.toString(),method_names:e.MULTISIG_CHANGE_METHODS}),"functionCall"===h.permission.enum)){const{receiverId:t,methodNames:e,allowance:r}=h.permission.functionCall;d.permission={receiver_id:t,allowance:r&&r.toString()||void 0,method_names:e}}return d})}).call(this,r(7).Buffer)},function(t,e,r){"use strict";(function(t){var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectedWalletAccount=e.WalletAccount=e.WalletConnection=void 0;const i=n(r(17)),o=r(28),a=r(21),s=r(44),u=r(15),c=r(15);class l{constructor(t,e){this._near=t;const r=e+"_wallet_auth_key",n=JSON.parse(window.localStorage.getItem(r));this._networkId=t.config.networkId,this._walletBaseUrl=t.config.walletUrl,e=e||t.config.contractName||"default",this._keyStore=t.connection.signer.keyStore,this._authData=n||{allKeys:[]},this._authDataKey=r,this.isSignedIn()||this._completeSignInWithAccessKey()}isSignedIn(){return!!this._authData.accountId}getAccountId(){return this._authData.accountId||""}async requestSignIn(t={},e,r,n){let o;if("string"==typeof t){i.default("requestSignIn(contractId, title)")("`title` ignored; use `requestSignIn({ contractId, methodNames, successUrl, failureUrl })` instead"),o={contractId:t,successUrl:r,failureUrl:n}}else o=t;const a=new URL(window.location.href),u=new URL(this._walletBaseUrl+"/login/");if(u.searchParams.set("success_url",o.successUrl||a.href),u.searchParams.set("failure_url",o.failureUrl||a.href),o.contractId){const t=await this._near.account(o.contractId);await t.state(),u.searchParams.set("contract_id",o.contractId);const e=s.KeyPair.fromRandom("ed25519");u.searchParams.set("public_key",e.getPublicKey().toString()),await this._keyStore.setKey(this._networkId,"pending_key"+e.getPublicKey(),e)}o.methodNames&&o.methodNames.forEach(t=>{u.searchParams.append("methodNames",t)}),window.location.assign(u.toString())}async requestSignTransactions(...t){if(Array.isArray(t[0])){return i.default("WalletConnection.requestSignTransactions(transactions, callbackUrl, meta)")("use `WalletConnection.requestSignTransactions(RequestSignTransactionsOptions)` instead"),this._requestSignTransactions({transactions:t[0],callbackUrl:t[1],meta:t[2]})}return this._requestSignTransactions(t[0])}async _requestSignTransactions({transactions:e,meta:r,callbackUrl:n}){const i=new URL(window.location.href),o=new URL("sign",this._walletBaseUrl);o.searchParams.set("transactions",e.map(t=>c.serialize(a.SCHEMA,t)).map(e=>t.from(e).toString("base64")).join(",")),o.searchParams.set("callbackUrl",n||i.href),r&&o.searchParams.set("meta",r),window.location.assign(o.toString())}async _completeSignInWithAccessKey(){const t=new URL(window.location.href),e=t.searchParams.get("public_key")||"",r=(t.searchParams.get("all_keys")||"").split(","),n=t.searchParams.get("account_id")||"";n&&(this._authData={accountId:n,allKeys:r},window.localStorage.setItem(this._authDataKey,JSON.stringify(this._authData)),e&&await this._moveKeyFromTempToPermanent(n,e)),t.searchParams.delete("public_key"),t.searchParams.delete("all_keys"),t.searchParams.delete("account_id"),t.searchParams.delete("meta"),t.searchParams.delete("transactionHashes"),window.history.replaceState({},document.title,t.toString())}async _moveKeyFromTempToPermanent(t,e){const r=await this._keyStore.getKey(this._networkId,"pending_key"+e);await this._keyStore.setKey(this._networkId,t,r),await this._keyStore.removeKey(this._networkId,"pending_key"+e)}signOut(){this._authData={},window.localStorage.removeItem(this._authDataKey)}account(){return this._connectedAccount||(this._connectedAccount=new h(this,this._near.connection,this._authData.accountId)),this._connectedAccount}}e.WalletConnection=l,e.WalletAccount=l;class h extends o.Account{constructor(t,e,r){super(e,r),this.walletConnection=t}signAndSendTransaction(...t){return"string"==typeof t[0]?this._signAndSendTransaction({receiverId:t[0],actions:t[1]}):this._signAndSendTransaction(t[0])}async _signAndSendTransaction({receiverId:t,actions:e,walletMeta:r,walletCallbackUrl:n=window.location.href}){const i=await this.connection.signer.getPublicKey(this.accountId,this.connection.networkId);let o=await this.accessKeyForTransaction(t,e,i);if(!o)throw new Error("Cannot find matching key for transaction sent to "+t);if(i&&i.toString()===o.public_key)try{return await super.signAndSendTransaction({receiverId:t,actions:e})}catch(r){if("NotEnoughAllowance"!==r.type)throw r;o=await this.accessKeyForTransaction(t,e)}const c=await this.connection.provider.block({finality:"final"}),l=u.baseDecode(c.header.hash),h=s.PublicKey.from(o.public_key),f=o.access_key.nonce+1,d=a.createTransaction(this.accountId,h,t,f,e,l);return await this.walletConnection.requestSignTransactions({transactions:[d],meta:r,callbackUrl:n}),new Promise((t,e)=>{setTimeout(()=>{e(new Error("Failed to redirect to sign transaction"))},1e3)})}async accessKeyMatchesTransaction(t,e,r){const{access_key:{permission:n}}=t;if("FullAccess"===n)return!0;if(n.FunctionCall){const{receiver_id:t,method_names:i}=n.FunctionCall;if(t===this.accountId&&i.includes("add_request_and_confirm"))return!0;if(t===e){if(1!==r.length)return!1;const[{functionCall:t}]=r;return t&&(!t.deposit||"0"===t.deposit.toString())&&(0===i.length||i.includes(t.methodName))}}return!1}async accessKeyForTransaction(t,e,r){const n=await this.getAccessKeys();if(r){const i=n.find(t=>t.public_key.toString()===r.toString());if(i&&await this.accessKeyMatchesTransaction(i,t,e))return i}const i=this.walletConnection._authData.allKeys;for(const r of n)if(-1!==i.indexOf(r.public_key)&&await this.accessKeyMatchesTransaction(r,t,e))return r;return null}}e.ConnectedWalletAccount=h}).call(this,r(7).Buffer)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.connect=void 0;const n=r(63);e.connect=async function(t){return new n.Near(t)}},function(t,e,r){t.exports=r(114)},function(t,e,r){r(64);var n,i=r(45);n=i("Error.captureStackTrace")?r(117):i("Error.prototype.stack")?r(118):r(128),t.exports=n()},function(t,e,r){var n=r(65),i=n.define,o=n.test;i("strict mode",(function(){return void 0===this})),i("arguments.callee.caller",(function(){try{return function(){return arguments.callee.caller}()===arguments.callee}catch(t){return!1}})),i("es5",(function(){return o("Array.prototype.forEach")&&o("Array.prototype.map")&&o("Function.prototype.bind")&&o("Object.create")&&o("Object.defineProperties")&&o("Object.defineProperty")&&o("Object.prototype.hasOwnProperty")})),i("Array.prototype.forEach",(function(){return Array.prototype.forEach})),i("Array.prototype.map",(function(){return Array.prototype.map})),i("Function.prototype.bind",(function(){return Function.prototype.bind})),i("Object.create",(function(){return Object.create})),i("Object.defineProperties",(function(){return Object.defineProperties})),i("Object.defineProperty",(function(){return Object.defineProperty})),i("Object.prototype.hasOwnProperty",(function(){return Object.prototype.hasOwnProperty})),i("Error.captureStackTrace",(function(){return Error.captureStackTrace})),i("Error.prototype.stack",(function(){try{throw new Error}catch(t){return t.stack||t.stacktrace}}))},function(t,e){var r=function(){this.tests={},this.cache={}};r.prototype={constructor:r,define:function(t,e){if("string"!=typeof t||!(e instanceof Function))throw new Error("Invalid capability definition.");if(this.tests[t])throw new Error('Duplicated capability definition by "'+t+'".');this.tests[t]=e},check:function(t){if(!this.test(t))throw new Error('The current environment does not support "'+t+'", therefore we cannot continue.')},test:function(t){if(void 0!==this.cache[t])return this.cache[t];if(!this.tests[t])throw new Error('Unknown capability with name "'+t+'".');var e=this.tests[t];return this.cache[t]=!!e(),this.cache[t]}},t.exports=r},function(t,e,r){var n=r(46);t.exports=function(){return Error.getStackTrace=function(t){return t.stack},{prepareStackTrace:n}}},function(t,e,r){var n=r(119),i=r(126),o=r(23).cache,a=r(46);t.exports=function(){return Error.captureStackTrace=function t(e,r){var s=[t];r&&s.push(r);var u=n.getInstance().captureFrameStrings(s);Object.defineProperties(e,{stack:{configurable:!0,get:o((function(){var t=i.getInstance().getFrames(u.frameStrings,u.functionValues);return(Error.prepareStackTrace||a)(e,t,void 0)}))},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})},Error.getStackTrace=function(t){if(t.cachedStack)return t.stack;var e,r=n.getInstance().getFrameStrings(t),o=[];r?o=i.getInstance().getFrames(r,[]):e=["The stack is not readable by unthrown errors in this environment."];var s=(Error.prepareStackTrace||a)(t,o,e);if(r)try{Object.defineProperties(t,{stack:{configurable:!0,writable:!0,enumerable:!1,value:s},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})}catch(t){}return s},{prepareStackTrace:a}}},function(t,e,r){var n=r(22).Class,i=r(22).abstractMethod,o=r(23).eachCombination,a=r(23).cache,s=r(45),u=n(Object,{prototype:{captureFrameStrings:function(t){var e=this.createError();t.unshift(this.captureFrameStrings),t.unshift(this.createError);var r=this.getFrameStrings(e),n=r.slice(t.length),i=[];if(s("arguments.callee.caller")){var o=[this.createError,this.captureFrameStrings];try{for(var a=arguments.callee;a=a.caller;)o.push(a)}catch(t){}i=o.slice(t.length)}return{frameStrings:n,functionValues:i}},getFrameStrings:function(t){var e=t.message||"",r=t.name||"",n=this.getStackString(t);if(void 0!==n){var i=n.split("\n"),o=0,a=i.length;return this.hasHeader&&(o+=r.split("\n").length+e.split("\n").length-1),this.hasFooter&&(a-=1),i.slice(o,a)}},createError:i,getStackString:i,hasHeader:void 0,hasFooter:void 0}}),c=n(Object,{prototype:{calibrateClass:function(t){return this.calibrateMethods(t)&&this.calibrateEnvelope(t)},calibrateMethods:function(t){try{o([[function(t){return new Error(t)},function(t){try{throw new Error(t)}catch(t){return t}}],[function(t){return t.stack},function(t){return t.stacktrace}]],(function(t,e){if(e(t()))throw{getStackString:e,createError:t}}))}catch(e){return n.merge.call(t,{prototype:e}),!0}return!1},calibrateEnvelope:function(t){var e=(0,t.prototype.getStackString)((0,t.prototype.createError)("marker")).split("\n");return n.merge.call(t,{prototype:{hasHeader:/marker/.test(e[0]),hasFooter:""===e[e.length-1]}}),!0}}});t.exports={getClass:a((function(){var t;if(t)return t;if(t=n(u,{}),!(new c).calibrateClass(t))throw new Error("Cannot read Error.prototype.stack in this environment.");return t})),getInstance:a((function(){return new(this.getClass())}))}},function(t,e,r){t.exports={Class:r(121),abstractMethod:r(122)}},function(t,e){var r=function(){var t=Object.create({Source:Object,config:{},buildArgs:[]});function e(e){var r="config";if(e instanceof Function)r="Source";else if(e instanceof Array)r="buildArgs";else{if(!(e instanceof Object))throw new Error("Invalid configuration option.");r="config"}if(t.hasOwnProperty(r))throw new Error("Duplicated configuration option: "+r+".");t[r]=e}for(var n=0,i=arguments.length;n<i;++n)e(arguments[n]);var o=t.Source,a=t.config,s=t.buildArgs;return(o.extend||r.extend).call(o,a,s)};r.factory=function(){return function(){var t=this;t.build instanceof Function&&t.build.apply(t,arguments),t.init instanceof Function&&t.init.apply(t,arguments)}},r.extend=function(t,e){var n;return t||(t={}),t.prototype instanceof Object&&t.prototype.constructor!==Object?n=t.prototype.constructor:t.factory instanceof Function&&(n=t.factory.call(this)),((n=(this.clone||r.clone).call(this,n,e)).merge||r.merge).call(n,t),n},r.prototype.extend=function(t,e){var n=(this.clone||r.prototype.clone).apply(this,e);return(n.merge||r.prototype.merge).call(n,t),n},r.clone=function(t,e){for(var n in t instanceof Function||(t=(this.factory||r.factory).call(this)),t.prototype=(this.prototype.clone||r.prototype.clone).apply(this.prototype,e||[]),t.prototype.constructor=t,this)"prototype"!==n&&(t[n]=this[n]);return t},r.prototype.clone=function(){var t=this,e=Object.create(t);return e.build instanceof Function&&e.build.apply(e,arguments),e},r.merge=function(t){for(var e in t)"prototype"!==e&&(this[e]=t[e]);return t.prototype instanceof Object&&(this.prototype.merge||r.prototype.merge).call(this.prototype,t.prototype),this},r.prototype.merge=function(t){for(var e in t)"constructor"!==e&&(this[e]=t[e]);return this},r.absorb=function(t){for(var e in t)"prototype"===e||void 0!==this[e]&&this[e]!==Function.prototype[e]||(this[e]=t[e]);return t.prototype instanceof Object&&(this.prototype.absorb||r.prototype.absorb).call(this.prototype,t.prototype),this},r.prototype.absorb=function(t){for(var e in t)"constructor"===e||void 0!==this[e]&&this[e]!==Object.prototype[e]||(this[e]=t[e]);return this},r.getAncestor=function(){if(this!==this.prototype.constructor)return this.prototype.constructor},r.newInstance=function(){var t=this,e=Object.create(this.prototype);return t.apply(e,arguments),e},t.exports=r},function(t,e){t.exports=function(){throw new Error("Not implemented.")}},function(t,e,r){t.exports={cache:r(124),eachCombination:r(125)}},function(t,e){t.exports=function(t){var e,r=!1;return t instanceof Function||(r=!0,e=t,t=null),function(){return r||(r=!0,e=t.apply(this,arguments),t=null),e}}},function(t,e){t.exports=function t(e,r,n){if(n||(n=[]),n.length<e.length){var i=e[n.length];for(var o in i)n[n.length]=i[o],t(e,r,n),--n.length}else r.apply(null,n)}},function(t,e,r){var n=r(22).Class,i=r(127),o=r(23).cache,a=n(Object,{prototype:{stackParser:null,frameParser:null,locationParsers:null,constructor:function(t){n.prototype.merge.call(this,t)},getFrames:function(t,e){for(var r=[],n=0,i=t.length;n<i;++n)r[n]=this.getFrame(t[n],e[n]);return r},getFrame:function(t,e){return new i({frameString:t,functionValue:e})}}});t.exports={getClass:o((function(){return a})),getInstance:o((function(){return new(this.getClass())}))}},function(t,e,r){var n=r(22).Class,i=r(22).abstractMethod,o=n(Object,{prototype:{init:n.prototype.merge,frameString:void 0,toString:function(){return this.frameString},functionValue:void 0,getThis:i,getTypeName:i,getFunction:function(){return this.functionValue},getFunctionName:i,getMethodName:i,getFileName:i,getLineNumber:i,getColumnNumber:i,getEvalOrigin:i,isTopLevel:i,isEval:i,isNative:i,isConstructor:i}});t.exports=o},function(t,e,r){var n=r(23).cache,i=r(46);t.exports=function(){return Error.captureStackTrace=function(t,e){Object.defineProperties(t,{stack:{configurable:!0,get:n((function(){return(Error.prepareStackTrace||i)(t,[])}))},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})},Error.getStackTrace=function(t){if(t.cachedStack)return t.stack;var e=(Error.prepareStackTrace||i)(t,[]);try{Object.defineProperties(t,{stack:{configurable:!0,writable:!0,enumerable:!1,value:e},cachedStack:{configurable:!0,writable:!0,enumerable:!1,value:!0}})}catch(t){}return e},{prepareStackTrace:i}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minter=void 0;var n=r(14),i=r(20),o=r(130),a=r(131),s=r(25);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){l(o,n,i,a,s,"next",t)}function s(t){l(o,n,i,a,s,"throw",t)}a(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,t),p(this,"latestMints",void 0),p(this,"currentMint",void 0),p(this,"storage",void 0),p(this,"apiKey",void 0),p(this,"constants",void 0),this.latestMints={},this.currentMint={},this.constants=e.constants||{},this.apiKey=e.apiKey||"anonymous",this.storage=new a.Storage({apiKey:this.apiKey,constants:this.constants})}var e,r,u,l,m,g;return e=t,(r=[{key:"getMetadataId",value:(g=h(regeneratorRuntime.mark((function t(){var e,r,i,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.currentMint||0!==Object.keys(this.currentMint).length||this.currentMint.constructor!==Object){t.next=2;break}return t.abrupt("return",(0,s.formatResponse)({error:n.ERROR_MESSAGES.metadataEmpty}));case 2:if(this.storage){t.next=4;break}return t.abrupt("return",(0,s.formatResponse)({error:"Storage not initialized"}));case 4:return t.next=6,this.storage.uploadMetadata(this.currentMint);case 6:if(e=t.sent,r=e.data,!(i=e.error)){t.next=11;break}return t.abrupt("return",(0,s.formatResponse)({error:i}));case 11:return o=r.id,this.latestMints=c(c({},this.latestMints),{},p({},o,this.currentMint)),this.currentMint={},t.abrupt("return",(0,s.formatResponse)({data:o}));case 15:case"end":return t.stop()}}),t,this)}))),function(){return g.apply(this,arguments)})},{key:"setField",value:function(t,e,r){try{this.fieldChecks(t,e)}catch(t){return(0,s.formatResponse)({error:t.message})}return this.currentMint[t]?r&&this.currentMint[t]&&(this.currentMint[t]=e):this.currentMint[t]=e,(0,s.formatResponse)({data:!0})}},{key:"setMetadata",value:function(t,e){var r=this;try{return Object.keys(t).forEach((function(n){r.setField(n,t[n],e)})),(0,s.formatResponse)({data:!0})}catch(t){return(0,s.formatResponse)({error:t.message})}}},{key:"uploadField",value:(m=h(regeneratorRuntime.mark((function t(e,r){var i,o,a,u,c,l,h,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==(i=n.VALID_FILE_FORMATS[e])&&void 0!==i&&i.includes(r.type)){t.next=2;break}return t.abrupt("return",(0,s.formatResponse)({error:n.ERROR_MESSAGES.fileTypeNotAccepted}));case 2:return t.prev=2,t.next=5,this.upload(r);case 5:if(o=t.sent,a=o.data,!o.error){t.next=10;break}return t.abrupt("return",(0,s.formatResponse)({error:n.ERROR_MESSAGES.uploadFileAndSet}));case 10:return u=a.uri,c=a.hash,l=y(e),h=l.hash,f=l.url,h&&f?(this.currentMint[f]=u,this.currentMint[h]=c):(this.currentMint[e]=u,this.currentMint["".concat(e,"_hash")]=c),t.abrupt("return",(0,s.formatResponse)({data:!0}));case 16:return t.prev=16,t.t0=t.catch(2),t.abrupt("return",(0,s.formatResponse)({error:n.ERROR_MESSAGES.uploadFileAndSet}));case 19:case"end":return t.stop()}}),t,this,[[2,16]])}))),function(t,e){return m.apply(this,arguments)})},{key:"upload",value:(l=h(regeneratorRuntime.mark((function t(e){var r,i,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.storage){t.next=3;break}return t.abrupt("return",(0,s.formatResponse)({error:"Storage not initialized"}));case 3:return t.next=5,(0,o.correctFileType)(e);case 5:return t.sent.size>(this.constants.FILE_UPLOAD_SIZE_LIMIT||n.FILE_UPLOAD_SIZE_LIMIT)&&(0,s.formatResponse)({error:"Storage not initialized"}),t.next=9,this.storage.uploadToArweave(e);case 9:if(r=t.sent,i=r.data,a=r.error,i&&!a){t.next=14;break}return t.abrupt("return",(0,s.formatResponse)({error:a}));case 14:return u={uri:"".concat(this.constants.BASE_ARWEAVE_URI||n.BASE_ARWEAVE_URI,"/").concat(null==i?void 0:i.id),hash:null==i?void 0:i.id},t.abrupt("return",(0,s.formatResponse)({data:u}));case 18:return t.prev=18,t.t0=t.catch(0),t.abrupt("return",(0,s.formatResponse)({error:t.t0.message}));case 21:case"end":return t.stop()}}),t,this,[[0,18]])}))),function(t){return l.apply(this,arguments)})},{key:"fieldChecks",value:function(t,e){switch(t){case i.MetadataField.Media:if("string"!=typeof e)throw new Error(n.ERROR_MESSAGES.notString);if(!e.match(n.REGEX_URL))throw new Error(n.ERROR_MESSAGES.badUrl);break;case i.MetadataField.Title:case i.MetadataField.Description:if("string"!=typeof e)throw new Error(n.ERROR_MESSAGES.notString)}}}])&&d(e.prototype,r),u&&d(e,u),t}();e.Minter=m;var y=function(t){switch(t){case i.MetadataField.Media:case i.MetadataField.Media_hash:return{url:i.MetadataField.Media,hash:i.MetadataField.Media_hash};case i.MetadataField.Animation_url:case i.MetadataField.Animation_hash:return{url:i.MetadataField.Animation_url,hash:i.MetadataField.Animation_hash};default:return{url:null,hash:null}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFileExtension=e.setMimeType=e.correctFileType=void 0;var n=r(14);function i(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function s(t){i(a,n,o,s,u,"next",t)}function u(t){i(a,n,o,s,u,"throw",t)}s(void 0)}))}}var a=function(){var t=o(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.type.includes("svg")){t.next=2;break}return t.abrupt("return",s(n.MIME_TYPES.svg,e));case 2:if(r=u(e.name)){t.next=5;break}throw new Error(n.ERROR_MESSAGES.fileNoExtension);case 5:if("glb"!==r){t.next=7;break}return t.abrupt("return",s(n.MIME_TYPES.glb,e));case 7:if("gltf"!==r){t.next=9;break}return t.abrupt("return",s(n.MIME_TYPES.gltf,e));case 9:return t.abrupt("return",e);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.correctFileType=a;var s=function(){var t=o(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=File,t.t1=Blob,t.next=4,r.arrayBuffer();case 4:return t.t2=t.sent,t.t3=[t.t2],t.t4=new t.t1(t.t3),t.t5=[t.t4],t.t6=r.name,t.t7={type:e},t.abrupt("return",new t.t0(t.t5,t.t6,t.t7));case 11:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}();e.setMimeType=s;var u=function(t){return t.slice((Math.max(0,t.lastIndexOf("."))||1/0)+1)};e.getFileExtension=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Storage=void 0,r(24);var n,i=(n=r(132))&&n.__esModule?n:{default:n};r(141);var o=r(52),a=r(139),s=r(14),u=r(25),c=r(66);function l(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){l(o,n,i,a,s,"next",t)}function s(t){l(o,n,i,a,s,"throw",t)}a(void 0)}))}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var m="api-key",y=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,t),p(this,"firebase",void 0),p(this,"storage",void 0),p(this,"apiKey",void 0),p(this,"constants",void 0),this.constants=e.constants||{},this.apiKey=e.apiKey||"anonymous";var r=i.default.apps.find((function(t){return"FIREBASE_MJS_ID"===t.name}));this.firebase=null!=r?r:i.default.initializeApp(this.constants.CLOUD_STORAGE_CONFIG||s.CLOUD_STORAGE_CONFIG,"FIREBASE_MJS_ID"),this.storage=this.firebase.storage()}var e,r,n,l,y,g;return e=t,(r=[{key:"uploadMetadata",value:(g=h(regeneratorRuntime.mark((function t(e){var r,n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.retryFetch)("".concat(s.CLOUD_URI,"/arweave/metadata/"),{method:"POST",body:JSON.stringify(e),headers:(r={},p(r,m,this.apiKey||"anonymous"),p(r,"Access-Control-Allow-Origin","*"),p(r,"Content-type","text/plain"),r)});case 3:return n=t.sent,t.next=6,n.json();case 6:return i=t.sent,t.abrupt("return",(0,u.formatResponse)({data:i}));case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",(0,u.formatResponse)({error:s.ERROR_MESSAGES.uploadMetadata}));case 13:case"end":return t.stop()}}),t,this,[[0,10]])}))),function(t){return g.apply(this,arguments)})},{key:"uploadToArweave",value:(y=h(regeneratorRuntime.mark((function t(e){var r,n,i,a,l,h,f,d,y,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o.isNode){t.next=2;break}return t.abrupt("return",(0,u.formatResponse)({error:"Node environment does not yet supports uploads."}));case 2:return t.next=4,e.arrayBuffer();case 4:return r=t.sent,n=e.type,t.prev=6,t.next=9,this.uploadCloud(r,n);case 9:if(i=t.sent,a=i.data,!(l=i.error)){t.next=14;break}return t.abrupt("return",(0,u.formatResponse)({error:l}));case 14:return t.prev=14,t.next=17,(0,c.retryFetch)("".concat(s.CLOUD_URI,"/arweave/file/").concat(a),{headers:p({},m,this.apiKey||"anonymous")});case 17:return h=t.sent,t.next=20,h.json();case 20:if(f=t.sent,d=f.id,y=f.contentType,g={id:d,contentType:y},d&&y){t.next=26;break}throw new Error(s.ERROR_MESSAGES.decentralizedStorageFailed);case 26:return t.abrupt("return",(0,u.formatResponse)({data:g}));case 29:return t.prev=29,t.t0=t.catch(14),t.abrupt("return",(0,u.formatResponse)({error:s.ERROR_MESSAGES.decentralizedStorageFailed}));case 32:t.next=37;break;case 34:return t.prev=34,t.t1=t.catch(6),t.abrupt("return",(0,u.formatResponse)({error:t.t1.message}));case 37:case"end":return t.stop()}}),t,this,[[6,34],[14,29]])}))),function(t){return y.apply(this,arguments)})},{key:"uploadCloud",value:(l=h(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!o.isNode){t.next=2;break}return t.abrupt("return",(0,u.formatResponse)({error:"Node environment does not yet supports uploads."}));case 2:if(t.prev=2,n=(0,a.v4)(),this.storage){t.next=6;break}return t.abrupt("return",(0,u.formatResponse)({error:"Storage is not initialized"}));case 6:return t.next=8,this.storage.ref("".concat("arweave","/").concat(n)).put(e,{contentType:r});case 8:return t.abrupt("return",(0,u.formatResponse)({data:n}));case 11:return t.prev=11,t.t0=t.catch(2),t.abrupt("return",(0,u.formatResponse)({error:s.ERROR_MESSAGES.uploadCloud}));case 14:case"end":return t.stop()}}),t,this,[[2,11]])}))),function(t,e){return l.apply(this,arguments)})}])&&d(e.prototype,r),n&&d(e,n),t}();e.Storage=y},function(t,e,r){"use strict";r.r(e);var n=r(11);r.d(e,"default",(function(){return n.a}));
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
n.a.registerVersion("firebase","8.10.1","app"),n.a.SDK_VERSION="8.10.1"},function(t,e,r){t.exports=r(134)},function(t,e,r){var n=r(135);e.operation=function(t){var r=e.timeouts(t);return new n(r,{forever:t&&(t.forever||t.retries===1/0),unref:t&&t.unref,maxRetryTime:t&&t.maxRetryTime})},e.timeouts=function(t){if(t instanceof Array)return[].concat(t);var e={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in t)e[r]=t[r];if(e.minTimeout>e.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<e.retries;i++)n.push(this.createTimeout(i,e));return t&&t.forever&&!n.length&&n.push(this.createTimeout(i,e)),n.sort((function(t,e){return t-e})),n},e.createTimeout=function(t,e){var r=e.randomize?Math.random()+1:1,n=Math.round(r*Math.max(e.minTimeout,1)*Math.pow(e.factor,t));return n=Math.min(n,e.maxTimeout)},e.wrap=function(t,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var i in n=[],t)"function"==typeof t[i]&&n.push(i);for(var o=0;o<n.length;o++){var a=n[o],s=t[a];t[a]=function(n){var i=e.operation(r),o=Array.prototype.slice.call(arguments,1),a=o.pop();o.push((function(t){i.retry(t)||(t&&(arguments[0]=i.mainError()),a.apply(this,arguments))})),i.attempt((function(){n.apply(t,o)}))}.bind(t,s),t[a].options=r}}},function(t,e){function r(t,e){"boolean"==typeof e&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(t)),this._timeouts=t,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}t.exports=r,r.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},r.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},r.prototype.retry=function(t){if(this._timeout&&clearTimeout(this._timeout),!t)return!1;var e=(new Date).getTime();if(t&&e-this._operationStart>=this._maxRetryTime)return this._errors.push(t),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(t);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1)}var n=this;return this._timer=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),r),this._options.unref&&this._timer.unref(),!0},r.prototype.attempt=function(t,e){this._fn=t,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},r.prototype.try=function(t){console.log("Using RetryOperation.try() is deprecated"),this.attempt(t)},r.prototype.start=function(t){console.log("Using RetryOperation.start() is deprecated"),this.attempt(t)},r.prototype.start=r.prototype.try,r.prototype.errors=function(){return this._errors},r.prototype.attempts=function(){return this._attempts},r.prototype.mainError=function(){if(0===this._errors.length)return null;for(var t={},e=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],o=i.message,a=(t[o]||0)+1;t[o]=a,a>=r&&(e=i,r=a)}return e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.calculateListCost=void 0;e.calculateListCost=function(t){return.0044*t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initializeExternalConstants=void 0,r(24);var n=r(14),i=r(66);function o(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}var a=function(){var t,e=(t=regeneratorRuntime.mark((function t(e){var r,o,a,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.apiKey,o=e.networkName,a="".concat(n.CLOUD_URI,"/developer"),s={headers:{"api-key":r||"anonymous","api-version":o?"".concat(n.API_VERSION,"-").concat(o):n.API_VERSION}},t.next=5,(0,i.retryFetch)(a,s);case 5:return u=t.sent,t.next=8,u.json();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function s(t){o(a,n,i,s,u,"next",t)}function u(t){o(a,n,i,s,u,"throw",t)}s(void 0)}))});return function(t){return e.apply(this,arguments)}}();e.initializeExternalConstants=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.messageDecode=e.messageEncode=void 0;e.messageEncode=function(t){var e=(new TextEncoder).encode(t).buffer;return new Uint8Array(e)};e.messageDecode=function(t){return(new TextDecoder).decode(t)}},function(t,e,r){"use strict";var n;r.r(e),r.d(e,"v1",(function(){return m})),r.d(e,"v3",(function(){return S})),r.d(e,"v4",(function(){return T})),r.d(e,"v5",(function(){return k})),r.d(e,"NIL",(function(){return C})),r.d(e,"version",(function(){return I})),r.d(e,"validate",(function(){return s})),r.d(e,"stringify",(function(){return f})),r.d(e,"parse",(function(){return y}));var i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(t){return"string"==typeof t&&a.test(t)},u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));var l,h,f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase();if(!s(r))throw TypeError("Stringified UUID is invalid");return r},d=0,p=0;var m=function(t,e,r){var n=e&&r||0,i=e||new Array(16),a=(t=t||{}).node||l,s=void 0!==t.clockseq?t.clockseq:h;if(null==a||null==s){var u=t.random||(t.rng||o)();null==a&&(a=l=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==s&&(s=h=16383&(u[6]<<8|u[7]))}var c=void 0!==t.msecs?t.msecs:Date.now(),m=void 0!==t.nsecs?t.nsecs:p+1,y=c-d+(m-p)/1e4;if(y<0&&void 0===t.clockseq&&(s=s+1&16383),(y<0||c>d)&&void 0===t.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=c,p=m,h=s;var g=(1e4*(268435455&(c+=122192928e5))+m)%4294967296;i[n++]=g>>>24&255,i[n++]=g>>>16&255,i[n++]=g>>>8&255,i[n++]=255&g;var v=c/4294967296*1e4&268435455;i[n++]=v>>>8&255,i[n++]=255&v,i[n++]=v>>>24&15|16,i[n++]=v>>>16&255,i[n++]=s>>>8|128,i[n++]=255&s;for(var b=0;b<6;++b)i[n+b]=a[b];return e||f(i)};var y=function(t){if(!s(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=255&e,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=255&e,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=255&e,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=255&e,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=255&e,r};var g=function(t,e,r){function n(t,n,i,o){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}(t)),"string"==typeof n&&(n=y(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+t.length);if(a.set(n),a.set(t,n.length),(a=r(a))[6]=15&a[6]|e,a[8]=63&a[8]|128,i){o=o||0;for(var s=0;s<16;++s)i[o+s]=a[s];return i}return f(a)}try{n.name=t}catch(t){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n};function v(t){return 14+(t+64>>>9<<4)+1}function b(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function _(t,e,r,n,i,o){return b((a=b(b(e,t),b(n,o)))<<(s=i)|a>>>32-s,r);var a,s}function w(t,e,r,n,i,o,a){return _(e&r|~e&n,t,e,i,o,a)}function A(t,e,r,n,i,o,a){return _(e&n|r&~n,t,e,i,o,a)}function E(t,e,r,n,i,o,a){return _(e^r^n,t,e,i,o,a)}function M(t,e,r,n,i,o,a){return _(r^(e|~n),t,e,i,o,a)}var S=g("v3",48,(function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return function(t){for(var e=[],r=32*t.length,n=0;n<r;n+=8){var i=t[n>>5]>>>n%32&255,o=parseInt("0123456789abcdef".charAt(i>>>4&15)+"0123456789abcdef".charAt(15&i),16);e.push(o)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[v(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<t.length;a+=16){var s=r,u=n,c=i,l=o;r=w(r,n,i,o,t[a],7,-680876936),o=w(o,r,n,i,t[a+1],12,-389564586),i=w(i,o,r,n,t[a+2],17,606105819),n=w(n,i,o,r,t[a+3],22,-1044525330),r=w(r,n,i,o,t[a+4],7,-176418897),o=w(o,r,n,i,t[a+5],12,1200080426),i=w(i,o,r,n,t[a+6],17,-1473231341),n=w(n,i,o,r,t[a+7],22,-45705983),r=w(r,n,i,o,t[a+8],7,1770035416),o=w(o,r,n,i,t[a+9],12,-1958414417),i=w(i,o,r,n,t[a+10],17,-42063),n=w(n,i,o,r,t[a+11],22,-1990404162),r=w(r,n,i,o,t[a+12],7,1804603682),o=w(o,r,n,i,t[a+13],12,-40341101),i=w(i,o,r,n,t[a+14],17,-1502002290),n=w(n,i,o,r,t[a+15],22,1236535329),r=A(r,n,i,o,t[a+1],5,-165796510),o=A(o,r,n,i,t[a+6],9,-1069501632),i=A(i,o,r,n,t[a+11],14,643717713),n=A(n,i,o,r,t[a],20,-373897302),r=A(r,n,i,o,t[a+5],5,-701558691),o=A(o,r,n,i,t[a+10],9,38016083),i=A(i,o,r,n,t[a+15],14,-660478335),n=A(n,i,o,r,t[a+4],20,-405537848),r=A(r,n,i,o,t[a+9],5,568446438),o=A(o,r,n,i,t[a+14],9,-1019803690),i=A(i,o,r,n,t[a+3],14,-187363961),n=A(n,i,o,r,t[a+8],20,1163531501),r=A(r,n,i,o,t[a+13],5,-1444681467),o=A(o,r,n,i,t[a+2],9,-51403784),i=A(i,o,r,n,t[a+7],14,1735328473),n=A(n,i,o,r,t[a+12],20,-1926607734),r=E(r,n,i,o,t[a+5],4,-378558),o=E(o,r,n,i,t[a+8],11,-2022574463),i=E(i,o,r,n,t[a+11],16,1839030562),n=E(n,i,o,r,t[a+14],23,-35309556),r=E(r,n,i,o,t[a+1],4,-1530992060),o=E(o,r,n,i,t[a+4],11,1272893353),i=E(i,o,r,n,t[a+7],16,-155497632),n=E(n,i,o,r,t[a+10],23,-1094730640),r=E(r,n,i,o,t[a+13],4,681279174),o=E(o,r,n,i,t[a],11,-358537222),i=E(i,o,r,n,t[a+3],16,-722521979),n=E(n,i,o,r,t[a+6],23,76029189),r=E(r,n,i,o,t[a+9],4,-640364487),o=E(o,r,n,i,t[a+12],11,-421815835),i=E(i,o,r,n,t[a+15],16,530742520),n=E(n,i,o,r,t[a+2],23,-995338651),r=M(r,n,i,o,t[a],6,-198630844),o=M(o,r,n,i,t[a+7],10,1126891415),i=M(i,o,r,n,t[a+14],15,-1416354905),n=M(n,i,o,r,t[a+5],21,-57434055),r=M(r,n,i,o,t[a+12],6,1700485571),o=M(o,r,n,i,t[a+3],10,-1894986606),i=M(i,o,r,n,t[a+10],15,-1051523),n=M(n,i,o,r,t[a+1],21,-2054922799),r=M(r,n,i,o,t[a+8],6,1873313359),o=M(o,r,n,i,t[a+15],10,-30611744),i=M(i,o,r,n,t[a+6],15,-1560198380),n=M(n,i,o,r,t[a+13],21,1309151649),r=M(r,n,i,o,t[a+4],6,-145523070),o=M(o,r,n,i,t[a+11],10,-1120210379),i=M(i,o,r,n,t[a+2],15,718787259),n=M(n,i,o,r,t[a+9],21,-343485551),r=b(r,s),n=b(n,u),i=b(i,c),o=b(o,l)}return[r,n,i,o]}(function(t){if(0===t.length)return[];for(var e=8*t.length,r=new Uint32Array(v(e)),n=0;n<e;n+=8)r[n>>5]|=(255&t[n/8])<<n%32;return r}(t),8*t.length))}));var T=function(t,e,r){var n=(t=t||{}).random||(t.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return f(n)};function R(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function O(t,e){return t<<e|t>>>32-e}var k=g("v5",80,(function(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var c=new Uint32Array(16),l=0;l<16;++l)c[l]=t[64*u+4*l]<<24|t[64*u+4*l+1]<<16|t[64*u+4*l+2]<<8|t[64*u+4*l+3];s[u]=c}s[a-1][14]=8*(t.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(t.length-1)&4294967295;for(var h=0;h<a;++h){for(var f=new Uint32Array(80),d=0;d<16;++d)f[d]=s[h][d];for(var p=16;p<80;++p)f[p]=O(f[p-3]^f[p-8]^f[p-14]^f[p-16],1);for(var m=r[0],y=r[1],g=r[2],v=r[3],b=r[4],_=0;_<80;++_){var w=Math.floor(_/20),A=O(m,5)+R(w,y,g,v)+b+e[w]+f[_]>>>0;b=v,v=g,g=O(y,30)>>>0,y=m,m=A}r[0]=r[0]+m>>>0,r[1]=r[1]+y>>>0,r[2]=r[2]+g>>>0,r[3]=r[3]+v>>>0,r[4]=r[4]+b>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]})),C="00000000-0000-0000-0000-000000000000";var I=function(t){if(!s(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}},function(t,e,r){"use strict";r.r(e),r.d(e,"print",(function(){return f}));var n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return a(t,[])}function a(t,e){switch(i(t)){case"string":return JSON.stringify(t);case"function":return t.name?"[function ".concat(t.name,"]"):"[function]";case"object":return null===t?"null":function(t,e){if(-1!==e.indexOf(t))return"[Circular]";var r=[].concat(e,[t]),i=function(t){var e=t[String(n)];if("function"==typeof e)return e;if("function"==typeof t.inspect)return t.inspect}(t);if(void 0!==i){var o=i.call(t);if(o!==t)return"string"==typeof o?o:a(o,r)}else if(Array.isArray(t))return function(t,e){if(0===t.length)return"[]";if(e.length>2)return"[Array]";for(var r=Math.min(10,t.length),n=t.length-r,i=[],o=0;o<r;++o)i.push(a(t[o],e));1===n?i.push("... 1 more item"):n>1&&i.push("... ".concat(n," more items"));return"["+i.join(", ")+"]"}(t,r);return function(t,e){var r=Object.keys(t);if(0===r.length)return"{}";if(e.length>2)return"["+function(t){var e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if("Object"===e&&"function"==typeof t.constructor){var r=t.constructor.name;if("string"==typeof r&&""!==r)return r}return e}(t)+"]";return"{ "+r.map((function(r){return r+": "+a(t[r],e)})).join(", ")+" }"}(t,r)}(t,e);default:return String(t)}}function s(t){var e=t.prototype.toJSON;"function"==typeof e||function(t,e){if(!Boolean(t))throw new Error(null!=e?e:"Unexpected invariant triggered.")}(0),t.prototype.inspect=e,n&&(t.prototype[n]=e)}function u(t){return null!=t&&"string"==typeof t.kind}s(function(){function t(t,e,r){this.start=t.start,this.end=e.end,this.startToken=t,this.endToken=e,this.source=r}return t.prototype.toJSON=function(){return{start:this.start,end:this.end}},t}()),s(function(){function t(t,e,r,n,i,o,a){this.kind=t,this.start=e,this.end=r,this.line=n,this.column=i,this.value=a,this.prev=o,this.next=null}return t.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},t}());var c={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},l=Object.freeze({});function h(t,e,r){var n=t[e];if(n){if(!r&&"function"==typeof n)return n;var i=r?n.leave:n.enter;if("function"==typeof i)return i}else{var o=r?t.leave:t.enter;if(o){if("function"==typeof o)return o;var a=o[e];if("function"==typeof a)return a}}}function f(t){return function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,n=void 0,i=Array.isArray(t),a=[t],s=-1,f=[],d=void 0,p=void 0,m=void 0,y=[],g=[],v=t;do{var b=++s===a.length,_=b&&0!==f.length;if(b){if(p=0===g.length?void 0:y[y.length-1],d=m,m=g.pop(),_){if(i)d=d.slice();else{for(var w={},A=0,E=Object.keys(d);A<E.length;A++){var M=E[A];w[M]=d[M]}d=w}for(var S=0,T=0;T<f.length;T++){var R=f[T][0],O=f[T][1];i&&(R-=S),i&&null===O?(d.splice(R,1),S++):d[R]=O}}s=n.index,a=n.keys,f=n.edits,i=n.inArray,n=n.prev}else{if(p=m?i?s:a[s]:void 0,null==(d=m?m[p]:v))continue;m&&y.push(p)}var k,C=void 0;if(!Array.isArray(d)){if(!u(d))throw new Error("Invalid AST Node: ".concat(o(d),"."));var I=h(e,d.kind,b);if(I){if((C=I.call(e,d,p,m,y,g))===l)break;if(!1===C){if(!b){y.pop();continue}}else if(void 0!==C&&(f.push([p,C]),!b)){if(!u(C)){y.pop();continue}d=C}}}if(void 0===C&&_&&f.push([p,d]),b)y.pop();else n={inArray:i,index:s,keys:a,edits:f,prev:n},a=(i=Array.isArray(d))?d:null!==(k=r[d.kind])&&void 0!==k?k:[],s=-1,f=[],m&&g.push(m),m=d}while(void 0!==n);return 0!==f.length&&(v=f[f.length-1][1]),v}(t,{leave:d})}var d={Name:function(t){return t.value},Variable:function(t){return"$"+t.name},Document:function(t){return m(t.definitions,"\n\n")+"\n"},OperationDefinition:function(t){var e=t.operation,r=t.name,n=g("(",m(t.variableDefinitions,", "),")"),i=m(t.directives," "),o=t.selectionSet;return r||i||n||"query"!==e?m([e,m([r,n]),i,o]," "):o},VariableDefinition:function(t){var e=t.variable,r=t.type,n=t.defaultValue,i=t.directives;return e+": "+r+g(" = ",n)+g(" ",m(i," "))},SelectionSet:function(t){return y(t.selections)},Field:function(t){var e=t.alias,r=t.name,n=t.arguments,i=t.directives,o=t.selectionSet,a=g("",e,": ")+r,s=a+g("(",m(n,", "),")");return s.length>80&&(s=a+g("(\n",v(m(n,"\n")),"\n)")),m([s,m(i," "),o]," ")},Argument:function(t){return t.name+": "+t.value},FragmentSpread:function(t){return"..."+t.name+g(" ",m(t.directives," "))},InlineFragment:function(t){var e=t.typeCondition,r=t.directives,n=t.selectionSet;return m(["...",g("on ",e),m(r," "),n]," ")},FragmentDefinition:function(t){var e=t.name,r=t.typeCondition,n=t.variableDefinitions,i=t.directives,o=t.selectionSet;return"fragment ".concat(e).concat(g("(",m(n,", "),")")," ")+"on ".concat(r," ").concat(g("",m(i," ")," "))+o},IntValue:function(t){return t.value},FloatValue:function(t){return t.value},StringValue:function(t,e){var r=t.value;return t.block?function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=-1===t.indexOf("\n"),i=" "===t[0]||"\t"===t[0],o='"'===t[t.length-1],a="\\"===t[t.length-1],s=!n||o||a||r,u="";return!s||n&&i||(u+="\n"+e),u+=e?t.replace(/\n/g,"\n"+e):t,s&&(u+="\n"),'"""'+u.replace(/"""/g,'\\"""')+'"""'}(r,"description"===e?"":"  "):JSON.stringify(r)},BooleanValue:function(t){return t.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(t){return t.value},ListValue:function(t){return"["+m(t.values,", ")+"]"},ObjectValue:function(t){return"{"+m(t.fields,", ")+"}"},ObjectField:function(t){return t.name+": "+t.value},Directive:function(t){return"@"+t.name+g("(",m(t.arguments,", "),")")},NamedType:function(t){return t.name},ListType:function(t){return"["+t.type+"]"},NonNullType:function(t){return t.type+"!"},SchemaDefinition:p((function(t){var e=t.directives,r=t.operationTypes;return m(["schema",m(e," "),y(r)]," ")})),OperationTypeDefinition:function(t){return t.operation+": "+t.type},ScalarTypeDefinition:p((function(t){return m(["scalar",t.name,m(t.directives," ")]," ")})),ObjectTypeDefinition:p((function(t){var e=t.name,r=t.interfaces,n=t.directives,i=t.fields;return m(["type",e,g("implements ",m(r," & ")),m(n," "),y(i)]," ")})),FieldDefinition:p((function(t){var e=t.name,r=t.arguments,n=t.type,i=t.directives;return e+(_(r)?g("(\n",v(m(r,"\n")),"\n)"):g("(",m(r,", "),")"))+": "+n+g(" ",m(i," "))})),InputValueDefinition:p((function(t){var e=t.name,r=t.type,n=t.defaultValue,i=t.directives;return m([e+": "+r,g("= ",n),m(i," ")]," ")})),InterfaceTypeDefinition:p((function(t){var e=t.name,r=t.interfaces,n=t.directives,i=t.fields;return m(["interface",e,g("implements ",m(r," & ")),m(n," "),y(i)]," ")})),UnionTypeDefinition:p((function(t){var e=t.name,r=t.directives,n=t.types;return m(["union",e,m(r," "),n&&0!==n.length?"= "+m(n," | "):""]," ")})),EnumTypeDefinition:p((function(t){var e=t.name,r=t.directives,n=t.values;return m(["enum",e,m(r," "),y(n)]," ")})),EnumValueDefinition:p((function(t){return m([t.name,m(t.directives," ")]," ")})),InputObjectTypeDefinition:p((function(t){var e=t.name,r=t.directives,n=t.fields;return m(["input",e,m(r," "),y(n)]," ")})),DirectiveDefinition:p((function(t){var e=t.name,r=t.arguments,n=t.repeatable,i=t.locations;return"directive @"+e+(_(r)?g("(\n",v(m(r,"\n")),"\n)"):g("(",m(r,", "),")"))+(n?" repeatable":"")+" on "+m(i," | ")})),SchemaExtension:function(t){var e=t.directives,r=t.operationTypes;return m(["extend schema",m(e," "),y(r)]," ")},ScalarTypeExtension:function(t){return m(["extend scalar",t.name,m(t.directives," ")]," ")},ObjectTypeExtension:function(t){var e=t.name,r=t.interfaces,n=t.directives,i=t.fields;return m(["extend type",e,g("implements ",m(r," & ")),m(n," "),y(i)]," ")},InterfaceTypeExtension:function(t){var e=t.name,r=t.interfaces,n=t.directives,i=t.fields;return m(["extend interface",e,g("implements ",m(r," & ")),m(n," "),y(i)]," ")},UnionTypeExtension:function(t){var e=t.name,r=t.directives,n=t.types;return m(["extend union",e,m(r," "),n&&0!==n.length?"= "+m(n," | "):""]," ")},EnumTypeExtension:function(t){var e=t.name,r=t.directives,n=t.values;return m(["extend enum",e,m(r," "),y(n)]," ")},InputObjectTypeExtension:function(t){var e=t.name,r=t.directives,n=t.fields;return m(["extend input",e,m(r," "),y(n)]," ")}};function p(t){return function(e){return m([e.description,t(e)],"\n")}}function m(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(e=null==t?void 0:t.filter((function(t){return t})).join(r))&&void 0!==e?e:""}function y(t){return g("{\n",v(m(t,"\n")),"\n}")}function g(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return null!=e&&""!==e?t+e+r:""}function v(t){return g("  ",t.replace(/\n/g,"\n  "))}function b(t){return-1!==t.indexOf("\n")}function _(t){return null!=t&&t.some(b)}},function(t,e,r){"use strict";r.r(e);var n=r(11),i=r(1),o=r(3),a=r(13),s=function(t){function e(r,n){var i=t.call(this,u(r),"Firebase Storage: "+n+" ("+u(r)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Object(i.c)(e,t),e.prototype._codeEquals=function(t){return u(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(o.c);function u(t){return"storage/"+t}function c(){return new s("unknown","An unknown error occurred, please check the error payload for server response.")}function l(){return new s("canceled","User canceled the upload/download.")}function h(){return new s("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function f(t){return new s("invalid-argument",t)}function d(){return new s("app-deleted","The Firebase app was deleted.")}function p(t){return new s("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function m(t,e){return new s("invalid-format","String does not match format '"+t+"': "+e)}function y(t){throw new s("internal-error","Internal error: "+t)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var g={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},v=function(t,e){this.data=t,this.contentType=e||null};function b(t,e){switch(t){case g.RAW:return new v(_(e));case g.BASE64:case g.BASE64URL:return new v(w(t,e));case g.DATA_URL:return new v((r=new A(e)).base64?w(g.BASE64,r.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw m(g.DATA_URL,"Malformed data URL.")}return _(e)}(r.rest),function(t){return new A(t).contentType}(e))}var r;throw c()}function _(t){for(var e=[],r=0;r<t.length;r++){var n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|63&n);else if(55296==(64512&n))if(r<t.length-1&&56320==(64512&t.charCodeAt(r+1)))n=65536|(1023&n)<<10|1023&t.charCodeAt(++r),e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|63&n);else e.push(239,191,189);else 56320==(64512&n)?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|63&n)}return new Uint8Array(e)}function w(t,e){switch(t){case g.BASE64:var r=-1!==e.indexOf("-"),n=-1!==e.indexOf("_");if(r||n)throw m(t,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break;case g.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw m(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(e){throw m(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var A=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw m(g.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=e[1]||null;null!=r&&(this.base64=(n=r,i=";base64",n.length>=i.length&&n.substring(n.length-i.length)===i),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1);var n,i;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */};var E,M={STATE_CHANGED:"state_changed"},S={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function T(t){switch(t){case"running":case"pausing":case"canceling":return S.RUNNING;case"paused":return S.PAUSED;case"success":return S.SUCCESS;case"canceled":return S.CANCELED;case"error":default:return S.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(E||(E={}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var R=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=E.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=E.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=E.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return t.prototype.send=function(t,e,r,n){if(this.sent_)throw y("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==n)for(var i in n)n.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,n[i].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw y("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw y("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw y("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var O=function(){function t(){}return t.prototype.createConnection=function(){return new R},t}(),k=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,r){var n;try{n=t.makeFromUrl(e,r)}catch(r){return new t(e,"")}if(""===n.path)return n;throw new s("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,r){var n=null;var i=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var a=r.replace(/[.]/g,"\\."),u=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://"+("firebasestorage.googleapis.com"===r?"(?:storage.googleapis.com|storage.cloud.google.com)":r)+"/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(e);if(h){var f=h[l.indices.bucket],d=h[l.indices.path];d||(d=""),n=new t(f,d),l.postModify(n);break}}if(null==n)throw function(t){return new s("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}(),C=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I(t){return"string"==typeof t||t instanceof String}function x(t){return N()&&t instanceof Blob}function N(){return"undefined"!=typeof Blob}function P(t,e,r,n){if(n<e)throw f("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(n>r)throw f("Invalid value for '"+t+"'. Expected "+r+" or less.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(t,e){var r=e.match(/^(\w+):\/\/.+/),n=e;return null==(null==r?void 0:r[1])&&(n="https://"+e),n+"/v0"+t}function j(t){var e=encodeURIComponent,r="?";for(var n in t){if(t.hasOwnProperty(n))r=r+(e(n)+"="+e(t[n]))+"&"}return r=r.slice(0,-1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L=function(){function t(t,e,r,n,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=r,this.body_=n,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,r){var n,i=t.resolve_,o=t.reject_,a=r.connection;if(r.wasSuccessCode)try{var u=t.callback_(a,a.getResponseText());void 0!==u?i(u):i()}catch(t){o(t)}else null!==a?((n=c()).serverResponse=a.getResponseText(),t.errorCallback_?o(t.errorCallback_(a,n)):o(n)):r.canceled?o(n=t.appDelete_?d():l()):o(n=new s("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new D(!1,null,!0)):this.backoffId_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,r){var n=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];c||(c=!0,e.apply(null,t))}function h(e){o=setTimeout((function(){o=null,t(f,u())}),e)}function f(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(!c)if(t)l.call.apply(l,Object(i.f)([null,t],e));else{var o,f=u()||a;if(f)l.call.apply(l,Object(i.f)([null,t],e));else n<64&&(n*=2),1===s?(s=2,o=0):o=1e3*(n+Math.random()),h(o)}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(s=2),clearTimeout(o),h(0)):t||(s=1)))}return h(0),setTimeout((function(){a=!0,p(!0)}),r),p}((function(e,r){if(r)e(!1,new D(!1,null,!0));else{var n=t.pool_.createConnection();t.pendingConnection_=n,null!==t.progressCallback_&&n.addUploadProgressListener(i),n.send(t.url_,t.method_,t.body_,t.headers_).then((function(){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingConnection_=null;var r=n.getErrorCode()===E.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new D(a,n))}else{var s=n.getErrorCode()===E.ABORT;e(!1,new D(!1,null,s))}}))}function i(e){var r=e.loaded,n=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(r,n)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),n=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||n},t}(),D=function(t,e,r){this.wasSuccessCode=t,this.connection=e,this.canceled=!!r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function B(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function F(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=B();if(void 0!==r){for(var n=new r,i=0;i<t.length;i++)n.append(t[i]);return n.getBlob()}if(N())return new Blob(t);throw new s("unsupported-environment","This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var K=function(){function t(t,e){var r=0,n="";x(t)?(this.data_=t,r=t.size,n=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=n}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,r){if(x(this.data_)){var n=function(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}(this.data_,e,r);return null===n?null:new t(n)}return new t(new Uint8Array(this.data_.buffer,e,r-e),!0)},t.getBlob=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(N()){var n=e.map((function(e){return e instanceof t?e.data_:e}));return new t(F.apply(null,n))}var i=e.map((function(t){return I(t)?b(g.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H(t){var e,r;try{e=JSON.parse(t)}catch(t){return null}return"object"!=typeof(r=e)||Array.isArray(r)?null:e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(t,e){return e}var z=function(t,e,r,n){this.server=t,this.local=e||t,this.writable=!!r,this.xform=n||W},V=null;function G(){if(V)return V;var t=[];t.push(new z("bucket")),t.push(new z("generation")),t.push(new z("metageneration")),t.push(new z("name","fullPath",!0));var e=new z("name");e.xform=function(t,e){return function(t){return!I(t)||t.length<2?t:q(t)}(e)},t.push(e);var r=new z("size");return r.xform=function(t,e){return void 0!==e?Number(e):e},t.push(r),t.push(new z("timeCreated")),t.push(new z("updated")),t.push(new z("md5Hash",null,!0)),t.push(new z("cacheControl",null,!0)),t.push(new z("contentDisposition",null,!0)),t.push(new z("contentEncoding",null,!0)),t.push(new z("contentLanguage",null,!0)),t.push(new z("contentType",null,!0)),t.push(new z("metadata","customMetadata",!0)),V=t}function Y(t,e,r){for(var n={type:"file"},i=r.length,o=0;o<i;o++){var a=r[o];n[a.local]=a.xform(n,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var r=t.bucket,n=t.fullPath,i=new k(r,n);return e._makeStorageReference(i)}})}(n,t),n}function J(t,e,r){var n=H(e);return null===n?null:Y(t,n,r)}function X(t,e){for(var r={},n=e.length,i=0;i<n;i++){var o=e[i];o.writable&&(r[o.server]=t[o.local])}return JSON.stringify(r)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t,e,r){var n=H(r);return null===n?null:function(t,e,r){var n={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r.prefixes)for(var i=0,o=r.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t._makeStorageReference(new k(e,a));n.prefixes.push(s)}if(r.items)for(var u=0,c=r.items;u<c.length;u++){var l=c[u];s=t._makeStorageReference(new k(e,l.name));n.items.push(s)}return n}(t,e,n)}var $=function(t,e,r,n){this.url=t,this.method=e,this.handler=r,this.timeout=n,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t){if(!t)throw c()}function tt(t,e){return function(r,n){var i=J(t,n,e);return Q(null!==i),i}}function et(t,e){return function(r,n){var i=J(t,n,e);return Q(null!==i),function(t,e,r){var n=H(e);if(null===n)return null;if(!I(n.downloadTokens))return null;var i=n.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(e){var n=t.bucket,i=t.fullPath;return U("/b/"+o(n)+"/o/"+o(i),r)+j({alt:"media",token:e})}))[0]}(i,n,t.host)}}function rt(t){return function(e,r){var n,i,o;return 401===e.getStatus()?n=e.getResponseText().includes("Firebase App Check token is invalid")?new s("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new s("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,n=new s("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,n=new s("unauthorized","User does not have permission to access '"+i+"'.")):n=r,n.serverResponse=r.serverResponse,n}}function nt(t){var e=rt(t);return function(r,n){var i,o=e(r,n);return 404===r.getStatus()&&(i=t.path,o=new s("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=n.serverResponse,o}}function it(t,e,r){var n=U(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new $(n,"GET",tt(t,r),i);return o.errorHandler=nt(e),o}function ot(t,e,r,n,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",r&&r.length>0&&(o.delimiter=r),n&&(o.pageToken=n),i&&(o.maxResults=i);var a=U(e.bucketOnlyServerUrl(),t.host),s=t.maxOperationRetryTime,u=new $(a,"GET",function(t,e){return function(r,n){var i=Z(t,e,n);return Q(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=rt(e),u}function at(t,e,r){var n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),n}var st=function(t,e,r,n){this.current=t,this.total=e,this.finalized=!!r,this.metadata=n||null};function ut(t,e){var r=null;try{r=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){Q(!1)}return Q(!!r&&-1!==(e||["active"]).indexOf(r)),r}function ct(t,e,r,n,i,o,a,u){var c=new st(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=n.size()),n.size()!==c.total)throw new s("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=c.total-c.current,f=l;i>0&&(f=Math.min(f,i));var d=c.current,p=d+f,m={"X-Goog-Upload-Command":f===l?"upload, finalize":"upload","X-Goog-Upload-Offset":""+c.current},y=n.slice(d,p);if(null===y)throw h();var g=e.maxUploadRetryTime,v=new $(r,"POST",(function(t,r){var i,a=ut(t,["active","final"]),s=c.current+f,u=n.size();return i="final"===a?tt(e,o)(t,r):null,new st(s,u,"final"===a,i)}),g);return v.headers=m,v.body=y.uploadData(),v.progressCallback=u||null,v.errorHandler=rt(t),v}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lt=function(t,e,r){if("function"==typeof t||null!=e||null!=r)this.next=t,this.error=e,this.complete=r;else{var n=t;this.next=n.next,this.error=n.error,this.complete=n.complete}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft=function(){function t(t,e,r){var n=this;void 0===r&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=r,this._mappings=G(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){n._request=void 0,n._chunkMultiplier=1,t._codeEquals("canceled")?(n._needToFetchStatus=!0,n.completeTransitions_()):(n._error=t,n._transition("error"))},this._metadataErrorHandler=function(t){n._request=void 0,t._codeEquals("canceled")?n.completeTransitions_():(n._error=t,n._transition("error"))},this._promise=new Promise((function(t,e){n._resolve=t,n._reject=e,n._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(r){return t._updateProgress(e+r)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(r){var n=r[0],i=r[1];switch(e._state){case"running":t(n,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,r){var n=function(t,e,r,n,i){var o=e.bucketOnlyServerUrl(),a=at(e,n,i),s={name:a.fullPath},u=U(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+n.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=X(a,r),h=t.maxUploadRetryTime,f=new $(u,"POST",(function(t){var e;ut(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){Q(!1)}return Q(I(e)),e}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=rt(e),f}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(n,e,r);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(r,n){var i=function(t,e,r,n){var i=t.maxUploadRetryTime,o=new $(r,"POST",(function(t){var e=ut(t,["active","final"]),r=null;try{r=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){Q(!1)}r||Q(!1);var i=Number(r);return Q(!isNaN(i)),new st(i,n.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=rt(e),o}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,r,n);t._request=o,o.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,r=new st(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=ct(t._ref._location,t._ref.storage,n,t._blob,e,t._mappings,r,t._makeProgressCallback())}catch(e){return t._error=e,void t._transition("error")}var s=t._ref.storage._makeRequest(a,i,o);t._request=s,s.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,r){var n=it(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(n,e,r);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,r){var n=function(t,e,r,n,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=at(e,n,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+X(u,r)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=K.getBlob(c,n,l);if(null===f)throw h();var d={name:u.fullPath},p=U(o,t.host),m=t.maxUploadRetryTime,y=new $(p,"POST",tt(t,r),m);return y.urlParams=d,y.headers=a,y.body=f.uploadData(),y.errorHandler=rt(e),y}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(n,e,r);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=l(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=T(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,r,n){var i=this,o=new lt(e,r,n);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(T(this._state)){case S.SUCCESS:ht(this._resolve.bind(null,this.snapshot))();break;case S.CANCELED:case S.ERROR:ht(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(T(this._state)){case S.RUNNING:case S.PAUSED:t.next&&ht(t.next.bind(t,this.snapshot))();break;case S.SUCCESS:t.complete&&ht(t.complete.bind(t))();break;case S.CANCELED:case S.ERROR:t.error&&ht(t.error.bind(t,this._error))();break;default:t.error&&ht(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),dt=function(){function t(t,e){this._service=t,this._location=e instanceof k?e:k.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,r){return new t(e,r)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new k(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return q(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var r=new k(this._location.bucket,e);return new t(this._service,r)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw p(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t){var e={prefixes:[],items:[]};return function t(e,r,n){return Object(i.b)(this,void 0,void 0,(function(){var o,a,s;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,mt(e,{pageToken:n})];case 1:return o=i.sent(),(a=r.prefixes).push.apply(a,o.prefixes),(s=r.items).push.apply(s,o.items),null==o.nextPageToken?[3,3]:[4,t(e,r,o.nextPageToken)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e).then((function(){return e}))}function mt(t,e){return Object(i.b)(this,void 0,void 0,(function(){var r,n;return Object(i.d)(this,(function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&P("options.maxResults",1,1e3,e.maxResults),r=e||{},n=ot(t.storage,t._location,"/",r.pageToken,r.maxResults),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}}))}))}function yt(t,e){return Object(i.b)(this,void 0,void 0,(function(){var r;return Object(i.d)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("updateMetadata"),r=function(t,e,r,n){var i=U(e.fullServerUrl(),t.host),o=X(r,n),a=t.maxOperationRetryTime,s=new $(i,"PATCH",tt(t,n),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=nt(e),s}(t.storage,t._location,e,G()),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,n.sent().getPromise()]}}))}))}function gt(t){return Object(i.b)(this,void 0,void 0,(function(){var e;return Object(i.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,r){var n=U(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new $(n,"GET",et(t,r),i);return o.errorHandler=nt(e),o}(t.storage,t._location,G()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,r.sent().getPromise().then((function(t){if(null===t)throw new s("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}function vt(t){return Object(i.b)(this,void 0,void 0,(function(){var e;return Object(i.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var r=U(e.fullServerUrl(),t.host),n=t.maxOperationRetryTime,i=new $(r,"DELETE",(function(t,e){}),n);return i.successCodes=[200,204],i.errorHandler=nt(e),i}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,r.sent().getPromise()]}}))}))}function bt(t,e){var r=function(t,e){var r=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?r:t+"/"+r}(t._location.path,e),n=new k(t._location.bucket,r);return new dt(t.storage,n)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t){return/^[A-Za-z]+:\/\//.test(t)}function wt(t,e){if(t instanceof Mt){var r=t;if(null==r._bucket)throw new s("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var n=new dt(r,r._bucket);return null!=e?wt(n,e):n}return void 0!==e?bt(t,e):t}function At(t,e){if(e&&_t(e)){if(t instanceof Mt)return new dt(t,e);throw f("To use ref(service, url), the first argument must be a Storage instance.")}return wt(t,e)}function Et(t,e){var r=null==e?void 0:e.storageBucket;return null==r?null:k.makeFromBucketSpec(r,t)}var Mt=function(){function t(t,e,r,n,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=r,this._pool=n,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host="firebasestorage.googleapis.com",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?k.makeFromBucketSpec(i,this._host):Et(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,null!=this._url?this._bucket=k.makeFromBucketSpec(this._url,t):this._bucket=Et(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){P("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){P("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(i.b)(this,void 0,void 0,(function(){var t,e;return Object(i.d)(this,(function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=r.sent()))return[2,e.accessToken];r.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return Object(i.b)(this,void 0,void 0,(function(){var t;return Object(i.d)(this,(function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new dt(this,t)},t.prototype._makeRequest=function(t,e,r){var n=this;if(this._deleted)return new C(d());var i=function(t,e,r,n,i,o){var a=j(t.urlParams),s=t.url+a,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,r),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,n),new L(s,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,r,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return n._requests.delete(i)}),(function(){return n._requests.delete(i)})),i},t.prototype.makeRequestWithTokens=function(t){return Object(i.b)(this,void 0,void 0,(function(){var e,r,n;return Object(i.d)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=i.sent(),r=e[0],n=e[1],[2,this._makeRequest(t,r,n)]}}))}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t,e,r){return function(t,e,r){return t._throwIfRoot("uploadBytesResumable"),new ft(t,new K(e),r)}(t=Object(o.i)(t),e,r)}function Tt(t){return function(t){return Object(i.b)(this,void 0,void 0,(function(){var e;return Object(i.d)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),e=it(t.storage,t._location,G()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,r.sent().getPromise()]}}))}))}(t=Object(o.i)(t))}function Rt(t,e){return At(t=Object(o.i)(t),e)}function Ot(t,e,r,n){void 0===n&&(n={}),function(t,e,r,n){void 0===n&&(n={}),t.host="http://"+e+":"+r;var i=n.mockUserToken;i&&(t._overrideAuthToken="string"==typeof i?i:Object(o.e)(i,t.app.options.projectId))}(t,e,r,n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,Ct,It=function(){function t(t,e,r){this._delegate=t,this.task=e,this.ref=r}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),xt=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new It(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var r=this;return this._delegate.then((function(e){if(t)return t(new It(e,r,r._ref))}),e)},t.prototype.on=function(t,e,r,n){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new It(t,i,i._ref))}:{next:e.next?function(t){return e.next(new It(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,r||void 0,n||void 0)},t}(),Nt=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new Pt(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new Pt(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Pt=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return bt(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new xt(St(this._delegate,t,e),this)},t.prototype.putString=function(t,e,r){void 0===e&&(e=g.RAW),this._throwIfRoot("putString");var n=b(e,t),o=Object(i.a)({},r);return null==o.contentType&&null!=n.contentType&&(o.contentType=n.contentType),new xt(new ft(this._delegate,new K(n.data,!0),o),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,pt(t=Object(o.i)(t))).then((function(t){return new Nt(t,e.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return mt(t=Object(o.i)(t),e)}(this._delegate,t||void 0).then((function(t){return new Nt(t,e.storage)}))},t.prototype.getMetadata=function(){return Tt(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return yt(t=Object(o.i)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,gt(t=Object(o.i)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,vt(t=Object(o.i)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw p(t)},t}(),Ut=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(_t(t))throw f("ref() expected a child path but got a URL, use refFromURL instead.");return new Pt(Rt(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!_t(t))throw f("refFromURL() expected a full URL but got a child path, use ref() instead.");try{k.makeFromUrl(t,this._delegate.host)}catch(t){throw f("refFromUrl() expected a valid full URL but got an invalid one.")}return new Pt(Rt(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e,r){void 0===r&&(r={}),Ot(this._delegate,t,e,r)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(t,e){var r=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Ut(i,new Mt(i,o,a,new O,r,n.a.SDK_VERSION))}kt=n.a,Ct={TaskState:S,TaskEvent:M,StringFormat:g,Storage:Mt,Reference:Pt},kt.INTERNAL.registerComponent(new a.a("storage",jt,"PUBLIC").setServiceProps(Ct).setMultipleInstances(!0)),kt.registerVersion("@firebase/storage","0.7.1")}]);